("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.core.min",["jquery"],function(){return function(v,m,U){function e(){}function c(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=e.charAt(0),n=e.substring(1);return"="===i?"+("+n+")+":":"===i?"+$kendoHtmlEncode("+n+")+":";"+e+";$kendoOutput+="}function _(e,t,i){return(i=(t=t||2)-(e+="").length)?D[t].substring(0,i)+e:e}function t(e){var t=1,i=arguments.length;for(t=1;t<i;t++)u(e,arguments[t]);return e}function u(e,t){var i,n,r,a,o,s=ne.data.ObservableArray,l=ne.data.LazyObservableArray,d=ne.data.DataSource,c=ne.data.HierarchicalDataSource;for(i in t)n=t[i],(a=(r=typeof n)===be&&null!==n?n.constructor:null)&&a!==Array&&a!==s&&a!==l&&a!==d&&a!==c&&a!==RegExp?n instanceof Date?e[i]=new Date(n.getTime()):h(n.clone)?e[i]=n.clone():(o=e[i],e[i]=typeof o===be&&o||{},u(e[i],n)):r!==we&&(e[i]=n);return e}function p(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return i!==U?i:e}function r(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function i(e,t){var i,n={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(e,""),t&&v.each(t,function(e,t){n[t]=i.getPropertyValue(t)})):(i=e.currentStyle,t&&v.each(t,function(e,t){n[t]=i[r(t)]})),ne.size(n)||(n=i),n}function a(e,r,a,o,s){for(var l,t=0,i=e.length;t<i;t++)(l=v(e[t])).queue(function(){var e,t,i,n;H.promise(l,(t=a,i=o,n=s,typeof(e=r)===_e&&(h(t)&&(n=t,i=!(t=400)),h(i)&&(n=i,i=!1),typeof t===ke&&(i=t,t=400),e={effects:e,duration:t,reverse:i,complete:n}),re({effects:{},duration:400,reverse:!1,init:le,teardown:le,hide:!1},e,{completeCallback:e.complete,complete:le})))});return e}function b(e,t){var i;return 0===t.indexOf("data")&&(t=(t=t.substring(4)).charAt(0).toLowerCase()+t.substring(1)),t=t.replace(j,"-$1"),null===(i=e.getAttribute("data-"+ne.ns+t))?i=U:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:ge.test(i)&&"mask"!=t?i=parseFloat(i):q.test(i)&&!W.test(i)&&(i=Function("return ("+i+")")()),i}function y(e,t){var i,n,r={};for(i in t)(n=b(e,i))!==U&&(B.test(i)&&(n="string"==typeof n?ne.template(v("#"+n).html()):e.getAttribute(i)),r[i]=n);return r}function o(e,t){return v.contains(e,t)?-1:1}function s(){var e=v(this);return-1<v.inArray(e.attr("data-"+ne.ns+"role"),["slider","rangeslider"])||e.is(":visible")}function n(e,t){var i,n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&(i=e,v.expr.filters.visible(i)&&!v(i).parents().addBack().filter(function(){return"hidden"===v.css(this,"visibility")}).length)}function l(e,t){return new l.fn.init(e,t)}var d,h,f,g,k,w,x,S,C,T,I,D,F,H,E,M,z,P,A,O,R,L,V,N,B,q,W,j,G,$,K,Y,J,Q,X,Z,ee,te,ie,ne=m.kendo=m.kendo||{cultures:{}},re=v.extend,ae=v.each,oe=v.isArray,se=v.proxy,le=v.noop,de=Math,ce=m.JSON||{},ue={},he=/%/,pe=/\{(\d+)(:[^\}]+)?\}/g,fe=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,ge=/^(\+|-?)\d+(\.?)\d*$/,me="function",_e="string",ve="number",be="object",ye="null",ke="boolean",we="undefined",xe={},Se={},Ce=[].slice;ne.version="2018.1.221".replace(/^\s+|\s+$/g,""),e.extend=function(e){var t,i,n=function(){},r=this,a=e&&e.init?e.init:function(){r.apply(this,arguments)};for(t in n.prototype=r.prototype,i=a.fn=a.prototype=new n,e)i[t]=null!=e[t]&&e[t].constructor===Object?re(!0,{},n.prototype[t],e[t]):e[t];return(i.constructor=a).extend=r.extend,a},e.prototype._initOptions=function(e){this.options=t({},this.options,e)},h=ne.isFunction=function(e){return"function"==typeof e},f=function(){this._defaultPrevented=!0},g=function(){return!0===this._defaultPrevented},k=e.extend({init:function(){this._events={}},bind:function(e,t,i){var n,r,a,o,s=this,l=typeof e===_e?[e]:e,d=typeof t===me;if(t===U){for(n in e)s.bind(n,e[n]);return s}for(n=0,r=l.length;n<r;n++)e=l[n],(o=d?t:t[e])&&(i&&(a=o,(o=function(){s.unbind(e,o),a.apply(s,arguments)}).original=a),(s._events[e]=s._events[e]||[]).push(o));return s},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var i,n,r,a=typeof e===_e?[e]:e,o=typeof t===me;for(i=0,n=a.length;i<n;i++)e=a[i],(r=o?t:t[e])&&(this._events[e]=this._events[e]||[]).unshift(r);return this},trigger:function(e,t){var i,n,r=this._events[e];if(r){for((t=t||{}).sender=this,t._defaultPrevented=!1,t.preventDefault=f,t.isDefaultPrevented=g,r=r.slice(),i=0,n=r.length;i<n;i++)r[i].call(this,t);return!0===t._defaultPrevented}return!1},unbind:function(e,t){var i,n=this._events[e];if(e===U)this._events={};else if(n)if(t)for(i=n.length-1;0<=i;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}}),w=/^\w+/,x=/\$\{([^}]*)\}/g,S=/\\\}/g,C=/__CURLY__/g,T=/\\#/g,I=/__SHARP__/g,D=["","0","00","000","0000"],d={paramName:"data",useWithBlock:!0,render:function(e,t){var i,n,r="";for(i=0,n=t.length;i<n;i++)r+=e(t[i]);return r},compile:function(t,e){var i,n,r,a=re({},this,e),o=a.paramName,s=o.match(w)[0],l=a.useWithBlock,d="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(h(t))return t;for(d+=l?"with("+o+"){":"",d+="$kendoOutput=",n=t.replace(S,"__CURLY__").replace(x,"#=$kendoHtmlEncode($1)#").replace(C,"}").replace(T,"__SHARP__").split("#"),r=0;r<n.length;r++)d+=c(n[r],r%2==0);d+=l?";}":";",d=(d+="return $kendoOutput;").replace(I,"#");try{return(i=Function(s,d))._slotCount=Math.floor(n.length/2),i}catch(e){throw Error(ne.format("Invalid template:'{0}' Generated code:'{1}'",t,d))}}},function(){function u(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=i[e];return typeof t===_e?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}var h,p,f,t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g={}.toString;typeof Date.prototype.toJSON!==me&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?_(e.getUTCFullYear(),4)+"-"+_(e.getUTCMonth()+1)+"-"+_(e.getUTCDate())+"T"+_(e.getUTCHours())+":"+_(e.getUTCMinutes())+":"+_(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof ce.stringify!==me&&(ce.stringify=function(e,t,i){var n;if(p=h="",typeof i===ve)for(n=0;n<i;n+=1)p+=" ";else typeof i===_e&&(p=i);if((f=t)&&typeof t!==me&&(typeof t!==be||typeof t.length!==ve))throw Error("JSON.stringify");return function e(t,i){var n,r,a,o,s,l,d=h,c=i[t];if(c&&typeof c===be&&typeof c.toJSON===me&&(c=c.toJSON(t)),typeof f===me&&(c=f.call(i,t,c)),(l=typeof c)===_e)return u(c);if(l===ve)return isFinite(c)?c+"":ye;if(l===ke||l===ye)return c+"";if(l===be){if(!c)return ye;if(h+=p,s=[],"[object Array]"===g.apply(c)){for(o=c.length,n=0;n<o;n++)s[n]=e(n,c)||ye;return a=0===s.length?"[]":h?"[\n"+h+s.join(",\n"+h)+"\n"+d+"]":"["+s.join(",")+"]",h=d,a}if(f&&typeof f===be)for(o=f.length,n=0;n<o;n++)typeof f[n]===_e&&(r=f[n],(a=e(r,c))&&s.push(u(r)+(h?": ":":")+a));else for(r in c)Object.hasOwnProperty.call(c,r)&&(a=e(r,c))&&s.push(u(r)+(h?": ":":")+a);return a=0===s.length?"{}":h?"{\n"+h+s.join(",\n"+h)+"\n"+d+"}":"{"+s.join(",")+"}",h=d,a}}("",{"":e})})}(),function(){function n(e){if(e){if(e.numberFormat)return e;if(typeof e===_e){var t=ne.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function z(e){return e&&(e=n(e)),e||ne.cultures.current}var P,A,a,l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,O=/^(n|c|p|e)(\d*)$/i,R=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,L=/\,/g,V="",N=".",B=",",q="#",W="0",j="??",r="en-US",d={}.toString;ne.cultures["en-US"]={name:r,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},ne.culture=function(e){var t,i=ne.cultures;return e===U?i.current:((t=n(e)||i[r]).calendar=t.calendars.standard,i.current=t,U)},ne.findCulture=n,ne.getCulture=z,ne.culture(r),P=function(e,t,i,n){var r,a,o,s,l,d,c=e.indexOf(n[N]),u=n.groupSize.slice(),h=u.shift();if(i=-1!==c?c:i+1,r=e.substring(t,i),a=r.length,h<=a){for(o=a,s=[];-1<o;)if((l=r.substring(o-h,o))&&s.push(l),o-=h,d=u.shift(),0===(h=d!==U?d:h)){0<o&&s.push(r.substring(0,o));break}r=s.reverse().join(n[B]),e=e.substring(0,t)+r+e.substring(i)}return e},A=function(e,t){return t=t||0,e=(""+e).split("e"),(e=+((e=(""+(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))))).split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(Math.min(t,20))},a=function(e,t,i){if(t){if("[object Date]"===d.call(e))return r=e,n=t,a=z(i).calendars.standard,o=a.days,s=a.months,(n=a.patterns[n]||n).replace(l,function(e){var t,i,n;return"d"===e?i=r.getDate():"dd"===e?i=_(r.getDate()):"ddd"===e?i=o.namesAbbr[r.getDay()]:"dddd"===e?i=o.names[r.getDay()]:"M"===e?i=r.getMonth()+1:"MM"===e?i=_(r.getMonth()+1):"MMM"===e?i=s.namesAbbr[r.getMonth()]:"MMMM"===e?i=s.names[r.getMonth()]:"yy"===e?i=_(r.getFullYear()%100):"yyyy"===e?i=_(r.getFullYear(),4):"h"===e?i=r.getHours()%12||12:"hh"===e?i=_(r.getHours()%12||12):"H"===e?i=r.getHours():"HH"===e?i=_(r.getHours()):"m"===e?i=r.getMinutes():"mm"===e?i=_(r.getMinutes()):"s"===e?i=r.getSeconds():"ss"===e?i=_(r.getSeconds()):"f"===e?i=de.floor(r.getMilliseconds()/100):"ff"===e?(99<(i=r.getMilliseconds())&&(i=de.floor(i/10)),i=_(i)):"fff"===e?i=_(r.getMilliseconds(),3):"tt"===e?i=r.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===e?(t=r.getTimezoneOffset(),n=t<0,i=(""+de.abs(t/60)).split(".")[0],t=de.abs(t)-60*i,i=(n?"+":"-")+_(i),i+=":"+_(t)):"zz"!==e&&"z"!==e||(i=r.getTimezoneOffset()/60,n=i<0,i=(""+de.abs(i)).split(".")[0],i=(n?"+":"-")+("zz"===e?_(i):i)),i!==U?i:e.slice(1,e.length-1)});if(typeof e===ve)return function(e,t,i){var n,r,a,o,s,l,d,c,u,h,p,f,g,m,_,v,b,y,k,w,x,S=(i=z(i)).numberFormat,C=S[N],T=S.decimals,I=S.pattern[0],D=[],F=e<0,H=V,E=V,M=-1;if(e===U)return V;if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():""+e;if(s=O.exec(t)){if(t=s[1].toLowerCase(),a="p"===t,((r="c"===t)||a)&&(S=r?S.currency:S.percent,C=S[N],T=S.decimals,n=S.symbol,I=S.pattern[F?0:1]),(o=s[2])&&(T=+o),"e"===t)return o?e.toExponential(T):e.toExponential();if(a&&(e*=100),e=A(e,T),F=e<0,e=e.split(N),l=e[0],d=e[1],F&&(l=l.substring(1)),E=P(l,0,l.length,S),d&&(E+=C+d),"n"===t&&!F)return E;for(e=V,u=0,h=I.length;u<h;u++)p=I.charAt(u),e+="n"===p?E:"$"===p||"%"===p?n:p;return e}if(F&&(e=-e),(-1<t.indexOf("'")||-1<t.indexOf('"')||-1<t.indexOf("\\"))&&(t=t.replace(R,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return D.push(i),j})),t=t.split(";"),F&&t[1])t=t[1],g=!0;else if(0===e){if(-1==(t=t[2]||t[0]).indexOf(q)&&-1==t.indexOf(W))return t}else t=t[0];if(k=t.indexOf("%"),w=t.indexOf("$"),(a=-1!=k)&&(e*=100),(r=-1!=w)&&"\\"===t[w-1]&&(t=t.split("\\").join(""),r=!1),(r||a)&&(S=r?S.currency:S.percent,C=S[N],T=S.decimals,n=S.symbol),(f=-1<t.indexOf(B))&&(t=t.replace(L,V)),m=t.indexOf(N),h=t.length,-1!=m?(d=(d=(d=(""+e).split("e"))[1]?A(e,Math.abs(d[1])):d[0]).split(N)[1]||V,v=t.lastIndexOf(W)-m,_=t.lastIndexOf(q)-m,b=-1<v,y=-1<_,u=d.length,b||y||(t=t.substring(0,m)+t.substring(m+1),h=t.length,m=-1,u=0),b&&_<v?u=v:v<_&&(y&&_<u?u=_:b&&u<v&&(u=v)),-1<u&&(e=A(e,u))):e=A(e),_=t.indexOf(q),v=t.indexOf(W),M=-1==_&&-1!=v?v:-1!=_&&-1==v?_:v<_?v:_,_=t.lastIndexOf(q),v=t.lastIndexOf(W),x=-1==_&&-1!=v?v:-1!=_&&-1==v?_:v<_?_:v,M==h&&(x=M),-1!=M){for(E=(""+e).split(N),l=E[0],d=E[1]||V,c=l.length,d.length,F&&0<=-1*e&&(F=!1),e=t.substring(0,M),F&&!g&&(e+="-"),u=M;u<h;u++){if(p=t.charAt(u),-1==m){if(x-u<c){e+=l;break}}else if(-1!=v&&v<u&&(H=V),m-u<=c&&-1<m-u&&(e+=l,u=m),m===u){e+=(d?C:V)+d,u+=x-m+1;continue}p===W?(e+=p,H=p):p===q&&(e+=H)}if(f&&(e=P(e,M+(F&&!g?1:0),Math.max(x,c+M),S)),M<=x&&(e+=t.substring(x+1)),r||a){for(E=V,u=0,h=e.length;u<h;u++)p=e.charAt(u),E+="$"===p||"%"===p?n:p;e=E}if(h=D.length)for(u=0;u<h;u++)e=e.replace(j,D[u])}return e}(e,t,i)}var r,n,a,o,s;return e!==U?e:""},ne.format=function(e){var r=arguments;return e.replace(pe,function(e,t,i){var n=r[parseInt(t,10)+1];return a(n,i?i.substring(1):"")})},ne._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},ne._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},ne._round=A,ne._outerWidth=function(e,t){return v(e).outerWidth(t||!1)||0},ne._outerHeight=function(e,t){return v(e).outerHeight(t||!1)||0},ne.toString=a}(),function(){function O(e,t,i){return!(t<=e&&e<=i)}function t(e){return e.charAt(0)}function R(e){return v.map(e,t)}function n(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}function L(e){var t,i={};for(t in e)i[t]=n(e[t]);return i}function c(d,i,e,t){if(!d)return null;var n,r,a,o,s,l,c,u,h,p,f,g,m,_,v=function(e){for(var t=0;i[H]===e;)t++,H++;return 0<t&&(H-=1),t},b=function(e){var t=B[e]||RegExp("^\\d{1,"+e+"}"),i=d.substr(E,e).match(t);return i?(i=i[0],E+=i.length,parseInt(i,10)):null},y=function(e,t){for(var i,n,r,a=0,o=e.length,s=0,l=0;a<o;a++)i=e[a],n=i.length,r=d.substr(E,n),t&&(r=r.toLowerCase()),r==i&&s<n&&(s=n,l=a);return s?(E+=s,l+1):null},k=function(){var e=!1;return d.charAt(E)===i[H]&&(E++,e=!0),e},w=e.calendars.standard,x=null,S=null,C=null,T=null,I=null,D=null,F=null,H=0,E=0,M=!1,z=new Date,P=w.twoDigitYearMax||2029,A=z.getFullYear();for(i||(i="d"),(o=w.patterns[i])&&(i=o),i=i.split(""),a=i.length;H<a;H++)if(n=i[H],M)"'"===n?M=!1:k();else if("d"===n){if(r=v("d"),w._lowerDays||(w._lowerDays=L(w.days)),null!==C&&2<r)continue;if(null===(C=r<3?b(2):y(w._lowerDays[3==r?"namesAbbr":"names"],!0))||O(C,1,31))return null}else if("M"===n){if(r=v("M"),w._lowerMonths||(w._lowerMonths=L(w.months)),null===(S=r<3?b(2):y(w._lowerMonths[3==r?"namesAbbr":"names"],!0))||O(S,1,12))return null;S-=1}else if("y"===n){if(r=v("y"),null===(x=b(r)))return null;2==r&&("string"==typeof P&&(P=A+parseInt(P,10)),P<(x=A-A%100+x)&&(x-=100))}else if("h"===n){if(v("h"),12==(T=b(2))&&(T=0),null===T||O(T,0,11))return null}else if("H"===n){if(v("H"),null===(T=b(2))||O(T,0,23))return null}else if("m"===n){if(v("m"),null===(I=b(2))||O(I,0,59))return null}else if("s"===n){if(v("s"),null===(D=b(2))||O(D,0,59))return null}else if("f"===n){if(r=v("f"),m=d.substr(E,r).match(B[3]),null!==(F=b(r))&&(F=parseFloat("0."+m[0],10),F=ne._round(F,3),F*=1e3),null===F||O(F,0,999))return null}else if("t"===n){if(r=v("t"),u=w.AM,h=w.PM,1===r&&(u=R(u),h=R(h)),!(s=y(h))&&!y(u))return null}else if("z"===n){if(l=!0,r=v("z"),"Z"===d.substr(E,1)){k();continue}if(!(c=d.substr(E,6).match(2<r?N:V)))return null;if(c=c[0].split(":"),p=c[0],!(f=c[1])&&3<p.length&&(E=p.length-2,f=p.substring(E),p=p.substring(0,E)),O(p=parseInt(p,10),-12,13))return null;if(2<r&&(f=parseInt(f,10),isNaN(f)||O(f,0,59)))return null}else if("'"===n)M=!0,k();else if(!k())return null;return t&&!/^\s*$/.test(d.substr(E))?null:(g=null!==T||null!==I||D||null,null===x&&null===S&&null===C&&g?(x=A,S=z.getMonth(),C=z.getDate()):(null===x&&(x=A),null===C&&(C=1)),s&&T<12&&(T+=12),l?(p&&(T+=-p),f&&(I+=-f),d=new Date(Date.UTC(x,S,C,T,I,D,F))):(d=new Date(x,S,C,T,I,D,F),_=d,T||23!==_.getHours()||_.setHours(_.getHours()+2)),x<100&&d.setFullYear(x),d.getDate()!==C&&l===U?null:d)}function r(e,t,i,n){var r,a,o,s,l,d;if("[object Date]"===_.call(e))return e;if(r=0,a=null,e&&0===e.indexOf("/D")&&(a=p.exec(e)))return a=a[1],s=f.exec(a.substring(1)),a=new Date(parseInt(a,10)),s&&(l=s[0],d="-"===l.substr(0,1)?-1:1,l=l.substring(1),l=60*parseInt(l.substr(0,2),10)+parseInt(l.substring(2),10),s=d*l,a=ne.timezone.apply(a,0),a=ne.timezone.convert(a,0,-1*s)),a;for(i=ne.getCulture(i),t||(t=function(e){var t,i,n,r=de.max(g.length,m.length),a=e.calendar.patterns,o=[];for(n=0;n<r;n++){for(t=g[n],i=0;i<t.length;i++)o.push(a[t[i]]);o=o.concat(m[n])}return o}(i)),t=oe(t)?t:[t],o=t.length;r<o;r++)if(a=c(e,t[r],i,n))return a;return a}var u=/\u00A0/g,h=/[eE][\-+]?[0-9]+/,V=/[+|\-]\d{1,2}/,N=/[+|\-]\d{1,2}:?\d{2}/,p=/^\/Date\((.*?)\)\/$/,f=/[+-]\d*/,g=[[],["G","g","F"],["D","d","y","m","T","t"]],m=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],B={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},_={}.toString;ne.parseDate=function(e,t,i){return r(e,t,i,!1)},ne.parseExactDate=function(e,t,i){return r(e,t,i,!0)},ne.parseInt=function(e,t){var i=ne.parseFloat(e,t);return i&&(i|=0),i},ne.parseFloat=function(e,t,i){if(!e&&0!==e)return null;if(typeof e===ve)return e;e=""+e;var n,r,a=(t=ne.getCulture(t)).numberFormat,o=a.percent,s=a.currency,l=s.symbol,d=o.symbol,c=e.indexOf("-");return h.test(e)?(e=parseFloat(e.replace(a["."],".")),isNaN(e)&&(e=null),e):0<c?null:(c=-1<c,-1<e.indexOf(l)||i&&-1<i.toLowerCase().indexOf("c")?(n=(a=s).pattern[0].replace("$",l).split("n"),-1<e.indexOf(n[0])&&-1<e.indexOf(n[1])&&(e=e.replace(n[0],"").replace(n[1],""),c=!0)):-1<e.indexOf(d)&&(r=!0,a=o,l=d),e=e.replace("-","").replace(l,"").replace(u," ").split(a[","].replace(u," ")).join("").replace(a["."],"."),e=parseFloat(e),isNaN(e)?e=null:c&&(e*=-1),e&&r&&(e/=100),e)}}(),function(){var n,e,r,a,t,i,o,s,l,d,c,u,h;ue._scrollbar=U,ue.scrollbar=function(e){if(isNaN(ue._scrollbar)||e){var t,i=document.createElement("div");return i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),ue._scrollbar=t=i.offsetWidth-i.scrollWidth,document.body.removeChild(i),t}return ue._scrollbar},ue.isRtl=function(e){return 0<v(e).closest(".k-rtl").length},n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",ue.tbodyInnerHtml=!0}catch(e){ue.tbodyInnerHtml=!1}ue.touch="ontouchstart"in m,e=document.documentElement.style,r=ue.transitions=!1,a=ue.transforms=!1,t="HTMLElement"in m?HTMLElement.prototype:[],ue.hasHW3D="WebKitCSSMatrix"in m&&"m11"in new m.WebKitCSSMatrix||"MozPerspective"in e||"msPerspective"in e,ue.cssFlexbox="flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e,ae(["Moz","webkit","O","ms"],function(){var e,t=""+this,i=typeof n.style[t+"Transition"]===_e;if(i||typeof n.style[t+"Transform"]===_e)return e=t.toLowerCase(),a={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},i&&((r=a).event=r.event?r.event+"TransitionEnd":"transitionend"),!1}),n=null,ue.transforms=a,ue.transitions=r,ue.devicePixelRatio=m.devicePixelRatio===U?1:m.devicePixelRatio;try{ue.screenWidth=m.outerWidth||m.screen?m.screen.availWidth:m.innerWidth,ue.screenHeight=m.outerHeight||m.screen?m.screen.availHeight:m.innerHeight}catch(e){ue.screenWidth=m.screen.availWidth,ue.screenHeight=m.screen.availHeight}ue.detectOS=function(e){var t,i,n=!1,r=[],a=!/mobile safari/i.test(e),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},l={tablet:/playbook|ipad|fire/i},d={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in o)if(o.hasOwnProperty(i)&&(r=e.match(o[i]))){if("windows"==i&&"plugins"in navigator)return!1;(n={}).device=i,n.tablet=p(i,l,!1),n.browser=p(e,d,"default"),n.name=p(i,s),n[n.name]=!0,n.majorVersion=r[2],n.minorVersion=r[3].replace("_","."),t=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+t+Array(3-(t.length<3?t.length:2)).join("0"),n.cordova=typeof m.PhoneGap!==we||typeof m.cordova!==we,n.appMode=m.navigator.standalone||/file|local|wmapp/.test(m.location.protocol)||n.cordova,n.android&&(ue.devicePixelRatio<1.5&&n.flatVersion<400||a)&&(800<ue.screenWidth||800<ue.screenHeight)&&(n.tablet=i);break}return n},i=ue.mobileOS=ue.detectOS(navigator.userAgent),ue.wpDevicePixelRatio=i.wp?screen.width/320:0,ue.hasNativeScrolling=!1,(i.ios||i.android&&2<i.majorVersion||i.wp)&&(ue.hasNativeScrolling=i),ue.delayedClick=function(){if(ue.touch){if(i.ios)return!0;if(i.android)return!ue.browser.chrome||!(ue.browser.version<32)&&!(v("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},ue.mouseAndTouchPresent=ue.touch&&!(ue.mobileOS.ios||ue.mobileOS.android),ue.detectBrowser=function(e){var t,i=!1,n=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in r)if(r.hasOwnProperty(t)&&(n=e.match(r[t]))){(i={})[t]=!0,i[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,i.version=parseInt(document.documentMode||n[2],10);break}return i},ue.browser=ue.detectBrowser(navigator.userAgent),ue.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return ue.browser.chrome&&(e.paste=!1,43<=ue.browser.version&&(e.copy=!0,e.cut=!0)),e},ue.clipboard=ue.detectClipboardAccess(),ue.zoomLevel=function(){var e,t,i;try{return e=ue.browser,t=0,i=document.documentElement,e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!ue.touch&&(t=ue.scrollbar()),ue.touch?i.clientWidth/m.innerWidth:e.msie&&10<=e.version?((top||m).document.documentElement.offsetWidth+t)/(top||m).innerWidth:1}catch(e){return 1}},ue.cssBorderSpacing=U!==e.borderSpacing&&!(ue.browser.msie&&ue.browser.version<8),d=ue.browser,c="",u=v(document.documentElement),h=parseInt(d.version,10),d.msie?c="ie":d.mozilla?c="ff":d.safari?c="safari":d.webkit?c="webkit":d.opera?c="opera":d.edge&&(c="edge"),c&&(c="k-"+c+" k-"+c+h),ue.mobileOS&&(c+=" k-mobile"),ue.cssFlexbox||(c+=" k-no-flexbox"),u.addClass(c),ue.eventCapture=document.documentElement.addEventListener,o=document.createElement("input"),ue.placeholder="placeholder"in o,ue.propertyChangeEvent="onpropertychange"in o,ue.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],i=t.length,n={},r=0;r<i;r++)e=t[r],o.setAttribute("type",e),o.value="test",n[e.replace("-","")]="text"!==o.type&&"test"!==o.value;return n}(),o.style.cssText="float:left;",ue.cssFloat=!!o.style.cssFloat,o=null,ue.stableSort=function(){var e,t=[{index:0,field:"b"}];for(e=1;e<513;e++)t.push({index:e,field:"a"});return t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),1===t[0].index}(),ue.matchesSelector=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.matchesSelector||t.matches||function(e){for(var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:v(e),i=t.length;i--;)if(t[i]==this)return!0;return!1},ue.pushState=m.history&&m.history.pushState,s=document.documentMode,ue.hashChange="onhashchange"in m&&!(ue.browser.msie&&(!s||s<=8)),ue.customElements="registerElement"in m.document,l=ue.browser.chrome,ue.msPointers=!l&&m.MSPointerEvent,ue.pointers=!l&&m.PointerEvent,ue.kineticScrollNeeded=i&&(ue.touch||ue.msPointers||ue.pointers)}(),F={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},H={},v.extend(H,{enabled:!0,Element:function(e){this.element=v(e)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),H.promiseShim=H.promise,"kendoAnimate"in v.fn||re(v.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,n){return a(this,e,t,i,n)},kendoAddClass:function(e,t){return ne.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return ne.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,i){return ne.toggleClass(this,e,t,i)}}),E=/&/g,M=/</g,z=/"/g,P=/'/g,A=/>/g,O=function(e){return e.target},ue.touch&&(O=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},ae(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){v.fn[t]=function(e){return this.bind(t,e)}})),ue.touch?ue.mobileOS?(ue.mousedown="touchstart",ue.mouseup="touchend",ue.mousemove="touchmove",ue.mousecancel="touchcancel",ue.click="touchend",ue.resize="orientationchange"):(ue.mousedown="mousedown touchstart",ue.mouseup="mouseup touchend",ue.mousemove="mousemove touchmove",ue.mousecancel="mouseleave touchcancel",ue.click="click",ue.resize="resize"):ue.pointers?(ue.mousemove="pointermove",ue.mousedown="pointerdown",ue.mouseup="pointerup",ue.mousecancel="pointercancel",ue.click="pointerup",ue.resize="orientationchange resize"):ue.msPointers?(ue.mousemove="MSPointerMove",ue.mousedown="MSPointerDown",ue.mouseup="MSPointerUp",ue.mousecancel="MSPointerCancel",ue.click="MSPointerUp",ue.resize="orientationchange resize"):(ue.mousemove="mousemove",ue.mousedown="mousedown",ue.mouseup="mouseup",ue.mousecancel="mouseleave",ue.click="click",ue.resize="resize"),R=function(e,t){var i,n,r,a,o=t||"d",s=1;for(n=0,r=e.length;n<r;n++)""!==(a=e[n])&&(0!==(i=a.indexOf("["))&&(-1==i?a="."+a:(s++,a="."+a.substring(0,i)+" || {})"+a.substring(i))),s++,o+=a+(n<r-1?" || {})":")"));return Array(s).join("(")+o},L=/^([a-z]+:)?\/\//i,re(ne,{widgets:[],_widgetRegisteredCallbacks:[],ui:ne.ui||{},fx:ne.fx||function(e){return new ne.effects.Element(e)},effects:ne.effects||H,mobile:ne.mobile||{},data:ne.data||{},dataviz:ne.dataviz||{},drawing:ne.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:ne.support||ue,animate:ne.animate||a,ns:"",attr:function(e){return"data-"+ne.ns+e},getShadows:function(e){var t=e.css(ne.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t&&t.match(fe)||[0,0,0,0,0],n=de.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}},wrap:function(e,t){var i,n,r,a,o,s,l,d=ue.browser,c=ne._outerWidth,u=ne._outerHeight;return e.parent().hasClass("k-animation-container")?(s=e.parent(".k-animation-container"),l=s[0].style,s.is(":hidden")&&s.css({display:"",position:""}),(i=he.test(l.width)||he.test(l.height))||s.css({width:t?c(e)+1:c(e),height:u(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(n=e[0].style.width,r=e[0].style.height,a=he.test(n),o=he.test(r),i=a||o,!a&&(!t||t&&n)&&(n=t?c(e)+1:c(e)),!o&&(!t||t&&r)&&(r=u(e)),e.wrap(v("<div/>").addClass("k-animation-container").css({width:n,height:r})),i&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),d.msie&&de.floor(d.version)<=7&&(e.css({zoom:1}),e.children(".k-menu").width(e.width())),e.parent()},deepExtend:t,getComputedStyles:i,webComponents:ne.webComponents||[],isScrollable:function(e){if(e&&e.className&&"string"==typeof e.className&&-1<e.className.indexOf("k-auto-scrollable"))return!0;var t=i(e,["overflow"]).overflow;return"auto"==t||"scroll"==t},scrollLeft:function(e,t){var i,n=ue.browser.webkit,r=ue.browser.mozilla,a=e instanceof v?e[0]:e;if(e)return i=ue.isRtl(e),t===U?i&&n?a.scrollWidth-a.clientWidth-a.scrollLeft:Math.abs(a.scrollLeft):(a.scrollLeft=i&&n?a.scrollWidth-a.clientWidth-t:i&&r?-t:t,U)},size:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i},toCamelCase:r,toHyphens:function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},getOffset:ne.getOffset||function(e,t,i){var n,r,a;return t||(t="offset"),n=e[t](),r={top:n.top,right:n.right,bottom:n.bottom,left:n.left},ue.browser.msie&&(ue.pointers||ue.msPointers)&&!i&&(a=ue.isRtl(e)?1:-1,r.top-=m.pageYOffset-document.documentElement.scrollTop,r.left-=m.pageXOffset+a*document.documentElement.scrollLeft),r},parseEffects:ne.parseEffects||function(e){var t={};return ae("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t},toggleClass:ne.toggleClass||function(i,e,t,n){return e&&(e=e.split(" "),ae(e,function(e,t){i.toggleClass(t,n)})),i},directions:ne.directions||F,Observable:k,Class:e,Template:d,template:se(d.compile,d),render:se(d.render,d),stringify:se(ce.stringify,ce),eventTarget:O,htmlEncode:function(e){return(""+e).replace(E,"&amp;").replace(M,"&lt;").replace(A,"&gt;").replace(z,"&quot;").replace(P,"&#39;")},isLocalUrl:function(e){return e&&!L.test(e)},expr:function(e,t,i){return typeof t==_e&&(i=t,t=!1),i=i||"d",(e=e||"")&&"["!==e.charAt(0)&&(e="."+e),t?(e=(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=(e=R(e.split("."),i)).replace(/_\$DOT\$_/g,".")):e=i+e,e},getter:function(e,t){var i=e+t;return xe[i]=xe[i]||Function("d","return "+ne.expr(e,t))},setter:function(e){return Se[e]=Se[e]||Function("d,value",ne.expr(e)+"=value")},accessor:function(e){return{get:ne.getter(e),set:ne.setter(e)}},guid:function(){var e,t,i="";for(e=0;e<32;e++)t=16*de.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(i+="-"),i+=(12==e?4:16==e?3&t|8:t).toString(16);return i},roleSelector:function(e){return e.replace(/(\S+)/g,"["+ne.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,i=e.split(" ");if(i)for(t=0;t<i.length;t++)"view"!=i[t]&&(i[t]=i[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return i.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=ne.widgets.length;t<i;t++)e(ne.widgets[t]);ne._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=m.console;!ne.suppressLog&&U!==i&&i.log&&i[t||"log"](e)}}),V=k.extend({init:function(e,t){var i,n=this;n.element=ne.jQuery(e).handler(n),n.angular("init",t),k.fn.init.call(n),(i=t?t.dataSource:null)&&(t=re({},t,{dataSource:{}})),t=n.options=re(!0,{},n.options,t),i&&(t.dataSource=i),n.element.attr(ne.attr("role"))||n.element.attr(ne.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",n=e.attr(i)||t.attr(i);t.removeAttr(i),e.attr(i,isNaN(n)?0:n)},setOptions:function(e){this._setEvents(e),v.extend(this.options,e)},_setEvents:function(e){for(var t,i=this,n=0,r=i.events.length;n<r;n++)t=i.events[n],i.options[t]&&e[t]&&i.unbind(t,i.options[t]);i.bind(i.events,e)},resize:function(e){var t=this.getSize(),i=this._size;(e||(0<t.width||0<t.height)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return ne.dimensions(this.element)},size:function(e){return e?(this.setSize(e),U):this.getSize()},setSize:v.noop,_resize:v.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}}),N=V.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:v.map(t.dataItems(),function(e){return{dataItem:e}})}})}}),ne.dimensions=function(e,t){var i=e[0];return t&&e.css(t),{width:i.offsetWidth,height:i.offsetHeight}},ne.notify=le,B=/template$/i,q=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,W=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,j=/([A-Z])/g,ne.initWidget=function(e,t,i){var n,r,a,o,s,l,d,c,u,h,p,f,g;if(i?i.roles&&(i=i.roles):i=ne.ui.roles,e=e.nodeType?e:e[0],l=e.getAttribute("data-"+ne.ns+"role")){for(g in u=-1===l.indexOf("."),a=u?i[l]:ne.getter(l)(m),p=v(e).data(),f=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"",h=u?RegExp("^kendo.*"+l+"$","i"):RegExp("^"+f+"$","i"),p)if(g.match(h)){if(g!==f)return p[g];n=p[g]}if(a){for(c=b(e,"dataSource"),t=v.extend({},y(e,a.fn.options),t),c&&(t.dataSource=typeof c===_e?ne.getter(c)(m):c),o=0,s=a.fn.events.length;o<s;o++)r=a.fn.events[o],(d=b(e,r))!==U&&(t[r]=ne.getter(d)(m));return n?v.isEmptyObject(t)||n.setOptions(t):n=new a(e,t),n}}},ne.rolesFromNamespaces=function(e){var t,i,n=[];for(e[0]||(e=[ne.ui,ne.dataviz.ui]),t=0,i=e.length;t<i;t++)n[t]=e[t].roles;return re.apply(null,[{}].concat(n.reverse()))},ne.init=function(e){var t=ne.rolesFromNamespaces(Ce.call(arguments,1));v(e).find("[data-"+ne.ns+"role]").addBack().each(function(){ne.initWidget(this,{},t)})},ne.destroy=function(e){v(e).find("[data-"+ne.ns+"role]").addBack().each(function(){var e,t=v(this).data();for(e in t)0===e.indexOf("kendo")&&typeof t[e].destroy===me&&t[e].destroy()})},ne.resize=function(e,t){var i,n=v(e).find("[data-"+ne.ns+"role]").addBack().filter(s);n.length&&((i=v.makeArray(n)).sort(o),v.each(i,function(){var e=ne.widgetInstance(v(this));e&&e.resize(t)}))},ne.parseOptions=y,re(ne.ui,{Widget:V,DataBoundWidget:N,roles:{},progress:function(e,t,i){var n,r,a,o,s,l=e.find(".k-loading-mask"),d=ne.support,c=d.browser;i=v.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:!1},i),s=i.opacity?"k-loading-mask k-opaque":"k-loading-mask",t?l.length||(n=d.isRtl(e),r=n?"right":"left",o=e.scrollLeft(),a=c.webkit&&n?e[0].scrollWidth-e.width()-2*o:0,l=v(ne.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",s,ne.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(r,Math.abs(o)+a).prependTo(e)):l&&l.remove()},plugin:function(e,t,i){var n,r,a,o,s=e.fn.options.name;for(t=t||ne.ui,i=i||"",t[s]=e,t.roles[s.toLowerCase()]=e,n="getKendo"+i+s,r={name:s="kendo"+i+s,widget:e,prefix:i||""},ne.widgets.push(r),a=0,o=ne._widgetRegisteredCallbacks.length;a<o;a++)ne._widgetRegisteredCallbacks[a](r);v.fn[s]=function(n){var r,a=this;return typeof n===_e?(r=Ce.call(arguments,1),this.each(function(){var e,t,i=v.data(this,s);if(!i)throw Error(ne.format("Cannot call method '{0}' of {1} before it is initialized",n,s));if(typeof(e=i[n])!==me)throw Error(ne.format("Cannot find method '{0}' of {1}",n,s));if((t=e.apply(i,r))!==U)return a=t,!1})):this.each(function(){return new e(this,n)}),a},v.fn[s].widget=e,v.fn[n]=function(){return this.data(s)}}}),ne.ui.progress.messages={loading:"Loading..."},G={bind:function(){return this},nullObject:!0,options:{}},$=V.extend({init:function(e,t){V.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){V.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(ne.roleSelector("view splitview modalview drawer"));return ne.widgetInstance(e,ne.mobile.ui)||G},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(ne.roleSelector("view layout modalview drawer splitview"));return ne.widgetInstance(e.eq(0),ne.mobile.ui)||G}}),re(ne.mobile,{init:function(e){ne.init(e,ne.mobile.ui,ne.ui,ne.dataviz.ui)},appLevelNativeScrolling:function(){return ne.mobile.application&&ne.mobile.application.options&&ne.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:$,DataBoundWidget:N.extend($.prototype),roles:{},plugin:function(e){ne.ui.plugin(e,ne.mobile.ui,"Mobile")}}}),t(ne.dataviz,{init:function(e){ne.init(e,ne.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){ne.ui.plugin(e,ne.dataviz.ui)}},roles:{}}),ne.touchScroller=function(e,i){return i||(i={}),i.useNative=!0,v(e).map(function(e,t){return t=v(t),!(!ue.kineticScrollNeeded||!ne.mobile.ui.Scroller||t.data("kendoMobileScroller"))&&(t.kendoMobileScroller(i),t.data("kendoMobileScroller"))})[0]},ne.preventDefault=function(e){e.preventDefault()},ne.widgetInstance=function(e,t){var i,n,r,a,o=e.data(ne.ns+"role"),s=[];if(o){if("content"===o&&(o="scroller"),t)if(t[0])for(i=0,n=t.length;i<n;i++)s.push(t[i].roles[o]);else s.push(t.roles[o]);else s=[ne.ui.roles[o],ne.dataviz.ui.roles[o],ne.mobile.ui.roles[o]];for(0<=o.indexOf(".")&&(s=[ne.getter(o)(m)]),i=0,n=s.length;i<n;i++)if((r=s[i])&&(a=e.data("kendo"+r.fn.options.prefix+r.fn.options.name)))return a}},ne.onResize=function(e){var t=e;return ue.mobileOS.android&&(t=function(){setTimeout(e,600)}),v(m).on(ue.resize,t),t},ne.unbindResize=function(e){v(m).off(ue.resize,e)},ne.attrValue=function(e,t){return e.data(ne.ns+t)},ne.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},v.extend(v.expr[":"],{kendoFocusable:function(e){var t=v.attr(e,"tabindex");return n(e,!isNaN(t)&&-1<t)}}),K=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Y={setupMouseMute:function(){var e,t=0,i=K.length,n=document.documentElement;if(!Y.mouseTrap&&ue.eventCapture)for(Y.mouseTrap=!0,Y.bustClick=!1,Y.captureMouse=!1,e=function(e){Y.captureMouse&&("click"===e.type?Y.bustClick&&!v(e.target).is("label, input, [data-rel=external]")&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};t<i;t++)n.addEventListener(K[t],e,!0)},muteMouse:function(e){Y.captureMouse=!0,e.data.bustClick&&(Y.bustClick=!0),clearTimeout(Y.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Y.mouseTrapTimeoutID),Y.mouseTrapTimeoutID=setTimeout(function(){Y.captureMouse=!1,Y.bustClick=!1},400)}},J={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},ue.touch&&(ue.mobileOS.ios||ue.mobileOS.android)?J={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:ue.pointers?J={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:ue.msPointers&&(J={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!ue.msPointers||"onmspointerenter"in m||v.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,r){v.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||v.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=r),t}}}),Q=function(e){return J[e]||e},X=/([^ ]+)/g,ne.applyEventMap=function(e,t){return e=e.replace(X,Q),t&&(e=e.replace(X,"$1."+t)),e},Z=v.fn.on,re(!0,l,v),((l.fn=l.prototype=new v).constructor=l).fn.init=function(e,t){return t&&t instanceof v&&!(t instanceof l)&&(t=l(t)),v.fn.init.call(this,e,t,ee)},l.fn.init.prototype=l.fn,ee=l(document),re(l.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||ne.guid()),this},on:function(){var t,e,i,n,r,a,o=this,s=o.data("kendoNS");return 1===arguments.length?Z.call(o,arguments[0]):(t=o,typeof(e=Ce.call(arguments))[e.length-1]===we&&e.pop(),i=e[e.length-1],n=ne.applyEventMap(e[0],s),ue.mouseAndTouchPresent&&-1<n.search(/mouse|click/)&&this[0]!==document.documentElement&&(Y.setupMouseMute(),r=2===e.length?null:e[1],a=-1<n.indexOf("click")&&-1<n.indexOf("touchend"),Z.call(this,{touchstart:Y.muteMouse,touchend:Y.unMuteMouse},r,{bustClick:a})),typeof i===_e&&(t=o.data("handler"),i=t[i],e[e.length-1]=function(e){i.call(t,e)}),e[0]=n,Z.apply(o,e),o)},kendoDestroy:function(e){return(e=e||this.data("kendoNS"))&&this.off("."+e),this}}),ne.jQuery=l,ne.eventMap=J,ne.timezone=function(){function h(e,t){var i,n,r,a=t[3],o=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(o)?0===o.indexOf("last")?(i=new Date(Date.UTC(e,d[a]+1,1,s[0]-24,s[1],s[2],0)),n=c[o.substr(4,3)],r=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-r-(r<n?7:0))):0<=o.indexOf(">=")&&(i=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0)),n=c[o.substr(0,3)],r=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-r+(n<r?7:0))):i=new Date(Date.UTC(e,d[a],o,s[0],s[1],s[2],0)),l[e]=i)}function o(e,t,i,n){typeof e!=ve&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var r,a,o,s,l,d,c,u=function(e,t,i){var n,r,a,o=t[i];if("string"==typeof o&&(o=t[o]),!o)throw Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(n=o.length-1;0<=n&&!((r=o[n][3])&&r<e);n--);if(!(a=o[n+1]))throw Error('Timezone "'+i+'" not found on '+e+".");return a}(e,t,n);return{zone:u,rule:(r=e,a=i,o=u[1],(a=a[o])?(d=new Date(r).getUTCFullYear(),(a=jQuery.grep(a,function(e){var t=e[0],i=e[1];return t<=d&&(d<=i||t==d&&"only"==i||"max"==i)})).push(r),a.sort(function(e,t){return"number"!=typeof e&&(e=+h(d,e)),"number"!=typeof t&&(t=+h(d,t)),e-t}),c=a[jQuery.inArray(r,a)-1]||a[a.length-1],isNaN(c)?c:null):(s=o.split(":"),l=0,1<s.length&&(l=60*s[0]+ +s[1]),[-1e6,"max","-","Jan",1,[0,0,0],l,"-"]))}}var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:function(e,t){var i,n,r;return"Etc/UTC"==t||"Etc/GMT"==t?0:(i=o(e,this.zones,this.rules,t),n=i.zone,r=i.rule,ne.parseFloat(r?n[0]-r[6]:n[0]))},convert:function(e,t,i){var n,r,a,o=i;return typeof t==_e&&(t=this.offset(e,t)),typeof i==_e&&(i=this.offset(e,i)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-i)),a=e.getTimezoneOffset(),typeof o==_e&&(o=this.offset(e,o)),n=a-r+(i-o),new Date(e.getTime()+6e4*n)},apply:function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},remove:function(e,t){return this.convert(e,t,e.getTimezoneOffset())},abbr:function(e,t){var i=o(e,this.zones,this.rules,t),n=i.zone,r=i.rule,a=n[2];return 0<=a.indexOf("/")?a.split("/")[r&&+r[6]?1:0]:0<=a.indexOf("%s")?a.replace("%s",r&&"-"!=r[7]?r[7]:""):a},toLocalDate:function(e){return this.apply(new Date(e),"Etc/UTC")}}}(),ne.date=function(){function r(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function n(e,t,i){var n=e.getHours();i=i||1,t=(t-e.getDay()+7*i)%7,e.setDate(e.getDate()+t),r(e,n)}function l(e,t,i){return n(e=new Date(e),t,i),e}function a(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e,t){var i,n,r=new Date(e.getFullYear(),0,1,-6),a=(i=e,1!==(n=t)?d(l(i,n,-1),4):d(i,4-(i.getDay()||7))),o=a.getTime()-r.getTime(),s=Math.floor(o/p);return 1+Math.floor(s/7)}function t(e){return r(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),0),e}function s(e){return u(e).getTime()-t(u(e))}function d(e,t){var i=e.getHours();return c(e=new Date(e),t*p),r(e,i),e}function c(e,t,i){var n,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),i||(n=e.getTimezoneOffset()-r,e.setTime(e.getTime()+n*h))}function i(){return t(new Date)}function u(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var h=6e4,p=864e5;return{adjustDST:r,dayOfWeek:l,setDayOfWeek:n,getDate:t,isInDateRange:function(e,t,i){var n,r=t.getTime(),a=i.getTime();return a<=r&&(a+=p),(n=e.getTime())>=r&&n<=a},isInTimeRange:function(e,t,i){var n,r=s(t),a=s(i);return!e||r==a||(i<=t&&(i+=p),(n=s(e))<r&&(n+=p),a<r&&(a+=p),r<=n&&n<=a)},isToday:function(e){return t(e).getTime()==i().getTime()},nextDay:function(e){return d(e,1)},previousDay:function(e){return d(e,-1)},toUtcTime:function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},MS_PER_DAY:p,MS_PER_HOUR:60*h,MS_PER_MINUTE:h,setTime:c,setHours:function(e,t){return r(e=new Date(ne.date.getDate(e).getTime()+ne.date.getMilliseconds(t)),t.getHours()),e},addDays:d,today:i,toInvariantTime:u,firstDayOfMonth:a,lastDayOfMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=a(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return n&&t.setHours(i.getHours()+n/60),t},weekInYear:function(e,t){var i,n,r;return t===U&&(t=ne.culture().calendar.firstDay),i=d(e,-7),n=d(e,7),0===(r=o(e,t))?o(i,t)+1:53===r&&1<o(n,t)?1:r},getMilliseconds:s}}(),ne.stripWhitespace=function(t){var e,i,n;if(document.createNodeIterator)for(e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(i=0;i<t.childNodes.length;i++)3!=(n=t.childNodes[i]).nodeType||/\S/.test(n.nodeValue)||(t.removeChild(n),i--),1==n.nodeType&&ne.stripWhitespace(n)},te=m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||m.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},ne.animationFrame=function(e){te.call(m,e)},ie=[],ne.queueAnimation=function(e){ie[ie.length]=e,1===ie.length&&ne.runNextAnimation()},ne.runNextAnimation=function(){ne.animationFrame(function(){ie[0]&&(ie.shift()(),ie[0]&&ne.runNextAnimation())})},ne.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",i={},n=t.split(/&|=/),r=n.length,a=0;a<r;a+=2)""!==n[a]&&(i[decodeURIComponent(n[a])]=decodeURIComponent(n[a+1]));return i},ne.elementUnderCursor=function(e){if(U!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},ne.wheelDeltaY=function(e){var t,i=e.originalEvent,n=i.wheelDeltaY;return i.wheelDelta?(n===U||n)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},ne.throttle=function(r,a){var o,e,s=0;return!a||a<=0?r:((e=function(){function e(){r.apply(t,n),s=+new Date}var t=this,i=+new Date-s,n=arguments;return s?(o&&clearTimeout(o),a<i?e():o=setTimeout(e,a-i),U):e()}).cancel=function(){clearTimeout(o)},e)},ne.caret=function(e,t,i){var n,r,a,o,s,l=t!==U;if(i===U&&(i=t),e[0]&&(e=e[0]),!l||!e.disabled){try{e.selectionStart!==U?l?(e.focus(),(r=ue.mobileOS).wp||r.android?setTimeout(function(){e.setSelectionRange(t,i)},0):e.setSelectionRange(t,i)):t=[e.selectionStart,e.selectionEnd]:document.selection&&(v(e).is(":visible")&&e.focus(),n=e.createTextRange(),l?(n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",i-t),n.select()):(a=n.duplicate(),n.moveToBookmark(document.selection.createRange().getBookmark()),a.setEndPoint("EndToStart",n),o=a.text.length,s=o+n.text.length,t=[o,s]))}catch(e){t=[]}return t}},ne.compileMobileDirective=function(t,i){var e=m.angular;return t.attr("data-"+ne.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),e.element(t).injector().invoke(["$compile",function(e){e(t)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),ne.widgetInstance(t,ne.mobile.ui)},ne.antiForgeryTokens=function(){var e={},t=v("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=v("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return v("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value}),i!==U&&t!==U&&(e[i]=t),e},ne.cycleForm=function(e){function t(e){var t=ne.widgetInstance(e);t&&t.focus?t.focus():e.focus()}var i=e.find("input, .k-widget").first(),n=e.find("button, .k-button").last();n.on("keydown",function(e){e.keyCode!=ne.keys.TAB||e.shiftKey||(e.preventDefault(),t(i))}),i.on("keydown",function(e){e.keyCode==ne.keys.TAB&&e.shiftKey&&(e.preventDefault(),t(n))})},ne.focusElement=function(t){var i=[],e=t.parentsUntil("body").filter(function(e,t){var i=ne.getComputedStyles(t,["overflow"]);return"visible"!==i.overflow}).add(m);e.each(function(e,t){i[e]=v(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){v(t).scrollTop(i[e])})},function(){function i(e,t,i,n){var r,a,o=v("<form>").attr({action:i,method:"POST",target:n}),s=ne.antiForgeryTokens();for(a in s.fileName=t,r=e.split(";base64,"),s.contentType=r[0].replace("data:",""),s.base64=r[1],s)s.hasOwnProperty(a)&&v("<input>").attr({value:s[a],name:a,type:"hidden"}).appendTo(o);o.appendTo("body").submit().remove()}function n(e,t){var i,n,r,a,o,s=e;if("string"==typeof e){for(i=e.split(";base64,"),n=i[0],r=atob(i[1]),a=new Uint8Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);s=new Blob([a.buffer],{type:n})}navigator.msSaveBlob(s,t)}function r(e,t){m.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),a.download=t,a.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,m,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e)})}var a=document.createElement("a"),o="download"in a&&!ne.support.browser.edge;ne.saveAs=function(e){var t=i;e.forceProxy||(o?t=r:navigator.msSaveBlob&&(t=n)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}(),ne.proxyModelSetters=function(i){var e={};return Object.keys(i||{}).forEach(function(t){Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e,i.dirty=!0}})}),e}}(jQuery,window),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],function(){return function(v,b){function d(n,r,a,o){return function(e){var t,i={};for(t in e)i[t]=e[t];i.field=o?a+"."+e.field:a,r==ce&&n._notifyChange&&n._notifyChange(i),n.trigger(r,i)}}function p(e){this.data=e||[]}function y(e,t){if(e){var i=typeof e===se?{field:e,dir:t}:e,n=X(i)?i:i!==b?[i]:[];return Z(n,function(e){return!!e.dir})}}function u(e){if(e&&!Q(e))return!X(e)&&e.filters||(e={logic:"and",filters:X(e)?e:[e]}),function e(t){var i,n,r,a,o=t.filters;if(o)for(i=0,n=o.length;i<n;i++)r=o[i],(a=r.operator)&&typeof a===se&&(r.operator=L[a.toLowerCase()]||a),e(r)}(e),e}function c(e){return Q(e=e||{})?{logic:"and",filters:[]}:u(e)}function h(e,t){return t.logic||e.field>t.field?1:e.field<t.field?-1:0}function k(e,t){var i=typeof e===se?{field:e,dir:t}:e,n=X(i)?i:i!==b?[i]:[];return F(n,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function a(e,t,i,n,r,a){var o,s,l,d,c;for(d=(t=t||[]).length,o=0;o<d;o++)s=t[o],l=s.aggregate,c=s.field,e[c]=e[c]||{},a[c]=a[c]||{},a[c][l]=a[c][l]||{},e[c][l]=V[l.toLowerCase()](e[c][l],i,ne.accessor(c),n,r,a[c][l])}function s(e){return"number"==typeof e&&!isNaN(e)}function r(e){return e&&e.getTime}function o(e){var t,i=e.length,n=Array(i);for(t=0;t<i;t++)n[t]=e[t].toJSON();return n}function g(e,t,i,n,r){var a,o,s,l,d,c={};for(l=0,d=e.length;l<d;l++)for(o in a=e[l],t)(s=r[o])&&s!==o&&(c[s]||(c[s]=ne.setter(s)),c[s](a,t[o](a)),delete a[o])}function m(e,t,i,n,r){var a,o,s,l,d;for(l=0,d=e.length;l<d;l++)for(o in a=e[l],t)a[o]=i._parse(o,t[o](a)),(s=r[o])&&s!==o&&delete a[s]}function _(e,t,i,n,r){var a,o,s,l;for(o=0,l=e.length;o<l;o++)a=e[o],(s=n[a.field])&&s!=a.field&&(a.field=s),a.value=i._parse(a.field,a.value),a.hasSubgroups?_(a.items,t,i,n,r):m(a.items,t,i,0,r)}function w(t,i,n,r,a,o){return function(e){return(e=t(e))&&!Q(r)&&("[object Array]"===De.call(e)||e instanceof Ee||(e=[e]),n(e,r,new i,a,o)),e||[]}}function l(e){var t,i,n,r,a,o=[];for(t=0,i=e.length;t<i;t++)if((a=e.at(t)).hasSubgroups)o=o.concat(l(a.items));else for(n=a.items,r=0;r<n.length;r++)o.push(n.at(r));return o}function f(e,t,i,n){for(var r=0;r<e.length&&e[r].data!==t&&!x(e[r].data,i,n);r++);}function x(e,t,i){for(var n=0,r=e.length;n<r;n++){if(e[n]&&e[n].hasSubgroups)return x(e[n].items,t,i);if(e[n]===t||e[n]===i)return e[n]=i,!0}}function S(e,t){var i,n,r=e.length;for(n=0;n<r;n++)if((i=e[n]).uid&&i.uid==t.uid)return e.splice(n,1),i}function C(e,t){return t?i(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function T(e,t){return t?i(e,function(e){return e.uid==t.uid}):-1}function i(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function I(e,t){var i,n;return e&&!Q(e)?(i=e[t],n=J(i)?i.from||i.field||t:e[t]||t,re(n)?t:n):t}function D(e,t){var i,n,r,a,o,s=[];for(i=0,n=e.length;i<n;i++){for(o in r={},a=e[i])r[o]=a[o];r.field=I(t.fields,r.field),r.aggregates&&X(r.aggregates)&&(r.aggregates=D(r.aggregates,t)),s.push(r)}return s}function e(i){return function(){var e=this._data,t=W.fn[i].apply(this,Te.call(arguments));return this._data!=e&&this._attachBubbleHandlers(),t}}var F,H,E,M,z,P,A,O,R,L,V,N,B,q,t,W,j,n,U,G,$,K=v.extend,Y=v.proxy,J=v.isPlainObject,Q=v.isEmptyObject,X=v.isArray,Z=v.grep,ee=v.ajax,te=v.each,ie=v.noop,ne=window.kendo,re=ne.isFunction,ae=ne.Observable,oe=ne.Class,se="string",le="function",de="destroy",ce="change",ue="get",he="error",pe="requestStart",fe="progress",ge="requestEnd",me=["create","read","update",de],_e=function(e){return e},ve=ne.getter,be=ne.stringify,ye=Math,ke=[].push,we=[].join,xe=[].pop,Se=[].splice,Ce=[].shift,Te=[].slice,Ie=[].unshift,De={}.toString,Fe=ne.support.stableSort,He=/^\/Date\((.*?)\)\/$/,Ee=ae.extend({init:function(e,t){var i=this;i.type=t||E,ae.fn.init.call(i),i.length=e.length,i.wrapAll(e,i)},at:function(e){return this[e]},toJSON:function(){var e,t,i=this.length,n=Array(i);for(e=0;e<i;e++)(t=this[e])instanceof E&&(t=t.toJSON()),n[e]=t;return n},parent:ie,wrapAll:function(e,t){var i,n,r=this,a=function(){return r};for(t=t||[],i=0,n=e.length;i<n;i++)t[i]=r.wrap(e[i],a);return t},wrap:function(e,t){var i=this;return null!==e&&"[object Object]"===De.call(e)&&(e instanceof i.type||e instanceof P||(e=e instanceof E?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(ce,function(e){i.trigger(ce,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,i=this.wrapAll(arguments);return e=ke.apply(this,i),this.trigger(ce,{action:"add",index:t,items:i}),e},slice:Te,sort:[].sort,join:we,pop:function(){var e=this.length,t=xe.apply(this);return e&&this.trigger(ce,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,i){var n,r,a,o=this.wrapAll(Te.call(arguments,2));if((n=Se.apply(this,[e,t].concat(o))).length)for(this.trigger(ce,{action:"remove",index:e,items:n}),r=0,a=n.length;r<a;r++)n[r]&&n[r].children&&n[r].unbind(ce);return i&&this.trigger(ce,{action:"add",index:e,items:o}),n},shift:function(){var e=this.length,t=Ce.apply(this);return e&&this.trigger(ce,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Ie.apply(this,t),this.trigger(ce,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,i;for(t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var i=0,n=this.length,r=t||window;i<n;i++)e.call(r,this[i],i,this)},map:function(e,t){for(var i=0,n=[],r=this.length,a=t||window;i<r;i++)n[i]=e.call(a,this[i],i,this);return n},reduce:function(e){var t,i=0,n=this.length;for(2==arguments.length?t=arguments[1]:i<n&&(t=this[i++]);i<n;i++)t=e(t,this[i],i,this);return t},reduceRight:function(e){var t,i=this.length-1;for(2==arguments.length?t=arguments[1]:0<i&&(t=this[i--]);0<=i;i--)t=e(t,this[i],i,this);return t},filter:function(e,t){for(var i,n=0,r=[],a=this.length,o=t||window;n<a;n++)i=this[n],e.call(o,i,n,this)&&(r[r.length]=i);return r},find:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],e.call(a,i,n,this))return i},every:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],!e.call(a,i,n,this))return!1;return!0},some:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],e.call(a,i,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!Ee.prototype[Symbol.iterator]&&(Ee.prototype[Symbol.iterator]=[][Symbol.iterator]),H=Ee.extend({init:function(e,t){ae.fn.init.call(this),this.type=t||E;for(var i=0;i<e.length;i++)this[i]=e[i];this.length=i,this._parent=Y(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}}),E=ae.extend({init:function(e){var t,i,n=this,r=function(){return n};for(i in ae.fn.init.call(this),this._handlers={},e)"object"==typeof(t=e[i])&&t&&!t.getTime&&"_"!=i.charAt(0)&&(t=n.wrap(t,i,r)),n[i]=t;n.uid=ne.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&typeof this[e]!==le&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,i={};for(t in this)this.shouldSerialize(t)&&(((e=this[t])instanceof E||e instanceof Ee)&&(e=e.toJSON()),i[t]=e);return i},get:function(e){return this.trigger(ue,{field:e}),"this"===e?this:ne.getter(e,!0)(this)},_set:function(e,t){var i,n,r,a=0<=e.indexOf(".");if(a)for(i=e.split("."),n="";1<i.length;){if(n+=i.shift(),(r=ne.getter(n,!0)(this))instanceof E)return r.set(i.join("."),t),a;n+="."}return ne.setter(e)(this,t),a},set:function(e,t){var i=this,n=!1,r=0<=e.indexOf("."),a=ne.getter(e,!0)(i);return a!==t&&(a instanceof ae&&this._handlers[e]&&(this._handlers[e].get&&a.unbind(ue,this._handlers[e].get),a.unbind(ce,this._handlers[e].change)),(n=i.trigger("set",{field:e,value:t}))||(r||(t=i.wrap(t,e,function(){return i})),(!i._set(e,t)||0<=e.indexOf("(")||0<=e.indexOf("["))&&i.trigger(ce,{field:e}))),n},parent:ie,wrap:function(e,t,i){var n,r,a,o,s=this,l=De.call(e);return null==e||"[object Object]"!==l&&"[object Array]"!==l||(a=e instanceof Ee,o=e instanceof W,"[object Object]"!==l||o||a?("[object Array]"===l||a||o)&&(a||o||(e=new Ee(e)),r=d(s,ce,t,!1),e.bind(ce,r),s._handlers[t]={change:r}):(e instanceof E||(e=new E(e)),n=d(s,ue,t,!0),e.bind(ue,n),r=d(s,ce,t,!0),e.bind(ce,r),s._handlers[t]={get:n,change:r}),e.parent=i),e}}),M={number:function(e){return typeof e===se&&"null"===e.toLowerCase()?null:ne.parseFloat(e)},date:function(e){return typeof e===se&&"null"===e.toLowerCase()?null:ne.parseDate(e)},boolean:function(e){return typeof e===se?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===se&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}},z={string:"",number:0,date:new Date,boolean:!1,default:""},(P=E.extend({init:function(e){var t,i,n=this;if((!e||v.isEmptyObject(e))&&(e=v.extend({},n.defaults,e),n._initializers))for(t=0;t<n._initializers.length;t++)i=n._initializers[t],e[i]=n.defaults[i]();E.fn.init.call(n,e),n.dirty=!1,n.dirtyFields={},n.idField&&(n.id=n.get(n.idField),n.id===b&&(n.id=n._defaultId))},shouldSerialize:function(e){return E.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var i,n=e,r=this.fields||{};return(e=r[e])||(e=function(e,t){var i,n;for(n in e){if(i=e[n],J(i)&&i.field&&i.field===t)return i;if(i===t)return i}return null}(r,n)),e&&!(i=e.parse)&&e.type&&(i=M[e.type.toLowerCase()]),i?i(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return!(e=(this.fields||{})[e])||!1!==e.editable},set:function(e,t,i){var n=this,r=n.dirty;n.editable(e)&&(function e(t,i){if(t===i)return!0;var n,r=v.type(t),a=v.type(i);if(r!==a)return!1;if("date"===r)return t.getTime()===i.getTime();if("object"!==r&&"array"!==r)return!1;for(n in t)if(!e(t[n],i[n]))return!1;return!0}(t=n._parse(e,t),n.get(e))?n.trigger("equalSet",{field:e,value:t}):(n.dirty=!0,n.dirtyFields[e]=!0,E.fn.set.call(n,e,t,i)&&!r&&(n.dirty=r,n.dirty||(n.dirtyFields[e]=!1))))},accept:function(e){var t,i,n=this,r=function(){return n};for(t in e)i=e[t],"_"!=t.charAt(0)&&(i=n.wrap(e[t],t,r)),n._set(t,i);n.idField&&(n.id=n.get(n.idField)),n.dirty=!1,n.dirtyFields={}},isNew:function(){return this.id===this._defaultId}})).define=function(e,t){t===b&&(t=e,e=P);var i,n,r,a,o,s,l,d,c=K({defaults:{}},t),u={},h=c.id,p=[];if(h&&(c.idField=h),c.id&&delete c.id,h&&(c.defaults[h]=c._defaultId=""),"[object Array]"===De.call(c.fields)){for(s=0,l=c.fields.length;s<l;s++)typeof(r=c.fields[s])===se?u[r]={}:r.field&&(u[r.field]=r);c.fields=u}for(n in c.fields)r=c.fields[n],a=r.type||"default",o=null,d=n,n=typeof r.field===se?r.field:n,r.nullable||"function"==typeof(o=c.defaults[d!==n?d:n]=r.defaultValue!==b?r.defaultValue:z[a.toLowerCase()])&&p.push(n),t.id===n&&(c._defaultId=o),c.defaults[d!==n?d:n]=o,r.parse=r.parse||M[a];return 0<p.length&&(c._initializers=p),(i=e.extend(c)).define=function(e){return P.define(i,e)},c.fields&&(i.fields=c.fields,i.idField=c.idField),i},O=K({},A={selector:function(e){return re(e)?e:ve(e)},compare:function(e){var i=this.selector(e);return function(e,t){return e=i(e),t=i(t),null==e&&null==t?0:null==e?-1:null==t?1:e.localeCompare?e.localeCompare(t):t<e?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,t){return i(t,e,!0)}:i},combine:function(a){return function(e,t){var i,n,r=a[0](e,t);for(i=1,n=a.length;i<n;i++)r=r||a[i](e,t);return r}}},{asc:function(e){var r=this.selector(e);return function(e,t){var i=r(e),n=r(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?-1:null==n?1:i.localeCompare?i.localeCompare(n):n<i?1:-1}},desc:function(e){var r=this.selector(e);return function(e,t){var i=r(e),n=r(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?1:null==n?-1:n.localeCompare?n.localeCompare(i):i<n?1:-1}},create:function(e){return this[e.dir](e.field)}}),F=function(e,t){var i,n=e.length,r=Array(n);for(i=0;i<n;i++)r[i]=t(e[i],i,e);return r},R=function(){function a(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function e(n){return function(e,t,i){return t+="",i&&(e="("+e+" || '').toLowerCase()",t=t.toLowerCase()),n(e,a(t),i)}}function n(e,t,i,n){if(null!=i){if(typeof i===se){var r=He.exec(i);r?i=new Date(+r[1]):n?(i=a(i.toLowerCase()),t="(("+t+" || '')+'').toLowerCase()"):i=a(i)}i.getTime&&(t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")",i=i.getTime())}return t+" "+e+" "+i}function i(e){var t,i,n,r;for(i=!(t="/^"),n=0;n<e.length;++n){if(r=e.charAt(n),i)t+="\\"+r;else{if("~"==r){i=!0;continue}t+="*"==r?".*":"?"==r?".":0<=".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(r)?"\\"+r:r}i=!1}return t+"$/"}return{quote:function(e){return e&&e.getTime?"new Date("+e.getTime()+")":a(e)},eq:function(e,t,i){return n("==",e,t,i)},neq:function(e,t,i){return n("!=",e,t,i)},gt:function(e,t,i){return n(">",e,t,i)},gte:function(e,t,i){return n(">=",e,t,i)},lt:function(e,t,i){return n("<",e,t,i)},lte:function(e,t,i){return n("<=",e,t,i)},startswith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") >= 0"}),doesnotendwith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") < 0"}),contains:e(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:e(function(e,t){return e+".indexOf("+t+") == -1"}),matches:e(function(e,t){return i(t=t.substring(1,t.length-1))+".test("+e+")"}),doesnotmatch:e(function(e,t){return"!"+i(t=t.substring(1,t.length-1))+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}(),p.filterExpr=function(e){var t,i,n,r,a,o,s=[],l=[],d=[],c=e.filters;for(t=0,i=c.length;t<i;t++)n=c[t],a=n.field,o=n.operator,n.filters?(r=p.filterExpr(n),n=r.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(d.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(l.length+t)+"]"}),d.push.apply(d,r.operators),l.push.apply(l,r.fields)):(typeof a===le?(r="__f["+l.length+"](d)",l.push(a)):r=ne.expr(a),typeof o===le?(n="__o["+d.length+"]("+r+", "+R.quote(n.value)+")",d.push(o)):n=R[(o||"eq").toLowerCase()](r,n.value,n.ignoreCase===b||n.ignoreCase)),s.push(n);return{expression:"("+s.join({and:" && ",or:" || "}[e.logic])+")",fields:l,operators:d}},L={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"},p.normalizeFilter=u,p.compareFilters=function e(t,i){var n,r,a,o,s,l,d;if(t=c(t),i=c(i),t.logic!==i.logic)return!1;if(a=(t.filters||[]).slice(),o=(i.filters||[]).slice(),a.length!==o.length)return!1;for(a=a.sort(h),o=o.sort(h),s=0;s<a.length;s++)if(n=a[s],r=o[s],n.logic&&r.logic){if(!e(n,r))return!1}else if(d=r,(l=n).logic||d.logic||l.field!==d.field||l.value!==d.value||l.operator!==d.operator)return!1;return!0},p.prototype={toArray:function(){return this.data},range:function(e,t){return new p(this.data.slice(e,e+t))},skip:function(e){return new p(this.data.slice(e))},take:function(e){return new p(this.data.slice(0,e))},select:function(e){return new p(F(this.data,e))},order:function(e,t,i){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new p(i?this.data.sort(A.create(n)):this.data.slice(0).sort(A.create(n)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,n){var r,a,o=y(e,t),s=[];if(i=i||A,o.length){for(r=0,a=o.length;r<a;r++)s.push(i.create(o[r]));return this.orderBy({compare:i.combine(s)},n)}return this},filter:function(e){var t,i,n,r,a,o,s,l,d=this.data,c=[];if(!(e=u(e))||0===e.filters.length)return this;for(r=p.filterExpr(e),o=r.fields,s=r.operators,a=l=Function("d, __f, __o","return "+r.expression),(o.length||s.length)&&(l=function(e){return a(e,o,s)}),t=0,n=d.length;t<n;t++)i=d[t],l(i)&&c.push(i);return new p(c)},group:function(i,n){i=k(i||[]),n=n||this.data;var r,e=new p(this.data);return 0<i.length&&(r=i[0],e=e.groupBy(r).select(function(e){var t=new p(n).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:!1}]);return{field:e.field,value:e.value,items:1<i.length?new p(e.items).group(i.slice(1),t.toArray()).toArray():e.items,hasSubgroups:1<i.length,aggregates:t.aggregate(r.aggregates)}})),e},groupBy:function(e){if(Q(e)||!this.data.length)return new p([]);var t,i,n,r,a,o,s=e.field,l=this._sortForGrouping(s,e.dir||"asc"),d=ne.accessor(s),c=d.get(l[0],s),u={field:s,value:c,items:[]},h=[u];for(n=0,r=l.length;n<r;n++)t=l[n],i=d.get(t,s),o=i,((a=c)&&a.getTime&&o&&o.getTime?a.getTime()===o.getTime():a===o)||(u={field:s,value:c=i,items:[]},h.push(u)),u.items.push(t);return new p(h)},_sortForGrouping:function(e,t){var i,n,r=this.data;if(!Fe){for(i=0,n=r.length;i<n;i++)r[i].__position=i;for(r=new p(r).sort(e,t,O).toArray(),i=0,n=r.length;i<n;i++)delete r[i].__position;return r}return this.sort(e,t).toArray()},aggregate:function(e){var t,i,n={},r={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)a(n,e,this.data[t],t,i,r);return n}},V={sum:function(e,t,i){var n=i.get(t);return s(e)?s(n)&&(e+=n):e=n,e},count:function(e){return(e||0)+1},average:function(e,t,i,n,r,a){var o=i.get(t);return a.count===b&&(a.count=0),s(e)?s(o)&&(e+=o):e=o,s(o)&&a.count++,n==r-1&&s(e)&&(e/=a.count),e},max:function(e,t,i){var n=i.get(t);return s(e)||r(e)||(e=n),e<n&&(s(n)||r(n))&&(e=n),e},min:function(e,t,i){var n=i.get(t);return s(e)||r(e)||(e=n),n<e&&(s(n)||r(n))&&(e=n),e}},p.process=function(e,t,i){t=t||{};var n,r=new p(e),a=t.group,o=k(a||[]).concat(y(t.sort||[])),s=t.filterCallback,l=t.filter,d=t.skip,c=t.take;return l&&(r=r.filter(l),s&&(r=s(r)),n=r.toArray().length),o&&(r=i?r.sort(o,b,b,i):r.sort(o),a&&(e=r.toArray())),d!==b&&c!==b&&(r=r.range(d,c)),a&&(r=r.group(a,e)),{total:n,data:r.toArray()}},N=oe.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),B=oe.extend({init:function(i){var n,e=this;i=e.options=K({},e.options,i),te(me,function(e,t){typeof i[t]===se&&(i[t]={url:i[t]})}),e.cache=i.cache?q.create(i.cache):{find:ie,add:ie},n=i.parameterMap,e.submit=i.submit,re(i.push)&&(e.push=i.push),e.push||(e.push=_e),e.parameterMap=re(n)?n:function(e){var i={};return te(e,function(e,t){e in n&&(e=n[e],J(e)&&(t=e.value(t),e=e.key)),i[e]=t}),i}},options:{parameterMap:_e},create:function(e){return ee(this.setup(e,"create"))},read:function(t){var i,e,n=this.cache;t=this.setup(t,"read"),i=t.success||ie,t.error,(e=n.find(t.data))!==b?i(e):(t.success=function(e){n.add(t.data,e),i(e)},v.ajax(t))},update:function(e){return ee(this.setup(e,"update"))},destroy:function(e){return ee(this.setup(e,de))},setup:function(e,t){e=e||{};var i,n=this.options[t],r=re(n.data)?n.data(e.data):n.data;return e=K(!0,{},n,e),i=K(!0,{},r,e.data),e.data=this.parameterMap(i,t),re(e.url)&&(e.url=e.url(i)),e}}),(q=oe.extend({init:function(){this._store={}},add:function(e,t){e!==b&&(this._store[be(e)]=t)},find:function(e){return this._store[be(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[be(e)]}})).create=function(e){var t={inmemory:function(){return new q}};return J(e)&&re(e.find)?e:!0===e?new q:t[e]()},t=oe.extend({init:function(e){var t,i,n,r,a,o,s,l,d,c,u,h,p,f=this;for(t in e=e||{})i=e[t],f[t]=typeof i===se?ve(i):i;r=e.modelBase||P,J(f.model)&&(f.model=n=r.define(f.model)),a=Y(f.data,f),f._dataAccessFunction=a,f.model&&(o=Y(f.groups,f),s=Y(f.serialize,f),l={},d={},c={},h=!(u={}),(n=f.model).fields&&(te(n.fields,function(e,t){var i;p=e,J(t)&&t.field?p=t.field:typeof t===se&&(p=t),J(t)&&t.from&&(i=t.from),h=h||i&&i!==e||p!==e,d[e]=ve(i||p),c[e]=ve(e),l[i||p]=e,u[e]=i||p}),!e.serialize&&h&&(f.serialize=w(s,n,g,c,l,u))),f._dataAccessFunction=a,f.data=w(a,n,m,d,l,u),f.groups=w(o,n,_,d,l,u))},errors:function(e){return e?e.errors:null},parse:_e,data:_e,total:function(e){return e.length},groups:_e,aggregates:function(){return{}},serialize:function(e){return e}}),W=ae.extend({init:function(e){var t,i,n=this;e&&(t=e.data),e=n.options=K({},n.options,e),n._map={},n._prefetch={},n._data=[],n._pristineData=[],n._ranges=[],n._view=[],n._pristineTotal=0,n._destroyed=[],n._pageSize=e.pageSize,n._page=e.page||(e.pageSize?1:b),n._sort=y(e.sort),n._filter=u(e.filter),n._group=k(e.group),n._aggregate=e.aggregate,n._total=e.total,n._shouldDetachObservableParents=!0,ae.fn.init.call(n),n.transport=j.create(e,t,n),re(n.transport.push)&&n.transport.push({pushCreate:Y(n._pushCreate,n),pushUpdate:Y(n._pushUpdate,n),pushDestroy:Y(n._pushDestroy,n)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(i=e.offlineStorage,n._storage={getItem:function(){return JSON.parse(localStorage.getItem(i))},setItem:function(e){localStorage.setItem(i,be(n.reader.serialize(e)))}}):n._storage=e.offlineStorage),n.reader=new ne.data.readers[e.schema.type||"json"](e.schema),n.reader.model,n._detachObservableParents(),n._data=n._observe(n._data),n._online=!0,n.bind(["push",he,ce,pe,"sync",ge,fe],e)},options:{data:null,schema:{modelBase:P},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(e){return e!==b?this._online!=e&&(this._online=e)?this.sync():v.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==b?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);i||(i=e),this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return l(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:ie,get:function(e){var t,i,n=this._flatData(this._data,this.options.useRanges);for(t=0,i=n.length;t<i;t++)if(n[t].id==e)return n[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,n,r=this._flatData(t,this.options.useRanges);if(r)for(i=0,n=r.length;i<n;i++)if(r[i].uid==e)return r[i]},indexOf:function(e){return T(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t,i=this;if(e===b){if(i._data)for(t=0;t<i._data.length;t++)i._data.at(t);return i._data}i._detachObservableParents(),i._data=this._observe(e),i._pristineData=e.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},view:function(e){return e===b?this._view:(this._view=this._observeView(e),b)},_observeView:function(e){var t,i=this;return function e(t,i,n,r,a){var o,s,l,d;for(o=0,s=t.length;o<s;o++)if((l=t[o])&&!(l instanceof r))if(l.hasSubgroups===b||a){for(d=0;d<i.length;d++)if(i[d]===l){t[o]=i.at(d),f(n,i,l,t[o]);break}}else e(l.items,i,n,r,a)}(e,i._data,i._ranges,i.reader.model||E,i._isServerGrouped()),(t=new H(e,i.reader.model)).parent=function(){return i.parent()},t},flatView:function(){var e=this.group()||[];return e.length?l(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof E?e:new E(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof P||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(e,t){var i,n,r,a,o,s;t||(t=e,e=0),X(t)||(t=[t]),i=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;r<t.length;r++)a=t[r],o=this.insert(e,a),i.push(o),s=o.toJSON(),this._isServerGrouped()&&(s=this._wrapInEmptyGroup(s)),this._pristineData.push(s),e++}finally{this.options.autoSync=n}i.length&&this.trigger("push",{type:"create",items:i})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){var t,i,n,r,a;for(X(e)||(e=[e]),t=[],i=0;i<e.length;i++)n=e[i],r=this._createNewModel(n),(a=this.get(r.id))?(t.push(a),a.accept(n),a.trigger(ce),this._updatePristineForModel(a,n)):this.pushCreate(n);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e){var n,t,i,r,a,o;X(e)||(e=[e]),n=[],t=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;i<e.length;i++)r=e[i],a=this._createNewModel(r),o=!1,this._eachItem(this._data,function(e){var t,i;for(t=0;t<e.length;t++)if((i=e.at(t)).id===a.id){n.push(i),e.splice(t,1),o=!0;break}}),o&&(this._removePristineForModel(a),this._destroyed.pop())}finally{this.options.autoSync=t}return n},remove:function(t){var i,n=this,r=n._isServerGrouped();return this._eachItem(n._data,function(e){if((i=S(e,t))&&r)return i.isNew&&i.isNew()||n._destroyed.push(i),!0}),this._removeModelFromRanges(t),t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&n[e].isNew()&&i.push(n[e]);return i},updated:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&!n[e].isNew()&&n[e].dirty&&i.push(n[e]);return i},sync:function(){var e,i=this,t=[],n=[],r=i._destroyed,a=v.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return a;t=i.created(),n=i.updated(),e=[],i.options.batch&&i.transport.submit?e=i._sendSubmit(t,n,r):(e.push.apply(e,i._send("create",t)),e.push.apply(e,i._send("update",n)),e.push.apply(e,i._send("destroy",r))),a=v.when.apply(null,e).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)arguments[e]&&i._accept(arguments[e]);i._storeData(!0),i._change({action:"sync"}),i.trigger("sync")})}else i._storeData(!0),i._change({action:"sync"});return a},cancelChanges:function(e){var t=this;e instanceof ne.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._change(),t._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(e){var t,i;for(t=0;t<e.length;t++)"update"!=(i=e.at(t)).__state__&&"create"!=i.__state__||(i.dirty=!0)})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return!0;return!1},_accept:function(e){var t,i=this,n=e.models,r=e.response,a=0,o=i._isServerGrouped(),s=i._pristineData,l=e.type;if(i.trigger(ge,{response:r,type:l}),r&&!Q(r)){if(r=i.reader.parse(r),i._handleCustomErrors(r))return;r=i.reader.data(r),X(r)||(r=[r])}else r=v.map(n,function(e){return e.toJSON()});for("destroy"===l&&(i._destroyed=[]),a=0,t=n.length;a<t;a++)"destroy"!==l?(n[a].accept(r[a]),"create"===l?s.push(o?i._wrapInEmptyGroup(n[a]):r[a]):"update"===l&&i._updatePristineForModel(n[a],r[a])):i._removePristineForModel(n[a])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){ne.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,n){this._eachPristineItem(function(e){var t=C(e,i);if(-1<t)return n(t,e),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?function e(t,i){for(var n=0,r=t.length;n<r;n++)if(t[n].hasSubgroups){if(e(t[n].items,i))return!0}else if(i(t[n].items,t[n]))return!0}(e,t):t(e))},_pristineForModel:function(t){var i,n;return this._eachPristineItem(function(e){if(-1<(n=C(e,t)))return i=e[n],!0}),i},_cancelModel:function(i){var n=this,r=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=T(e,i);0<=t&&(!r||i.isNew()&&!r.__state__?(e.splice(t,1),n._removeModelFromRanges(i)):(e[t].accept(r),"update"==r.__state__&&(e[t].dirty=!0)))})},_submit:function(r,e){var a=this;a.trigger(pe,{type:"submit"}),a.trigger(fe),a.transport.submit(K({success:function(e,t){var i=v.grep(r,function(e){return e.type==t})[0];i&&i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var n=0;n<r.length;n++)r[n].reject(e);a.error(e,t,i)}},e))},_sendSubmit:function(t,i,n){var e=this,r=[];return e.options.batch&&(t.length&&r.push(v.Deferred(function(e){e.type="create",e.models=t})),i.length&&r.push(v.Deferred(function(e){e.type="update",e.models=i})),n.length&&r.push(v.Deferred(function(e){e.type="destroy",e.models=n})),e._submit(r,{data:{created:e.reader.serialize(o(t)),updated:e.reader.serialize(o(i)),destroyed:e.reader.serialize(o(n))}})),r},_promise:function(e,t,i){var r=this;return v.Deferred(function(n){r.trigger(pe,{type:i}),r.trigger(fe),r.transport[i].call(r.transport,K({success:function(e){n.resolve({response:e,models:t,type:i})},error:function(e,t,i){n.reject(e),r.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i,n,r=[],a=this.reader.serialize(o(t));if(this.options.batch)t.length&&r.push(this._promise({data:{models:a}},t,e));else for(i=0,n=t.length;i<n;i++)r.push(this._promise({data:a[i]},[t[i]],e));return r},read:function(e){var t=this,i=t._params(e),n=v.Deferred();return t._queueRequest(i,function(){var e=t.trigger(pe,{type:"read"});e?(t._dequeueRequest(),n.resolve(e)):(t.trigger(fe),t._ranges=[],t.trigger("reset"),t.online()?t.transport.read({data:i,success:function(e){t._ranges=[],t.success(e,i),n.resolve()},error:function(){var e=Te.call(arguments);t.error.apply(t,e),n.reject.apply(n,e)}}):null!=t.options.offlineStorage&&(t.success(t.offlineData(),i),n.resolve()))}),n.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t,i,n,r,a,o,s,l,d,c=this,u=c.options;if(c.trigger(ge,{response:e,type:"read"}),c.online()){if(e=c.reader.parse(e),c._handleCustomErrors(e))return c._dequeueRequest(),b;c._total=c.reader.total(e),c._pageSize>c._total&&(c._pageSize=c._total),c._aggregate&&u.serverAggregates&&(c._aggregateResult=c._readAggregates(e)),t=1<arguments.length?arguments[1]:b,e=c._readData(e,t),c._destroyed=[]}else{for(e=c._readData(e),i=[],n={},r=c.reader.model,a=r?r.idField:"id",o=0;o<this._destroyed.length;o++)s=this._destroyed[o][a],n[s]=s;for(o=0;o<e.length;o++)"destroy"==(l=e[o]).__state__?n[l[a]]||this._destroyed.push(this._createNewModel(l)):i.push(l);e=i,c._total=e.length}if(c._pristineTotal=c._total,c._pristineData=e.slice(0),c._detachObservableParents(),c.options.endless){for(c._data.unbind(ce,c._changeHandler),e=c._observe(e),d=0;d<e.length;d++)c._data.push(e[d]);c._data.bind(ce,c._changeHandler)}else c._data=c._observe(e);c._markOfflineUpdatesAsDirty(),c._storeData(),c._addRange(c._data),c._process(c._data),c._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=ie)},_storeData:function(e){var t,i,n,r,o=this._isServerGrouped(),s=this.reader.model;if(null!=this.options.offlineStorage){for(t=function e(t){var i,n,r,a=[];for(i=0;i<t.length;i++)n=t.at(i),r=n.toJSON(),o&&n.items?r.items=e(n.items):(r.uid=n.uid,s&&(n.isNew()?r.__state__="create":n.dirty&&(r.__state__="update"))),a.push(r);return a}(this._data),i=[],n=0;n<this._destroyed.length;n++)(r=this._destroyed[n].toJSON()).__state__="destroy",i.push(r);this.offlineData(t.concat(i)),e&&(this._pristineData=this._readData(t))}},_addRange:function(e,t){var i=b!==t?t:this._skip||0,n=i+this._flatData(e,!0).length;this._ranges.push({start:i,end:n,data:e,timestamp:(new Date).getTime()}),this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest(),this.trigger(ge,{}),this.trigger(he,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=K({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=D(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=function e(t,i){var n,r,a,o={};for(a in t)"filters"!==a&&(o[a]=t[a]);if(t.filters)for(o.filters=[],n=0,r=t.filters.length;n<r;n++)o.filters[n]=e(t.filters[n],i);else o.field=I(i.fields,o.field);return o}(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=D(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=D(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(e,t){var i=this;i._requestInProgress?i._pending={callback:Y(t,i),options:e}:(i._requestInProgress=!0,i._pending=b,t())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(he,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return!(!t||!e.length||e[0]instanceof t)},_observe:function(e){var t,i=this,n=i.reader.model;return i._shouldDetachObservableParents=!0,e instanceof Ee?(i._shouldDetachObservableParents=!1,i._shouldWrap(e)&&(e.type=i.reader.model,e.wrapAll(e,e))):(t=i.pageSize()&&!i.options.serverPaging?H:Ee,(e=new t(e,i.reader.model)).parent=function(){return i.parent()}),i._isServerGrouped()&&function e(t,i){var n,r,a;if(i)for(n=0,r=t.length;n<r;n++)(a=t.at(n)).hasSubgroups?e(a.items,i):a.items=new H(a.items,i)}(e,n),i._changeHandler&&i._data&&i._data instanceof Ee?i._data.unbind(ce,i._changeHandler):i._changeHandler=Y(i._change,i),e.bind(ce,i._changeHandler)},_updateTotalForAction:function(e,t){var i=this,n=parseInt(i._total,10);s(i._total)||(n=parseInt(i._pristineTotal,10)),"add"===e?n+=t.length:"remove"===e?n-=t.length:"itemchange"===e||"sync"===e||i.options.serverPaging?"sync"===e&&(n=i._pristineTotal=parseInt(i._total,10)):n=i._pristineTotal,i._total=n},_change:function(t){var e,i,n,r=this,a=t?t.action:"";if("remove"===a)for(e=0,i=t.items.length;e<i;e++)t.items[e].isNew&&t.items[e].isNew()||r._destroyed.push(t.items[e]);!r.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(r._updateTotalForAction(a,t?t.items:[]),r._process(r._data,t)):(n=function(e){"sync"===e.action&&(r.unbind("change",n),r._updateTotalForAction(a,t.items))},r.first("change",n),r.sync())},_calculateAggregates:function(e,t){t=t||{};var i=new p(e),n=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(n)},_process:function(e,t){var i,n=this,r={};!0!==n.options.serverPaging&&(r.skip=n._skip,r.take=n._take||n._pageSize,r.skip===b&&n._page!==b&&n._pageSize!==b&&(r.skip=(n._page-1)*n._pageSize)),!0!==n.options.serverSorting&&(r.sort=n._sort),!0!==n.options.serverFiltering&&(r.filter=n._filter),!0!==n.options.serverGrouping&&(r.group=n._group),!0!==n.options.serverAggregates&&(r.aggregate=n._aggregate,n._aggregateResult=n._calculateAggregates(e,r)),i=n._queryProcess(e,r),n.view(i.data),i.total===b||n.options.serverFiltering||(n._total=i.total),(t=t||{}).items=t.items||n._view,n.trigger(ce,t)},_queryProcess:function(e,t){return this.options.inPlaceSort?p.process(e,t,this.options.inPlaceSort):p.process(e,t)},_mergeState:function(e){var t,i=this;return e!==b&&(i._pageSize=e.pageSize,i._page=e.page,i._sort=e.sort,i._filter=e.filter,i._group=e.group,i._aggregate=e.aggregate,i._skip=i._currentRangeStart=e.skip,i._take=e.take,i._skip===b&&(i._skip=i._currentRangeStart=i.skip(),e.skip=i.skip()),i._take===b&&i._pageSize!==b&&(i._take=i._pageSize,e.take=i._take),e.sort&&(i._sort=e.sort=y(e.sort)),e.filter&&(i._filter=e.filter=u(e.filter)),e.group&&(i._group=e.group=k(e.group)),e.aggregate&&(i._aggregate=e.aggregate=(t=e.aggregate,X(t)?t:[t]))),e},query:function(e){var t,i,n,r=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return r||(this._data===b||0===this._data.length)&&!this._destroyed.length?(this.options.endless&&(0<(i=e.pageSize-this.pageSize())?(i=this.pageSize(),e.page=e.pageSize/i,e.pageSize=i):(e.page=1,this.options.endless=!1)),this.read(this._mergeState(e))):((n=this.trigger(pe,{type:"read"}))||(this.trigger(fe),t=this._queryProcess(this._data,this._mergeState(e)),this.options.serverFiltering||(this._total=t.total!==b?t.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,e),this.view(t.data),this.trigger(ge,{type:"read"}),this.trigger(ce,{items:t.data})),v.Deferred().resolve(n).promise())},fetch:function(t){var i=this;return this._query().then(function(e){!0!==e&&re(t)&&t.call(i)})},_query:function(e){var t=this;return t.query(K({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),n=t.total();if(e=e||{},i&&!(n&&i+1>t.totalPages()))return t._skip=t._currentRangeStart=i*t.take(),i+=1,e.page=i,t._query(e),i},prev:function(e){var t=this,i=t.page();if(e=e||{},i&&1!==i)return t._skip=t._currentRangeStart=t._skip-t.take(),i-=1,e.page=i,t._query(e),i},page:function(e){var t;return e!==b?(e=ye.max(ye.min(ye.max(e,1),this.totalPages()),1),this._query({page:e}),b):(t=this.skip())!==b?ye.round((t||0)/(this.take()||1))+1:b},pageSize:function(e){return e!==b?(this._query({pageSize:e,page:1}),b):this.take()},sort:function(e){return e!==b?(this._query({sort:e}),b):this._sort},filter:function(e){return e===b?this._filter:(this.trigger("reset"),this._query({filter:e,page:1}),b)},group:function(e){return e!==b?(this._query({group:e}),b):this._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){return e!==b?(this._query({aggregate:e}),b):this._aggregate},aggregates:function(){var e=this._aggregateResult;return Q(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t,i,n={};if(!Q(e))for(t={},X(e)||(e=[e]),i=0;i<e.length;i++)t[e[i].aggregate]=0,n[e[i].field]=t;return n},_wrapInEmptyGroup:function(e){var t,i,n,r=this.group();for(n=r.length-1;0<=n;n--)i=r[n],t={value:e.get(i.field),field:i.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(i.aggregates)};return t},totalPages:function(){var e=this.pageSize()||this.total();return ye.ceil((this.total()||0)/e)},inRange:function(e,t){var i=ye.min(e+t,this.total());return!this.options.serverPaging&&0<this._data.length||0<this._findRange(e,i).length},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=ye.min(e||0,this.total()),i=re(i)?i:ie;var n,r=this,a=ye.max(ye.floor(e/t),0)*t,o=ye.min(a+t,r.total());return(n=r._findRange(e,ye.min(e+t,r.total()))).length||0===r.total()?(r._processRangeData(n,e,t,a,o),i()):t!==b&&(r._rangeExists(a,o)?a<e&&r.prefetch(o,t,function(){r.range(e,t,i)}):r.prefetch(a,t,function(){a<e&&o<r.total()&&!r._rangeExists(o,ye.min(o+t,r.total()))?r.prefetch(o,t,function(){r.range(e,t,i)}):r.range(e,t,i)})),b},_findRange:function(e,t){var i,n,r,a,o,s,l,d,c,u,h,p,f=this,g=f._ranges,m=[],_=f.options,v=_.serverSorting||_.serverPaging||_.serverFiltering||_.serverGrouping||_.serverAggregates;for(n=0,h=g.length;n<h;n++)if(i=g[n],e>=i.start&&e<=i.end){for(u=0,r=n;r<h;r++)if(i=g[r],(c=f._flatData(i.data,!0)).length&&e+u>=i.start&&(s=i.data,l=i.end,v||(_.inPlaceSort?d=f._queryProcess(i.data,{filter:f.filter()}):(p=k(f.group()||[]).concat(y(f.sort()||[])),d=f._queryProcess(i.data,{sort:p,filter:f.filter()})),c=s=d.data,d.total!==b&&(l=d.total)),a=0,e+u>i.start&&(a=e+u-i.start),o=c.length,t<l&&(o-=l-t),u+=o-a,m=f._mergeGroups(m,s,a,o),t<=i.end&&u==t-e))return m;break}return[]},_mergeGroups:function(e,t,i,n){if(this._isServerGrouped()){var r,a=t.toJSON();return e.length&&(r=e[e.length-1]),function e(t,i,n,r){for(var a,o,s,l=0;i.length&&r&&(a=i[l],o=a.items,s=o.length,t&&t.field===a.field&&t.value===a.value?(t.hasSubgroups&&t.items.length?e(t.items[t.items.length-1],a.items,n,r):(o=o.slice(n,n+r),t.items=t.items.concat(o)),i.splice(l--,1)):(a.hasSubgroups&&o.length?e(a,o,n,r):(o=o.slice(n,n+r),a.items=o),a.items.length||i.splice(l--,1)),0===o.length?n-=s:(n=0,r-=o.length),!(++l>=i.length)););l<i.length&&i.splice(l,i.length-l)}(r,a,i,n),e.concat(a)}return e.concat(t.slice(i,n))},_processRangeData:function(e,t,i,n,r){var a,o,s,l,d=this;d._pending=b,d._skip=t>d.skip()?ye.min(r,(d.totalPages()-1)*d.take()):n,d._currentRangeStart=t,d._take=i,a=d.options.serverPaging,o=d.options.serverSorting,s=d.options.serverFiltering,l=d.options.serverAggregates;try{d.options.serverPaging=!0,d._isServerGrouped()||d.group()&&d.group().length||(d.options.serverSorting=!0),d.options.serverFiltering=!0,d.options.serverPaging=!0,d.options.serverAggregates=!0,a&&(d._detachObservableParents(),d._data=e=d._observe(e)),d._process(e)}finally{d.options.serverPaging=a,d.options.serverSorting=o,d.options.serverFiltering=s,d.options.serverAggregates=l}},skip:function(){var e=this;return e._skip===b?e._page!==b?(e._page-1)*(e.take()||1):b:e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(o,s,l,d){var c=this,u=c._timeStamp();return function(e){var t,i,n,r=!1,a={start:o,end:s,data:[],timestamp:c._timeStamp()};if(c._dequeueRequest(),c.trigger(ge,{response:e,type:"read"}),e=c.reader.parse(e),(n=c._readData(e)).length){for(t=0,i=c._ranges.length;t<i;t++)if(c._ranges[t].start===o){r=!0,a=c._ranges[t];break}r||c._ranges.push(a)}a.data=c._observe(n),a.end=a.start+c._flatData(a.data,!0).length,c._ranges.sort(function(e,t){return e.start-t.start}),c._total=c.reader.total(e),(d||u>=c._currentRequestTimeStamp||!c._skipRequestsInProgress)&&(l&&n.length?l():c.trigger(ce,{}))}},prefetch:function(e,t,i){var n=this,r=ye.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,r)?i&&i():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(pe,{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i),error:function(){var e=Te.call(arguments);n.error.apply(n,e)}})})},100))},_multiplePrefetch:function(e,t,i){var n=this,r=ye.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,r)?i&&i():n.trigger(pe,{type:"read"})||n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i,!0)})},_rangeExists:function(e,t){var i,n,r=this._ranges;for(i=0,n=r.length;i<n;i++)if(r[i].start<=e&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(t){var i,e,n,r;for(n=0,r=this._ranges.length;n<r&&(e=this._ranges[n],this._eachItem(e.data,function(e){i=S(e,t)}),!i);n++);this._updateRangesLength()},_insertModelInRange:function(e,t){var i,n,r=this,a=r._ranges||[],o=a.length;for(n=0;n<o;n++)if((i=a[n]).start<=e&&i.end>=e){r._getByUid(t.uid,i.data)||(r._isServerGrouped()?i.data.splice(e,0,r._wrapInEmptyGroup(t)):i.data.splice(e,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){var e,t,i=this._ranges||[],n=i.length,r=!1,a=0,o=0;for(t=0;t<n;t++)e=i[t],o=this._flatData(e.data,!0).length-ye.abs(e.end-e.start),r||0===o?r&&(e.start+=a,e.end+=a):(r=!0,a=o,e.end+=a)}}),(j={}).create=function(e,t,i){var n,r=e.transport?v.extend({},e.transport):null;return r?(r.read=typeof r.read===se?{url:r.read}:r.read,"jsdo"===e.type&&(r.dataSource=i),e.type&&(ne.data.transports=ne.data.transports||{},ne.data.schemas=ne.data.schemas||{},ne.data.transports[e.type]?J(ne.data.transports[e.type])?r=K(!0,{},ne.data.transports[e.type],r):n=new ne.data.transports[e.type](K(r,{data:t})):ne.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),e.schema=K(!0,{},ne.data.schemas[e.type],e.schema)),n||(n=re(r.read)?r:new B(r))):n=new N({data:e.data||[]}),n},W.create=function(e){(X(e)||e instanceof Ee)&&(e={data:e});var t,i,n,r=e||{},a=r.data,o=r.fields,s=r.table,l=r.select,d={};if(a||!o||r.transport||(s?a=function(e,t){var i,n,r,a,o,s,l,d=v(e)[0].tBodies[0],c=d?d.rows:[],u=t.length,h=[];for(i=0,n=c.length;i<n;i++){for(o={},l=!0,a=c[i].cells,r=0;r<u;r++)"th"!==(s=a[r]).nodeName.toLowerCase()&&(l=!1,o[t[r].field]=s.innerHTML);l||h.push(o)}return h}(s,o):l&&(a=function(e,t){var i,n,r,a,o,s,l,d,c,u;for(e=v(e)[0],i=e.options,n=t[0],r=t[1],a=[],o=0,s=i.length;o<s;o++)c={},d=i[o],(l=d.parentNode)===e&&(l=null),d.disabled||l&&l.disabled||(l&&(c.optgroup=l.label),c[n.field]=d.text,u=(u=d.attributes.value)&&u.specified?d.value:d.text,c[r.field]=u,a.push(c));return a}(l,o),r.group===b&&a[0]&&a[0].optgroup!==b&&(r.group="optgroup"))),ne.data.Model&&o&&(!r.schema||!r.schema.model)){for(t=0,i=o.length;t<i;t++)(n=o[t]).type&&(d[n.field]=n);Q(d)||(r.schema=K(!0,r.schema,{model:{fields:d}}))}return r.data=a,l=null,r.select=null,s=null,r.table=null,r instanceof W?r:new W(r)},n=P.define({idField:"id",init:function(e){var t,i=this,n=i.hasChildren||e&&e.hasChildren,r="items",a={};ne.data.Model.fn.init.call(i,e),typeof i.children===se&&(r=i.children),a={schema:{data:r,model:{hasChildren:n,id:i.idField,fields:i.fields}}},typeof i.children!==se&&K(a,i.children),a.data=e,n||(n=a.schema.data),typeof n===se&&(n=ne.getter(n)),re(n)&&(t=n.call(i,i),i.hasChildren=!(t&&0===t.length||!t)),i._childrenOptions=a,i.hasChildren&&i._initChildren(),i._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,i,n=this;n.children instanceof U||(e=n.children=new U(n._childrenOptions),t=e.transport,i=t.parameterMap,t.parameterMap=function(e,t){return e[n.idField||"id"]=n.id,i&&(e=i(e,t)),e},e.parent=function(){return n},e.bind(ce,function(e){e.node=e.node||n,n.trigger(ce,e)}),e.bind(he,function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger(he,e))}),n._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,t,i={},n="_query";return this.hasChildren?(this._initChildren(),e=this.children,i[this.idField||"id"]=this.id,this._loaded||(e._data=b,n="read"),e.one(ce,Y(this._childrenLoaded,this)),this._matchFilter&&(i.filter={field:"_matchFilter",operator:"eq",value:!0}),t=e[n](i)):this.loaded(!0),t||v.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===b?this._loaded:(this._loaded=e,b)},shouldSerialize:function(e){return P.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),(U=W.extend({init:function(e){var t=n.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),W.fn.init.call(this,K(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(he,function(e){t.trigger(he,e)})},read:function(e){var t=W.fn.read.call(this,e);return this._hierarchicalFilter&&(this._data&&0<this._data.length?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=u(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(e){var t,i=e.parentNode(),n=this;return i&&i._initChildren&&(n=i.children),t=W.fn.remove.call(n,e),i&&!n.data().length&&(i.hasChildren=!1),t},success:e("success"),data:e("data"),insert:function(e,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),W.fn.insert.call(this,e,t)},filter:function(e){return e===b?this._filter:(!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1}),b)},_markHierarchicalQuery:function(e){var t,i,n,r,a;return(e=u(e))&&0!==e.filters.length?(t=p.filterExpr(e),n=t.fields,r=t.operators,i=a=Function("d, __f, __o","return "+t.expression),(n.length||r.length)&&(a=function(e){return i(e,n,r)}),this._updateHierarchicalFilter(a),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(e){var t,i,n=this._data,r=!1;for(i=0;i<n.length;i++)(t=n[i]).hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(e),t._matchFilter||(t._matchFilter=e(t))):t._matchFilter=e(t),t._matchFilter&&(r=!0);return r},_find:function(e,t){var i,n,r,a,o=this._data;if(o){if(r=W.fn[e].call(this,t))return r;for(o=this._flatData(this._data),i=0,n=o.length;i<n;i++)if((a=o[i].children)instanceof U&&(r=a[e](t)))return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}})).create=function(e){var t=(e=e&&e.push?{data:e}:e)||{},i=t.data,n=t.fields,r=t.list;return i&&i._dataSource?i._dataSource:(i||!n||t.transport||r&&(i=function e(t,i){function n(e,t){return e.filter(t).add(e.find(t))}var r,a,o,s,l,d,c,u,h=v(t).children(),p=[],f=i[0].field,g=i[1]&&i[1].field,m=i[2]&&i[2].field,_=i[3]&&i[3].field;for(r=0,a=h.length;r<a;r++)o={_loaded:!0},s=h.eq(r),d=s[0].firstChild,u=s.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),(l=s.attr("data-id"))&&(o.id=l),d&&(o[f]=3==d.nodeType?d.nodeValue:u.text()),g&&(o[g]=n(u,"a").attr("href")),_&&(o[_]=n(u,"img").attr("src")),m&&(c=n(u,".k-sprite").prop("className"),o[m]=c&&v.trim(c.replace("k-sprite",""))),t.length&&(o.items=e(t.eq(0),i)),"true"==s.attr("data-hasChildren")&&(o.hasChildren=!0),p.push(o);return p}(r,n)),t.data=i,t instanceof U?t:new U(t))},G=ne.Observable.extend({init:function(e,t,i){ne.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!i;var n=this;e.bind("change",function(){n._change()}),e.bind("reset",function(){n._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var t=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+t)&&(i=this.range(Math.floor(e/t)*t)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):b:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,n=ye.max(ye.floor(i/t),0)*t;this.offset=i,this.dataSource.prefetch(n,t,function(){e._goToRange(i,!0)})},range:function(e,t){if(this.offset===e)return!0;var i=this,n=this.pageSize,r=ye.max(ye.floor(e/n),0)*n,a=this.dataSource;return t&&(r+=n),a.inRange(e,n)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(a.prefetch(r,n,function(){i.offset=e,i._recalculate(),i._goToRange(e,!0)}),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,n=this.dataSource;n.inRange(i,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:i,take:t}),n.prefetch(i,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:i,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+i-1,this.prefetchThreshold=n+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-i,this.nextFullRange=n,this.previousMidRange=t-i,this.previousFullRange=n-e}}),$=ne.Observable.extend({init:function(e,t){var i=this;ne.Observable.fn.init.call(i),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new G(e,3*t),this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0,i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize),i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,i,n=this.buffer,r=e*this.batchSize,a=this.batchSize,o=[];for(n.offset>r&&n.at(n.offset-1),i=0;i<a&&null!==(t=n.at(r+i));i++)o.push(t);return o},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),K(!0,ne.data,{readers:{json:t},Query:p,DataSource:W,HierarchicalDataSource:U,Node:n,ObservableObject:E,ObservableArray:Ee,LazyObservableArray:H,LocalTransport:N,RemoteTransport:B,Cache:q,DataReader:t,Model:P,Buffer:G,BatchBuffer:$})}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.data.odata.min",["kendo.core.min"],function(){return function(f,g){function i(e){for(var t in e)0===t.indexOf("@odata")&&delete e[t]}function t(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}function u(e){return e+t()+"-"+t()+"-"+t()}function v(e,t){var i=y+"--"+e;return t&&(i+="--"),i}function h(e,t,i,n,r,a,o){var s,l="";return l+=(s="",s+="--"+t+y,s+="Content-Type: multipart/mixed; boundary="+i+y),l+=function(e,t,i,n,r,a){var o,s,l,d,c,u,h,p,f,g,m,_="";for(o=0;o<e.length;o++)_+=(g=i,m=void 0,m="",m+=v(t,!1),m+=y+"Content-Type: application/http",m+=y+"Content-Transfer-Encoding: binary",m+=y+"Content-ID: "+g),_+=k+(d=r,c=e[o],u=r.options[n].type,h=n,p=void 0,p=d.options[h].url,f=b.format("{0} ",u),w(p)?f+p(c):f+p)+" HTTP/1.1",a||(_+=(s=e[o],l=void 0,l="",l+=y+"Content-Type: application/json;odata=minimalmetadata",l+=y+"Prefer: return=representation",l+=k+b.stringify(s))),_+=y,i++;return _}(e,i,n,a,r,o),l+=v(i,!0),l+=y}var b=window.kendo,p=f.extend,y="\r\n",k="\r\n\r\n",w=b.isFunction,m={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isempty:"eq",isnotempty:"ne"},_=p({},m,{contains:"contains"}),s={pageSize:f.noop,page:f.noop,filter:function(e,t,i){t&&(t=function e(t,i){var n,r,a,o,s,l,d,c,u=[],h=t.logic||"and",p=t.filters;for(n=0,r=p.length;n<r;n++)t=p[n],a=t.field,d=t.value,l=t.operator,t.filters?t=e(t,i):(c=t.ignoreCase,a=a.replace(/\./g,"/"),t=m[l],i&&(t=_[l]),"isnull"===l||"isnotnull"===l?t=b.format("{0} {1} null",a,t):"isempty"===l||"isnotempty"===l?t=b.format("{0} {1} ''",a,t):t&&d!==g&&("string"===(o=f.type(d))?(s="'{1}'",d=d.replace(/'/g,"''"),!0===c&&(a="tolower("+a+")")):"date"===o?i?(s="{1:yyyy-MM-ddTHH:mm:ss+00:00}",d=b.timezone.apply(d,"Etc/UTC")):s="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":s="{1}",3<t.length?"substringof"!==t?s="{0}({2},"+s+")":(s="{0}("+s+",{2})","doesnotcontain"===l&&(i?(s="{0}({2},'{1}') eq -1",t="indexof"):s+=" eq false")):s="{2} {0} "+s,t=b.format(s,t,d,a))),u.push(t);return t=u.join(" "+h+" "),1<u.length&&(t="("+t+")"),t}(t,i))&&(e.$filter=t)},sort:function(e,t){var i=f.map(t,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t}).join(",");i&&(e.$orderby=i)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},l={read:{dataType:"jsonp"}};p(!0,b.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t,i){var n,r,a,o;if(e=e||{},t=t||"read",o=(o=(this.options||l)[t])?o.dataType:"json","read"===t)for(a in n={$inlinecount:"allpages"},"json"!=o&&(n.$format="json"),e)s[a]?s[a](n,e[a],i):n[a]=e[a];else{if("json"!==o)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(a in e)"number"==typeof(r=e[a])&&(e[a]=r+"");n=b.stringify(e)}}return n}}}}),p(!0,b.data,{schemas:{"odata-v4":{type:"json",data:function(e){if(f.isArray(e)){for(var t=0;t<e.length;t++)i(e[t]);return e}return i(e=f.extend({},e)),e.value?e.value:[e]},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var i=b.data.transports.odata.parameterMap(e,t,!0);return"read"==t&&(i.$count=!0,delete i.$inlinecount),i},submit:function(r){var e,t,i,n,a,o,s,l,d=(e=this,t=r.data,i={},n=u("sf_batch_"),a="",o=0,s=e.options.batch.url,l=u("sf_changeset_"),i.type=e.options.batch.type,i.url=w(s)?s():s,i.headers={"Content-Type":"multipart/mixed; boundary="+n},t.updated.length&&(a+=h(t.updated,n,l,o,e,"update",!1),o+=t.updated.length,l=u("sf_changeset_")),t.destroyed.length&&(a+=h(t.destroyed,n,l,o,e,"destroy",!0),o+=t.destroyed.length,l=u("sf_changeset_")),t.created.length&&(a+=h(t.created,n,l,o,e,"create",!1)),a+=v(n,!0),i.data=a,i),c=r.data;(c.updated.length||c.destroyed.length||c.created.length)&&f.ajax(p(!0,{},{success:function(e){var t,i=function(e){var t,i,n,r,a,o,s=e.match(/--changesetresponse_[a-z0-9-]+$/gm),l=0,d=[];for(d.push({models:[],passed:!0}),o=0;o<s.length;o++)(r=s[o]).lastIndexOf("--",r.length-1)?o<s.length-1&&d.push({models:[],passed:!0}):(l=l?e.indexOf(r,l+r.length):e.indexOf(r),t=e.substring(l,e.indexOf("--",l+1)),i=t.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop(),200<=(n=b.parseFloat(i.match(/\d{3}/g).pop()))&&n<=299?(a=t.match(/\{.*\}/gm))&&d[d.length-1].models.push(JSON.parse(a[0])):d[d.length-1].passed=!1);return d}(e),n=0;c.updated.length&&((t=i[n]).passed&&r.success(t.models.length?t.models:[],"update"),n++),c.destroyed.length&&((t=i[n]).passed&&r.success([],"destroy"),n++),c.created.length&&(t=i[n]).passed&&r.success(t.models,"create")},error:function(e,t,i){r.error(e,t,i)}},d))}}}})}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.data.xml.min",["kendo.core.min"],function(){return h=window.kendo.jQuery,p=window.kendo,f=h.isArray,g=h.isPlainObject,m=h.map,_=h.each,v=h.extend,t=p.getter,e=p.Class,i=e.extend({init:function(e){var t,i,n,r,a=this,o=e.total,s=e.model,l=e.parse,d=e.errors,c=e.serialize,u=e.data;s&&(g(s)&&(t=e.modelBase||p.data.Model,s.fields&&_(s.fields,function(e,t){g(t)&&t.field?h.isFunction(t.field)||(t=v(t,{field:a.getter(t.field)})):t={field:a.getter(t)},s.fields[e]=t}),(i=s.id)&&((n={})[a.xpathToMember(i,!0)]={field:a.getter(i)},s.fields=v(n,s.fields),s.id=a.xpathToMember(i)),s=t.define(s)),a.model=s),o&&("string"==typeof o?(o=a.getter(o),a.total=function(e){return parseInt(o(e),10)}):"function"==typeof o&&(a.total=o)),d&&("string"==typeof d?(d=a.getter(d),a.errors=function(e){return d(e)||null}):"function"==typeof d&&(a.errors=d)),u&&("string"==typeof u?(u=a.xpathToMember(u),a.data=function(e){var n,t=a.evaluate(e,u);return t=f(t)?t:[t],a.model&&s.fields?(n=new a.model,m(t,function(e){if(e){var t,i={};for(t in s.fields)i[t]=n._parse(t,s.fields[t].field(e));return i}})):t}):"function"==typeof u&&(a.data=u)),"function"==typeof l&&(r=a.parse,a.parse=function(e){var t=l.call(a,e);return r.call(a,t)}),"function"==typeof c&&(a.serialize=c)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var t,i,n,r,a,o,s,l={},d=e.attributes,c=d.length;for(s=0;s<c;s++)o=d[s],l["@"+o.nodeName]=o.nodeValue;for(i=e.firstChild;i;i=i.nextSibling)3===(n=i.nodeType)||4===n?l["#text"]=i.nodeValue:1===n&&(t=this.parseDOM(i),r=i.nodeName,a=l[r],f(a)?a.push(t):a=void 0!==a?[a,t]:t,l[r]=a);return l},evaluate:function(e,t){for(var i,n,r,a,o,s=t.split(".");i=s.shift();)if(e=e[i],f(e)){for(n=[],t=s.join("."),o=0,r=e.length;o<r;o++)a=this.evaluate(e[o],t),a=f(a)?a:[a],n.push.apply(n,a);return n}return e},parse:function(e){var t,i,n={};return t=e.documentElement||h.parseXML(e).documentElement,i=this.parseDOM(t),n[t.nodeName]=i,n},xpathToMember:function(e,t){return e?0<=(e=e.replace(/^\//,"").replace(/\//g,".")).indexOf("@")?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):0<=e.indexOf("text()")?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e:""},getter:function(e){return t(this.xpathToMember(e),!0)}}),h.extend(!0,p.data,{XmlDataReader:i,readers:{xml:i}}),window.kendo;var h,p,f,g,m,_,v,t,e,i}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.pager.min",["kendo.data.min"],function(){return function(_,r){function v(e,t,i,n,r){return e({idx:t,text:i,ns:x.ns,numeric:n,title:r||""})}function s(e,t,i){return a({className:e.substring(1),text:t,wrapClassName:i||""})}function n(e,t,i,n){e.find(t).parent().attr(x.attr("page"),i).attr("tabindex",-1).toggleClass("k-state-disabled",n)}function b(e,t){n(e,c,1,t<=1)}function y(e,t){n(e,h,Math.max(1,t-1),t<=1)}function k(e,t,i){n(e,p,Math.min(i,t+1),i<=t)}function w(e,t,i){n(e,u,i,i<=t)}var x=window.kendo,e=x.ui,l=e.Widget,d=_.proxy,c=".k-i-arrow-end-left",u=".k-i-arrow-end-right",h=".k-i-arrow-60-left",p=".k-i-arrow-60-right",f="change",g=".kendoPager",m="click",S=_(document.documentElement),C=Number.MAX_VALUE,a=x.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>'),t=l.extend({init:function(e,t){var i,n,r,a,o=this;l.fn.init.call(o,e,t),t=o.options,o.dataSource=x.data.DataSource.create(t.dataSource),o.linkTemplate=x.template(o.options.linkTemplate),o.selectTemplate=x.template(o.options.selectTemplate),o.currentPageTemplate=x.template(o.options.currentPageTemplate),i=o.page(),n=o.totalPages(),o._refreshHandler=d(o.refresh,o),o.dataSource.bind(f,o._refreshHandler),o.downEvent=x.applyEventMap("down",x.guid()),t.previousNext&&(o.element.find(c).length||(o.element.append(s(c,t.messages.first,"k-pager-first")),b(o.element,i)),o.element.find(h).length||(o.element.append(s(h,t.messages.previous)),y(o.element,i))),t.numeric&&(o.list=o.element.find(".k-pager-numbers"),o.list.length||(o.list=_('<ul class="k-pager-numbers k-reset" />').appendTo(o.element))),t.input&&(o.element.find(".k-pager-input").length||o.element.append('<span class="k-pager-input k-label">'+t.messages.page+'<input class="k-textbox">'+x.format(t.messages.of,n)+"</span>"),o.element.on("keydown"+g,".k-pager-input input",d(o._keydown,o))),t.previousNext&&(o.element.find(p).length||(o.element.append(s(p,t.messages.next)),k(o.element,i,n)),o.element.find(u).length||(o.element.append(s(u,t.messages.last,"k-pager-last")),w(o.element,i,n))),t.pageSizes&&(o.element.find(".k-pager-sizes").length||(r=t.pageSizes.length?t.pageSizes:["all",5,10,20],a=_.map(r,function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+t.messages.allPages+"</option>":"<option>"+e+"</option>"}),_('<span class="k-pager-sizes k-label"><select/>'+t.messages.itemsPerPage+"</span>").appendTo(o.element).find("select").html(a.join("")).end().appendTo(o.element)),o.element.find(".k-pager-sizes select").val(o.pageSize()),x.ui.DropDownList&&o.element.find(".k-pager-sizes select").show().kendoDropDownList(),o.element.on(f+g,".k-pager-sizes select",d(o._change,o))),t.refresh&&(o.element.find(".k-pager-refresh").length||o.element.append('<a href="#" class="k-pager-refresh k-link" title="'+t.messages.refresh+'" aria-label="'+t.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),o.element.on(m+g,".k-pager-refresh",d(o._refreshClick,o))),t.info&&(o.element.find(".k-pager-info").length||o.element.append('<span class="k-pager-info k-label" />')),o.element.on(m+g,"a",d(o._click,o)).addClass("k-pager-wrap k-widget k-floatwrap"),o.element.on(m+g,".k-current-page",d(o._toggleActive,o)),t.autoBind&&o.refresh(),x.notify(o)},destroy:function(){var e=this;l.fn.destroy.call(e),e.element.off(g),e.dataSource.unbind(f,e._refreshHandler),e._refreshHandler=null,x.destroy(e.element),e.element=e.list=null},events:[f],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(f,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(f,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(e){var t,i,n,r,a,o,s=this,l=1,d=s.page(),c="",u=s.options,h=s.pageSize(),p=s.dataSource.total(),f=s.totalPages(),g=s.linkTemplate,m=u.buttonCount;if(S.unbind(s.downEvent,_.proxy(s._hideList,s)),!e||"itemchange"!=e.action){if(u.numeric){for(m<d&&(l=0==(n=d%m)?d-m+1:d-n+1),i=Math.min(l+m-1,f),1<l&&(c+=v(g,l-1,"...",!1,u.messages.morePages)),t=l;t<=i;t++)c+=v(t==d?s.selectTemplate:g,t,t,!0);i<f&&(c+=v(g,t,"...",!1,u.messages.morePages)),""===c&&(c=s.selectTemplate({text:0})),c=this.currentPageTemplate({text:d})+c,s.list.removeClass("k-state-expanded").html(c)}u.info&&(c=0<p?x.format(u.messages.display,s.dataSource.options.endless?1:Math.min((d-1)*h+1,p),Math.min(d*h,p),p):u.messages.empty,s.element.find(".k-pager-info").html(c)),u.input&&s.element.find(".k-pager-input").html(s.options.messages.page+'<input class="k-textbox" aria-label="'+d+'">'+x.format(u.messages.of,f)).find("input").val(d).attr("disabled",p<1).toggleClass("k-state-disabled",p<1),u.previousNext&&(b(s.element,d),y(s.element,d),k(s.element,d,f),w(s.element,d,f)),u.pageSizes&&(r=0<s.element.find(".k-pager-sizes option[value='all']").length,a=r&&(h===this.dataSource.total()||h==C),o=h,a&&(h="all",o=u.messages.allPages),s.element.find(".k-pager-sizes select").val(h).attr("aria-label",h).filter("["+x.attr("role")+"=dropdownlist]").kendoDropDownList("value",h).kendoDropDownList("text",o))}},_keydown:function(e){if(e.keyCode===x.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),i=parseInt(t.val(),10);(isNaN(i)||i<1||i>this.totalPages())&&(i=this.page()),t.val(i),this.page(i)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=e.currentTarget.value,i=parseInt(t,10),n=this.dataSource;isNaN(i)?"all"==(t+"").toLowerCase()&&(n._pageSize=r,n._take=r,n.fetch()):n.pageSize(i)},_toggleActive:function(){var e=this;e.list.hasClass("k-state-expanded")?S.unbind(e.downEvent,_.proxy(e._hideList,e)):S.bind(e.downEvent,_.proxy(e._hideList,e)),e.list.toggleClass("k-state-expanded")},_hideList:function(e){var t=this,i=x.eventTarget(e);_.contains(t.list[0],i)||(S.unbind(t.downEvent,_.proxy(t._hideList,t)),t.list.removeClass("k-state-expanded"))},_click:function(e){var t=_(e.currentTarget);e.preventDefault(),t.is(".k-state-disabled")||this.page(t.attr(x.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===r?0<this.dataSource.total()?this.dataSource.page():0:(this.trigger("pageChange",{index:e})||(this.dataSource.page(e),this.trigger(f,{index:e})),r)}});e.plugin(t)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.editable.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.validator.min","kendo.binder.min"],function(){return function(p,e){function u(e){return(e=null!=e?e:"").type||p.type(e)||"string"}function r(e){var t,i,n=(e.model.fields||e.model)[e.field],r=u(n),a=n?n.validation:{},o=g.attr("type"),s=g.attr("bind"),l={name:e.field,title:e.title};for(t in a)i=a[t],0<=c(t,y)?l[o]=t:d(i)||(l[t]=_(i)?i.value||t:i),l[g.attr(t+"-msg")]=i.message;return 0<=c(r,y)&&(l[o]=r),l[s]=("boolean"===r?"checked:":"value:")+e.field,l}function f(e,t){var i,n,r=e&&e.validation||{};for(i in r)n=r[i],_(n)&&n.value&&(n=n.value),d(n)&&(t[i]=n)}var g=window.kendo,t=g.ui,n=t.Widget,h=p.extend,m=g.support.browser.msie&&g.support.browser.version<9,d=g.isFunction,_=p.isPlainObject,c=p.inArray,v=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,b="equalSet",y=["url","email","number","date","boolean"],i={number:function(e,t){var i=r(t);p('<input type="text"/>').attr(i).appendTo(e).kendoNumericTextBox({format:t.format}),p("<span "+g.attr("for")+'="'+t.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},date:function(e,t){var i=r(t),n=t.format;n&&(n=g._extractFormat(n)),i[g.attr("format")]=n,p('<input type="text"/>').attr(i).appendTo(e).kendoDatePicker({format:t.format}),p("<span "+g.attr("for")+'="'+t.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},string:function(e,t){var i=r(t);p('<input type="text" class="k-input k-textbox"/>').attr(i).appendTo(e)},boolean:function(e,t){var i=r(t);p('<input type="checkbox" />').attr(i).appendTo(e)},values:function(e,t){var i=r(t),n=g.stringify(function(e){var t,i,n,r,a,o;if(e&&e.length)for(o=[],t=0,i=e.length;t<i;t++)n=e[t],a=n.text||n.value||n,r=null==n.value?n.text||n:n.value,o[t]={text:a,value:r};return o}(t.values));p("<select "+g.attr("text-field")+'="text"'+g.attr("value-field")+'="value"'+g.attr("source")+"='"+(n?n.replace(/\'/g,"&apos;"):n)+"'"+g.attr("role")+'="dropdownlist"/>').attr(i).appendTo(e),p("<span "+g.attr("for")+'="'+t.field+'" class="k-invalid-msg"/>').hide().appendTo(e)}},a=n.extend({init:function(e,t){var i=this;t.target&&(t.$angular=t.target.options.$angular),n.fn.init.call(i,e,t),i._validateProxy=p.proxy(i._validate,i),i.refresh()},events:["change"],options:{name:"Editable",editors:i,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',skipFocus:!1},editor:function(t,e){var i=this.options.editors,n=_(t),r=n?t.field:t,a=this.options.model||{},o=n&&t.values,s=o?"values":u(e),l=n&&t.editor,d=l?t.editor:i[s],c=this.element.find("["+g.attr("container-for")+"="+r.replace(v,"\\$1")+"]");d=d||i.string,l&&"string"==typeof t.editor&&(d=function(e){e.append(t.editor)}),c=c.length?c:this.element,d(c,h(!0,{},n?t:{field:r},{model:a}))},_validate:function(e){var t,i=this,n=e.value,r=i._validationEventInProgress,a={},o=g.attr("bind"),s=e.field.replace(v,"\\$1"),l=RegExp("(value|checked)\\s*:\\s*"+s+"\\s*(,|$)");a[e.field]=e.value,1<(t=p(":input["+o+'*="'+s+'"]',i.element).filter("["+g.attr("validate")+"!='false']").filter(function(){return l.test(p(this).attr(o))})).length&&(t=t.filter(function(){var e=p(this);return!e.is(":radio")||e.val()==n}));try{i._validationEventInProgress=!0,(!i.validatable.validateInput(t)||!r&&i.trigger("change",{values:a}))&&e.preventDefault()}finally{i._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element}}),n.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),e.options.model.unbind(b,e._validateProxy),g.unbind(e.element),e.validatable&&e.validatable.destroy(),g.destroy(e.element),e.element.removeData("kendoValidator"),e.element.is("["+g.attr("role")+"=editable]")&&e.element.removeAttr(g.attr("role"))},refresh:function(){var e,t,i,n,r,a,o,s,l=this,d=l.options.fields||[],c=l.options.clearContainer?l.element.empty():l.element,u=l.options.model||{},h={};for(p.isArray(d)||(d=[d]),e=0,t=d.length;e<t;e++)i=d[e],n=_(i),r=n?i.field:i,f(a=(u.fields||u)[r],h),l.editor(i,a);if(l.options.target&&l.angular("compile",function(){return{elements:c,data:c.map(function(){return{dataItem:u}})}}),!t)for(r in o=u.fields||u)f(o[r],h);c.find(":input:not(:button, .k-combobox .k-input, ["+g.attr("role")+"=listbox], ["+g.attr("role")+"=upload], ["+g.attr("skip")+"], [type=file])").each(function(){var e=g.attr("bind"),t=this.getAttribute(e)||"",i="checkbox"===this.type||"radio"===this.type?"checked:":"value:",n=this.name;-1===t.indexOf(i)&&n&&(t+=(t.length?",":"")+i+n,p(this).attr(e,t))}),l.validatable&&l.validatable.destroy(),g.bind(c,l.options.model),l.options.model.unbind("set",l._validateProxy),l.options.model.bind("set",l._validateProxy),l.options.model.unbind(b,l._validateProxy),l.options.model.bind(b,l._validateProxy),l.validatable=new g.ui.Validator(c,{validateOnBlur:!1,errorTemplate:l.options.errorTemplate||void 0,rules:h}),l.options.skipFocus||(s=c.find(":kendoFocusable").eq(0).focus(),m&&s.focus())}});t.plugin(a)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.binder.min",["kendo.core.min","kendo.data.min"],function(){return function(u,f){function e(d,c,o){return l.extend({init:function(e,t,i){var n=this;l.fn.init.call(n,e.element[0],t,i),n.widget=e,n._dataBinding=D(n.dataBinding,n),n._dataBound=D(n.dataBound,n),n._itemChange=D(n.itemChange,n)},itemChange:function(e){g(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[d]._parents()))},dataBinding:function(e){var t,i,n=this.widget,r=e.removedItems||n.items();for(t=0,i=r.length;t<i;t++)a(r[t],!1)},_ns:function(e){e=e||C.ui;var t=[C.ui,C.dataviz.ui,C.mobile.ui];return t.splice(u.inArray(e,t),1),t.unshift(e),C.rolesFromNamespaces(t)},dataBound:function(e){var t,i,n,r,a=this.widget,o=e.addedItems||a.items(),s=a[c],l=C.data.HierarchicalDataSource;if(!(l&&s instanceof l)&&o.length)for(n=e.addedDataItems||s.flatView(),r=this.bindings[d]._parents(),t=0,i=n.length;t<i;t++)o[t]&&g(o[t],n[t],this._ns(e.ns),[n[t]].concat(r))},refresh:function(e){var t,i,n,r=this,a=r.widget;(e=e||{}).action||(r.destroy(),a.bind("dataBinding",r._dataBinding),a.bind("dataBound",r._dataBound),a.bind("itemChange",r._itemChange),t=r.bindings[d].get(),a[c]instanceof C.data.DataSource&&a[c]!=t&&(t instanceof C.data.DataSource?a[o](t):t&&t._dataSource?a[o](t._dataSource):(a[c].data(t),i=C.ui.Select&&a instanceof C.ui.Select,n=C.ui.MultiSelect&&a instanceof C.ui.MultiSelect,r.bindings.value&&(i||n)&&a.value(s(r.bindings.value.get(),a.options.dataValueField)))))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}})}function p(e,t,i){var n,r={};for(n in e)r[n]=new i(t,e[n]);return r}function g(e,t,i,n){var r,a,o,s,l=e.getAttribute("data-"+C.ns+"role"),d=e.getAttribute("data-"+C.ns+"bind"),c=[],u=!0,h={};if(n=n||[t],(l||d)&&m(e,!1),l&&(o=function(e,t){var i=C.initWidget(e,{},t);if(i)return new w(i)}(e,i)),d&&(d=function e(t){var i,n,r,a,o,s,l,d={};for(l=t.match(x),i=0,n=l.length;i<n;i++)r=l[i],a=r.indexOf(":"),o=r.substring(0,a),"{"==(s=r.substring(a+1)).charAt(0)&&(s=e(s)),d[o]=s;return d}(d.replace(S,"")),o||((h=C.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:z,valuePrimitive:!1,autoBind:!0})).roles=i,o=new k(e,h)),o.source=t,a=p(d,n,_),h.template&&(a.template=new b(n,"",h.template)),a.click&&(d.events=d.events||{},d.events.click=d.click,a.click.destroy(),delete a.click),a.source&&(u=!1),d.attr&&(a.attr=p(d.attr,n,_)),d.style&&(a.style=p(d.style,n,_)),d.events&&(a.events=p(d.events,n,v)),d.css&&(a.css=p(d.css,n,_)),o.bind(a)),o&&(e.kendoBindingTarget=o),s=e.children,u&&s){for(r=0;r<s.length;r++)c[r]=s[r];for(r=0;r<c.length;r++)g(c[r],t,i,n)}}function r(e,t){var i,n,r,a=C.rolesFromNamespaces([].slice.call(arguments,2));for(t=C.observable(t),e=u(e),i=0,n=e.length;i<n;i++)1===(r=e[i]).nodeType&&g(r,t,a)}function m(e,t){var i,n=e.kendoBindingTarget;n&&(n.destroy(),E?delete e.kendoBindingTarget:e.removeAttribute?e.removeAttribute("kendoBindingTarget"):e.kendoBindingTarget=null),t&&(i=C.widgetInstance(u(e)))&&typeof i.destroy===M&&i.destroy()}function a(e,t){m(e,t),o(e,t)}function o(e,t){var i,n,r=e.children;if(r)for(i=0,n=r.length;i<n;i++)a(r[i],t)}function s(e,t){var i,n,r=[],a=0;if(!t)return e;if(e instanceof T){for(i=e.length;a<i;a++)n=e[a],r[a]=n.get?n.get(t):n[t];e=r}else e instanceof c&&(e=e.get(t));return e}var _,v,b,l,n,y,k,w,x,S,C=window.kendo,d=C.Observable,c=C.data.ObservableObject,T=C.data.ObservableArray,h={}.toString,I={},t=C.Class,D=u.proxy,F="value",H="checked",E=!0,M="function",z="change";!function(){var e=document.createElement("a");try{delete e.test}catch(e){E=!1}}(),_=d.extend({init:function(e,t){var i=this;d.fn.init.call(i),i.source=e[0],i.parents=e,i.path=t,i.dependencies={},i.dependencies[t]=!0,i.observable=i.source instanceof d,i._access=function(e){i.dependencies[e.field]=!0},i.observable&&(i._change=function(e){i.change(e)},i.source.bind(z,i._change))},_parents:function(){var e,t=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(e=i.parent(),u.inArray(e,t)<0&&(t=[e].concat(t))),t},change:function(e){var t,i,n=e.field;if("this"===this.path)this.trigger(z,e);else for(t in this.dependencies)if(0===t.indexOf(n)&&(!(i=t.charAt(n.length))||"."===i||"["===i)){this.trigger(z,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,t=e.source,i=0,n=e.path,r=t;if(!e.observable)return r;for(e.start(e.source),r=t.get(n);r===f&&t;)(t=e.parents[++i])instanceof c&&(r=t.get(n));if(r===f)for(t=e.source;r===f&&t;)(t=t.parent())instanceof c&&(r=t.get(n));return"function"==typeof r&&(0<(i=n.lastIndexOf("."))&&(t=t.get(n.substring(0,i))),e.start(t),r=t!==e.source?r.call(t,e.source):r.call(t),e.stop(t)),t&&t!==e.source&&(e.currentSource=t).unbind(z,e._change).bind(z,e._change),e.stop(e.source),r},set:function(e){var t=this.currentSource||this.source,i=C.getter(this.path)(t);"function"==typeof i?t!==this.source?i.call(t,this.source,e):i.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(z,this._change),this.currentSource&&this.currentSource.unbind(z,this._change)),this.unbind()}}),v=_.extend({get:function(){var e,t=this.source,i=this.path,n=0;for(e=t.get(i);!e&&t;)(t=this.parents[++n])instanceof c&&(e=t.get(i));return D(e,t)}}),b=_.extend({init:function(e,t,i){_.fn.init.call(this,e,t),this.template=i},render:function(e){var t;return this.start(this.source),t=C.render(this.template,e),this.stop(this.source),t}}),l=t.extend({init:function(e,t,i){this.element=e,this.bindings=t,this.options=i},bind:function(e,t){var i=this;(e=t?e[t]:e).bind(z,function(e){i.refresh(t||e)}),i.refresh(t)},destroy:function(){}}),n=l.extend({dataType:function(){var e=this.element.getAttribute("data-type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=C.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=C.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=C.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==C.parseFloat(e)?!!C.parseFloat(e):"true"===e.toLowerCase()),e}}),I.attr=l.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),I.css=l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i),this.classes={}},refresh:function(e){var t=u(this.element),i=this.bindings.css[e],n=this.classes[e]=i.get();n?t.addClass(e):t.removeClass(e)}}),I.style=l.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),I.enabled=l.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),I.readonly=l.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),I.disabled=l.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),I.events=l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i),this.handlers={}},refresh:function(e){var t=u(this.element),i=this.bindings.events[e],n=this.handlers[e];n&&t.off(e,n),n=this.handlers[e]=i.get(),t.on(e,i.source,n)},destroy:function(){var e,t=u(this.element);for(e in this.handlers)t.off(e,this.handlers[e])}}),I.text=l.extend({refresh:function(){var e=this.bindings.text.get(),t=this.element.getAttribute("data-format")||"";null==e&&(e=""),u(this.element).text(C.toString(e,t))}}),I.visible=l.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),I.invisible=l.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),I.html=l.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),I.value=n.extend({init:function(e,t,i){n.fn.init.call(this,e,t,i),this._change=D(this.change,this),this.eventName=i.valueUpdate||z,u(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=z,this.bindings[F].set(this.parsedValue()),this._initChange=!1},refresh:function(){var e,t;this._initChange||(null==(e=this.bindings[F].get())&&(e=""),"date"==(t=this.dataType())?e=C.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=C.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1},destroy:function(){u(this.element).off(this.eventName,this._change)}}),I.source=l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);var n=this.bindings.source.get();n instanceof C.data.DataSource&&!1!==i.autoBind&&n.fetch()},refresh:function(e){var t=this,i=t.bindings.source.get();i instanceof T||i instanceof C.data.DataSource?"add"==(e=e||{}).action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render():t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,i=this.container().nodeName.toLowerCase();return t||(t="select"==i?e.valueField||e.textField?C.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==i?"<tr><td>#:data#</td></tr>":"ul"==i||"ol"==i?"<li>#:data#</li>":"#:data#",t=C.template(t)),t},add:function(e,t){var i,n,r,a,o=this.container(),s=o.cloneNode(!1),l=o.children[e];if(u(s).html(C.render(this.template(),t)),s.children.length)for(i=this.bindings.source._parents(),n=0,r=t.length;n<r;n++)a=s.children[0],o.insertBefore(a,l||null),g(a,t[n],this.options.roles,[t[n]].concat(i))},remove:function(e,t){var i,n,r=this.container();for(i=0;i<t.length;i++)a(n=r.children[e],!0),n.parentNode==r&&r.removeChild(n)},render:function(){var e,t,i,n=this.bindings.source.get(),r=this.container(),a=this.template();if(null!=n)if(n instanceof C.data.DataSource&&(n=n.view()),n instanceof T||"[object Array]"===h.call(n)||(n=[n]),this.bindings.template){if(o(r,!0),u(r).html(this.bindings.template.render(n)),r.children.length)for(e=this.bindings.source._parents(),t=0,i=n.length;t<i;t++)g(r.children[t],n[t],this.options.roles,[n[t]].concat(e))}else u(r).html(C.render(a,n))}}),I.input={checked:n.extend({init:function(e,t,i){n.fn.init.call(this,e,t,i),this._change=D(this.change,this),u(this.element).change(this._change)},change:function(){var e,t,i,n=this.element,r=this.value();if("radio"==n.type)r=this.parsedValue(),this.bindings[H].set(r);else if("checkbox"==n.type)if((e=this.bindings[H].get())instanceof T){if((r=this.parsedValue())instanceof Date){for(i=0;i<e.length;i++)if(e[i]instanceof Date&&+e[i]==+r){t=i;break}}else t=e.indexOf(r);-1<t?e.splice(t,1):e.push(r)}else this.bindings[H].set(r)},refresh:function(){var e,t,i=this.bindings[H].get(),n=i,r=this.dataType(),a=this.element;if("checkbox"==a.type)if(n instanceof T){if(e=-1,(i=this.parsedValue())instanceof Date){for(t=0;t<n.length;t++)if(n[t]instanceof Date&&+n[t]==+i){e=t;break}}else e=n.indexOf(i);a.checked=0<=e}else a.checked=n;else"radio"==a.type&&null!=i&&("date"==r?i=C.toString(i,"yyyy-MM-dd"):"datetime-local"==r&&(i=C.toString(i,"yyyy-MM-ddTHH:mm:ss")),a.checked=a.value===""+i)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){u(this.element).off(z,this._change)}})},I.select={source:I.source.extend({refresh:function(e){var t,i=this,n=i.bindings.source.get();n instanceof T||n instanceof C.data.DataSource?"add"==(e=e||{}).action?i.add(e.index,e.items):"remove"==e.action?i.remove(e.index,e.items):"itemchange"!=e.action&&e.action!==f||(i.render(),i.bindings.value&&i.bindings.value&&(null===(t=s(i.bindings.value.get(),u(i.element).data("valueField")))?i.element.selectedIndex=-1:i.element.value=t)):i.render()}}),value:n.extend({init:function(e,t,i){n.fn.init.call(this,e,t,i),this._change=D(this.change,this),u(this.element).change(this._change)},parsedValue:function(){var e,t,i,n,r=this.dataType(),a=[];for(i=0,n=this.element.options.length;i<n;i++)(t=this.element.options[i]).selected&&(e=(e=t.attributes.value)&&e.specified?t.value:t.text,a.push(this._parseValue(e,r)));return a},change:function(){var e,t,i,n,r,a,o=[],s=this.element,l=this.options.valueField||this.options.textField,d=this.options.valuePrimitive;for(r=0,a=s.options.length;r<a;r++)(t=s.options[r]).selected&&(n=(n=t.attributes.value)&&n.specified?t.value:t.text,o.push(l?n:this._parseValue(n,this.dataType())));if(l)for((e=this.bindings.source.get())instanceof C.data.DataSource&&(e=e.view()),i=0;i<o.length;i++)for(r=0,a=e.length;r<a;r++)if(e[r].get(l)+""===o[i]){o[i]=e[r];break}(n=this.bindings[F].get())instanceof T?n.splice.apply(n,[0,n.length].concat(o)):this.bindings[F].set(d||!(n instanceof c||null===n||n===f)&&l?o[0].get(l):o[0])},refresh:function(){var e,t,i,n=this.element,r=n.options,a=this.bindings[F].get(),o=a,s=this.options.valueField||this.options.textField,l=this.dataType();for(o instanceof T||(o=new T([a])),n.selectedIndex=-1,i=0;i<o.length;i++)for(a=o[i],s&&a instanceof c&&(a=a.get(s)),"date"==l?a=C.toString(o[i],"yyyy-MM-dd"):"datetime-local"==l&&(a=C.toString(o[i],"yyyy-MM-ddTHH:mm:ss")),e=0;e<r.length;e++)""===(t=r[e].value)&&""!==a&&(t=r[e].text),null!=a&&t==""+a&&(r[e].selected=!0)},destroy:function(){u(this.element).off(z,this._change)}})},I.widget={events:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],i=this.handlers[e];i&&this.widget.unbind(e,i),i=t.get(),this.handlers[e]=function(e){e.data=t.source,i(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e,this._change=D(this.change,this),this.widget.bind(z,this._change)},change:function(){this.bindings[H].set(this.value())},refresh:function(){this.widget.check(!0===this.bindings[H].get())},value:function(){var e=this.element,t=e.value;return"on"!=t&&"off"!=t||(t=e.checked),t},destroy:function(){this.widget.unbind(z,this._change)}}),visible:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:e("source","dataSource","setDataSource"),value:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e,this._change=u.proxy(this.change,this),this.widget.first(z,this._change);var n=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==n||n instanceof c),this._valueIsObservableArray=n instanceof T,this._initChange=!1},_source:function(){var e;return this.widget.dataItem&&(e=this.widget.dataItem())&&e instanceof c?[e]:(this.bindings.source&&(e=this.bindings.source.get()),(!e||e instanceof C.data.DataSource)&&(e=this.widget.dataSource.flatView()),e)},change:function(){var e,t,i,n,r,a,o,s=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,d="[object Array]"===h.call(s),c=this._valueIsObservableObject,u=[];if(this._initChange=!0,l)if(""===s&&(c||this.options.valuePrimitive))s=null;else{for(o=this._source(),d&&(t=s.length,u=s.slice(0)),r=0,a=o.length;r<a;r++)if(i=o[r],n=i.get(l),d){for(e=0;e<t;e++)if(n==u[e]){u[e]=i;break}}else if(n==s){s=c?i:n;break}u[0]&&(s=this._valueIsObservableArray?u:c||!l?u[0]:u[0].get(l))}this.bindings.value.set(s),this._initChange=!1},refresh:function(){var e,t,i,n,r,a,o,s,l;if(!this._initChange){if(e=this.widget,t=e.options,i=t.dataTextField,n=t.dataValueField||i,r=this.bindings.value.get(),a=t.text||"",o=0,l=[],r===f&&(r=null),n)if(r instanceof T){for(s=r.length;o<s;o++)l[o]=r[o].get(n);r=l}else r instanceof c&&(a=r.get(i),r=r.get(n));!1!==t.autoBind||t.cascadeFrom||!e.listView||e.listView.bound()?e.value(r):(i!==n||a||(a=r),a||!r&&0!==r||!t.valuePrimitive?e._preselect(r,a):e.value(r))}this._initChange=!1},destroy:function(){this.widget.unbind(z,this._change)}}),gantt:{dependencies:e("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:l.extend({init:function(e,t,i){l.fn.init.call(this,e.element[0],t,i),this.widget=e,this._change=u.proxy(this.change,this),this.widget.first(z,this._change),this._initChange=!1},change:function(){var e,t,i,n,r,a,o,s,l,d=this,c=d.bindings[F].get(),u=d.options.valuePrimitive,h=u?d.widget.value():d.widget.dataItems(),p=this.options.dataValueField||this.options.dataTextField;if(h=h.slice(0),d._initChange=!0,c instanceof T){for(e=[],t=h.length,n=i=0,r=c[i],a=!1;r!==f;){for(l=!1,n=0;n<t;n++)if(u?a=h[n]==r:(s=(s=h[n]).get?s.get(p):s,a=s==(r.get?r.get(p):r)),a){h.splice(n,1),t-=1,l=!0;break}l?i+=1:(e.push(r),y(c,i,1),o=i),r=c[i]}y(c,c.length,0,h),e.length&&c.trigger("change",{action:"remove",items:e,index:o}),h.length&&c.trigger("change",{action:"add",items:h,index:c.length-1})}else d.bindings[F].set(h);d._initChange=!1},refresh:function(){if(!this._initChange){var e,t,i=this.options,n=this.widget,r=i.dataValueField||i.dataTextField,a=this.bindings.value.get(),o=a,s=0,l=[];if(a===f&&(a=null),r)if(a instanceof T){for(e=a.length;s<e;s++)t=a[s],l[s]=t.get?t.get(r):t;a=l}else a instanceof c&&(a=a.get(r));!1!==i.autoBind||!0===i.valuePrimitive||n._isBound()?n.value(a):n._preselect(o,a)}},destroy:function(){this.widget.unbind(z,this._change)}})},scheduler:{source:e("source","dataSource","setDataSource").extend({dataBound:function(e){var t,i,n,r,a=this.widget,o=e.addedItems||a.items();if(o.length)for(n=e.addedDataItems||a.dataItems(),r=this.bindings.source._parents(),t=0,i=n.length;t<i;t++)g(o[t],n[t],this._ns(e.ns),[n[t]].concat(r))}})}},y=function(e,t,i,n){var r,a,o,s,l;if(i=i||0,r=(n=n||[]).length,a=e.length,o=[].slice.call(e,t+i),s=o.length,r){for(r=t+r,l=0;t<r;t++)e[t]=n[l],l++;e.length=r}else if(i)for(e.length=t,i+=t;t<i;)delete e[--i];if(s){for(s=t+s,l=0;t<s;t++)e[t]=o[l],l++;e.length=s}for(t=e.length;t<a;)delete e[t],t++},k=t.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,i,n,r,a,o,s=this instanceof w,l=this.binders();for(t in e)t==F?i=!0:"source"==t?n=!0:"events"!=t||s?t==H?a=!0:"css"==t?o=!0:this.applyBinding(t,e,l):r=!0;n&&this.applyBinding("source",e,l),i&&this.applyBinding(F,e,l),a&&this.applyBinding(H,e,l),r&&!s&&this.applyBinding("events",e,l),o&&!s&&this.applyBinding("css",e,l)},binders:function(){return I[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,i){var n,r=i[e]||I[e],a=this.toDestroy,o=t[e];if(r)if(r=new r(this.target,t,this.options),a.push(r),o instanceof _)r.bind(o),a.push(o);else for(n in o)r.bind(o,n),a.push(o[n]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,i=this.toDestroy;for(e=0,t=i.length;e<t;e++)i[e].destroy()}}),w=k.extend({binders:function(){return I.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,i){var n,r=i[e]||I.widget[e],a=this.toDestroy,o=t[e];if(!r)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(r=new r(this.target,t,this.target.options),a.push(r),o instanceof _)r.bind(o),a.push(o);else for(n in o)r.bind(o,n),a.push(o[n])}}),x=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,S=/\s/g,C.unbind=function(e){var t,i;for(e=u(e),t=0,i=e.length;t<i;t++)a(e[t],!1)},C.bind=r,C.data.binders=I,C.data.Binder=l,C.notify=function(e,t){var i=e.element,n=i[0].kendoBindingTarget;n&&r(i,n.source,t)},C.observable=function(e){return e instanceof c||(e=new c(e)),e},C.observableHierarchy=function(e){var t=C.data.HierarchicalDataSource.create(e);return t.fetch(),function e(t){var i,n;for(i=0;i<t.length;i++)t[i]._initChildren(),(n=t[i].children).fetch(),t[i].items=n.data(),e(t[i].items)}(t.data()),(t._data._dataSource=t)._data}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.validator.min",["kendo.core.min"],function(){return function(p,e){function o(e,t){var i,n,r,a=p();for(n=0,r=e.length;n<r;n++)i=e[n],s.test(i.className)&&i.getAttribute(f.attr("for"))===t&&(a=a.add(i));return a}var t,f=window.kendo,a=f.ui.Widget,i=".kendoValidator",r="k-invalid-msg",s=RegExp(r,"i"),n=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,l=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,d=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",u="[type=number],[type=range]",h="novalidate",g="validate",m="change",_="validateInput",v=p.proxy,b=function(e,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(e)},y=function(e,t,i){var n=e.val();return!e.filter(t).length||""===n||b(n,i)};f.ui.validator||(f.ui.validator={rules:{},messages:{}}),t=a.extend({init:function(e,t){var i=this,n=function(e){var t,i=f.ui.validator.ruleResolvers||{},n={};for(t in i)p.extend(!0,n,i[t].resolve(e));return n}(e),r="["+f.attr("validate")+"!=false]";(t=t||{}).rules=p.extend({},f.ui.validator.rules,n.rules,t.rules),t.messages=p.extend({},f.ui.validator.messages,n.messages,t.messages),a.fn.init.call(i,e,t),i._errorTemplate=f.template(i.options.errorTemplate),i.element.is("form")&&i.element.attr(h,h),i._inputSelector=d+r,i._checkboxSelector=c+r,i._errors={},i._attachEvents(),i._isValidated=!1},events:[g,m,_],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-i-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(e){var t,i,n=e.filter("[type=checkbox]").length&&!e.is(":checked"),r=e.val();return i="required",!((t=e).length&&null!=t[0].attributes[i]&&(!r||""===r||0===r.length||n))},pattern:function(e){return!e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===e.val()||b(e.val(),e.attr("pattern"))},min:function(e){if(e.filter(u+",["+f.attr("type")+"=number]").filter("[min]").length&&""!==e.val()){var t=parseFloat(e.attr("min"))||0,i=f.parseFloat(e.val());return t<=i}return!0},max:function(e){if(e.filter(u+",["+f.attr("type")+"=number]").filter("[max]").length&&""!==e.val()){var t=parseFloat(e.attr("max"))||0,i=f.parseFloat(e.val());return i<=t}return!0},step:function(e){if(e.filter(u+",["+f.attr("type")+"=number]").filter("[step]").length&&""!==e.val()){var t,i=parseFloat(e.attr("min"))||0,n=parseFloat(e.attr("step"))||1,r=parseFloat(e.val()),a=1<(o=((o=n)+"").split(".")).length?o[1].length:0;return a?(t=Math.pow(10,a),Math.floor((r-i)*t)%(n*t)/Math.pow(100,a)==0):(r-i)%n==0}var o;return!0},email:function(e){return y(e,"[type=email],["+f.attr("type")+"=email]",n)},url:function(e){return y(e,"[type=url],["+f.attr("type")+"=url]",l)},date:function(e){return!e.filter("[type^=date],["+f.attr("type")+"=date]").length||""===e.val()||null!==f.parseDate(e.val(),e.attr(f.attr("format")))}},validateOnBlur:!0},destroy:function(){a.fn.destroy.call(this),this.element.off(i)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(e){return!!this.validate()||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_checkElement:function(e){var t=this.value();this.validateInput(e),this.value()!==t&&this.trigger(m)},_attachEvents:function(){var e=this;e.element.is("form")&&e.element.on("submit"+i,v(e._submit,e)),e.options.validateOnBlur&&(e.element.is(d)?(e.element.on("blur"+i,function(){e._checkElement(e.element)}),e.element.is(c)&&e.element.on("click"+i,function(){e._checkElement(e.element)})):(e.element.on("blur"+i,e._inputSelector,function(){e._checkElement(p(this))}),e.element.on("click"+i,e._checkboxSelector,function(){e._checkElement(p(this))})))},validate:function(){var e,t,i,n,r=!1,a=this.value();if(this._errors={},this.element.is(d))r=this.validateInput(this.element);else{for(n=!1,e=this.element.find(this._inputSelector),t=0,i=e.length;t<i;t++)this.validateInput(e.eq(t))||(n=!0);r=!n}return this.trigger(g,{valid:r}),a!==r&&this.trigger(m),r},validateInput:function(e){var t,i,n,r,a,o,s,l,d,c,u,h;return e=p(e),this._isValidated=!0,i=(t=this)._errorTemplate,n=t._checkValidity(e),r=n.valid,a=e.attr("name")||"",o=t._findMessageContainer(a).add(e.next(".k-invalid-msg").filter(function(){var e=p(this);return!e.filter("["+f.attr("for")+"]").length||e.attr(f.attr("for"))===a})).hide(),l=!e.attr("aria-invalid"),e.removeAttr("aria-invalid"),r?delete t._errors[a]:(s=t._extractMessage(e,n.key),t._errors[a]=s,u=i({message:(h=s,h.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">"))}),d=p(p.parseHTML?p.parseHTML(u):u),c=o.attr("id"),t._decorateMessageContainer(d,a),c&&d.attr("id",c),o.replaceWith(d).length||d.insertAfter(e),d.show(),e.attr("aria-invalid",!0)),l!==r&&this.trigger(_,{valid:r,input:e}),e.toggleClass("k-invalid",!r),e.toggleClass("k-valid",r),r},hideMessages:function(){var e="."+r,t=this.element;t.is(d)?t.next(e).hide():t.find(e).hide()},_findMessageContainer:function(e){var t,i,n,r=f.ui.validator.messageLocators,a=p();for(i=0,n=this.element.length;i<n;i++)a=a.add(o(this.element[i].getElementsByTagName("*"),e));for(t in r)a=a.add(r[t].locate(this.element,e));return a},_decorateMessageContainer:function(e,t){var i,n=f.ui.validator.messageLocators;for(i in e.addClass(r).attr(f.attr("for"),t||""),n)n[i].decorate(e,t);e.attr("role","alert")},_extractMessage:function(e,t){var i,n=this.options.messages[t],r=e.attr("name");return f.ui.Validator.prototype.options.messages[t]||(i=f.isFunction(n)?n(e):n),n=f.isFunction(n)?n(e):n,f.format(e.attr(f.attr(t+"-msg"))||e.attr("validationMessage")||i||e.attr("title")||n||"",r,e.attr(t)||e.attr(f.attr(t)))},_checkValidity:function(e){var t,i=this.options.rules;for(t in i)if(!i[t].call(this,e))return{valid:!1,key:t};return{valid:!0}},errors:function(){var e,t=[],i=this._errors;for(e in i)t.push(i[e]);return t}}),f.ui.plugin(t)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("util/text-metrics.min",["kendo.core.min"],function(){!function(t){function h(e){return(e+"").replace(n,r)}function p(e){var t,i=[];for(t in e)i.push(t+e[t]);return i.sort().join("")}function f(e){var t,i=2166136261;for(t=0;t<e.length;++t)i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24),i^=e.charCodeAt(t);return i>>>0}var i,n,r,a,g,o;window.kendo.util=window.kendo.util||{},i=kendo.Class.extend({init:function(e){this._size=e,this._length=0,this._map={}},put:function(e,t){var i=this._map,n={key:e,value:t};i[e]=n,this._head?((this._tail.newer=n).older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}),n=/\r?\n|\r|\t/g,r=" ",a={baselineMarkerSize:1},"undefined"!=typeof document&&((g=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"),(o=kendo.Class.extend({init:function(e){this._cache=new i(1e3),this.options=t.extend({},a,e)},measure:function(e,t,i){var n,r,a,o,s,l,d,c,u;if(void 0===i&&(i={}),!e)return{width:0,height:0,baseline:0};if(n=p(t),r=f(e+n),a=this._cache.get(r))return a;for(d in o={width:0,height:0,baseline:0},s=i.box||g,l=this._baselineMarker().cloneNode(!1),t)void 0!==(c=t[d])&&(s.style[d]=c);return u=!1!==i.normalizeText?h(e):e+"",s.textContent=u,s.appendChild(l),document.body.appendChild(s),u.length&&(o.width=s.offsetWidth-this.options.baselineMarkerSize,o.height=s.offsetHeight,o.baseline=l.offsetTop+this.options.baselineMarkerSize),0<o.width&&0<o.height&&this._cache.put(r,o),s.parentNode.removeChild(s),o},_baselineMarker:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}})).current=new o,kendo.deepExtend(kendo.util,{LRUCache:i,TextMetrics:o,measureText:function(e,t,i){return o.current.measure(e,t,i)},objectKey:p,hashKey:f,normalizeText:h})}(window.kendo.jQuery)}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.ooxml.min","kendo.excel.min","kendo.progressbar.min","kendo.pdf.min"],function(){return function(I,w){function l(e,t){return"["+te.attr(e)+"="+t+"]"}function v(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function b(e){var t,i=" ";if(e){if(typeof e===ft)return e;for(t in e)""!==e[t]&&(i+=t+'="'+e[t]+'"')}return i}function o(e,t){I("th, th .k-grid-filter, th .k-link",e).add(document.body).css("cursor",t)}function y(e,t,i,n,r){var a,o=t;for(t=I(),r=r||1,a=0;a<r;a++)t=t.add(e.eq(o+a));"number"==typeof i?t[n?"insertBefore":"insertAfter"](e.eq(i)):t.appendTo(i)}function k(e,t,i){return I(e).add(t).find(i)}function r(e,t,i){var n,r,a,o;for(i=ge(i)?i:[i],n=0,r=i.length;n<r;n++)a=i[n],ue(a)&&a.click&&(o=a.name||a.text,t.on(ct+Me,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},ve(a.click,e)))}function _(e,t){var i=[];return c(e,t,i),i[i.length-1]}function c(e,t,i){var n,r;for(i=i||[],n=0;n<t.length;n++){if(e===t[n])return!0;if(t[n].columns){if(r=i.length,i.push(t[n]),c(e,t[n].columns,i))return!0;i.splice(r,i.length-r)}}return!1}function x(e,t){var i=t?a:s;e.hidden=!t,e.attributes=i(e.attributes),e.footerAttributes=i(e.footerAttributes),e.headerAttributes=i(e.headerAttributes)}function D(){return"none"!==this.style.display}function F(e){return 0<S([e]).length}function S(e){return fe(e,function(e){var t=!e.hidden;return t&&e.columns&&(t=0<S(e.columns).length),t})}function C(e,t,i,n,r,a,o){var s,l,d=T(e),c=T([t]);c<d&&(s=Array(o+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),l=a.children(":not(.k-filter-row)"),I(Array(d-c+1).join("<tr>"+s+"</tr>")).insertAfter(l.last())),function(e,t){var i,n=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(i=0;i<n.length;i++)n[i].rowSpan+=t}(a,d-c),function e(t,i,n,r){var a,o,s=g(t[0],i),l=n.find(">tr:not(.k-filter-row):eq("+s.row+")>th.k-header"),d=I(),c=s.cell;for(a=0;a<t.length;a++)d=d.add(l.eq(c+a));for(r.find(">tr:not(.k-filter-row)").eq(s.row).append(d),o=[],a=0;a<t.length;a++)t[a].columns&&(o=o.concat(t[a].columns));o.length&&e(o,i,n,r)}(i,n,r,a)}function i(e,t,i){var n,r,a,o,s,l,d;for(i=i||0,t=L(r=t),a={},o=e.find(">tr:not(.k-filter-row)"),s=function(){var e=I(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")},l=0,d=t.length;l<d;l++)n=H(t[l],r),a[n.row]||(a[n.row]=o.eq(n.row).find(".k-header").filter(s)),a[n.row].eq(n.cell).attr(te.attr("index"),i+l);return t.length}function T(e){var t,i,n=0;for(t=0;t<e.length;t++)e[t].columns&&(i=T(e[t].columns),n<i&&(n=i));return 1+n}function H(e,t,i,n){var r,a;for((n=n||{})[i=i||0]=n[i]||0,a=0;a<t.length;a++){if(t[a]==e){r={cell:n[i],row:i};break}if(t[a].columns&&(r=H(e,t[a].columns,i+1,n)))break;n[i]++}return r}function g(e,t,i,n){var r,a;for((n=n||{})[i=i||0]=n[i]||0,a=0;a<t.length;a++){if(t[a]==e){r={cell:n[i],row:i};break}if(t[a].columns&&(r=g(e,t[a].columns,i+1,n)))break;t[a].hidden||n[i]++}return r}function d(e){var t=E(A(e));return t.concat(E(O(e)))}function u(e,t,i,n){var r=e[i],a=e[n],o=_(r,t);return t=o?o.columns:t,me(a,t)}function E(e){var t,i=[],n=[];for(t=0;t<e.length;t++)i.push(e[t]),e[t].columns&&(n=n.concat(e[t].columns));return n.length&&(i=i.concat(E(n))),i}function M(e){var t,i,n=0;for(i=0;i<e.length;i++)(t=e[i]).columns?n+=M(t.columns):t.hidden&&n++;return n}function h(e){var t,i,n,r=0;for(i=0,n=e.length;i<n;i++)(t=e[i].style.width)&&-1==t.indexOf("%")&&(r+=parseInt(t,10));return r}function z(e){var t,i=e.find("tr:not(.k-filter-row)"),n=i.filter(function(){return!I(this).children().length}).remove().length,r=i.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(t=0;t<r.length;t++)1<r[t].rowSpan&&(r[t].rowSpan-=n);return i.length-n}function P(e,t,i,n,r){var a,o,s,l=[];for(a=0,s=e.length;a<s;a++)(o=i[n]||[]).push(t.eq(r+a)),i[n]=o,e[a].columns&&(l=l.concat(e[a].columns));l.length&&P(l,t,i,n+1,r+e.length)}function A(e){return fe(e,function(e){return e.locked})}function O(e){return fe(e,function(e){return!e.locked})}function n(e){return fe(e,function(e){return!e.locked&&F(e)})}function p(e){return fe(e,function(e){return e.locked&&F(e)})}function R(e){var t,i=[];for(t=0;t<e.length;t++)e[t].hidden||(e[t].columns?i=i.concat(R(e[t].columns)):i.push(e[t]));return i}function L(e){var t,i=[];for(t=0;t<e.length;t++)e[t].columns?i=i.concat(L(e[t].columns)):i.push(e[t]);return i}function V(e){var r,t=e.find(">tr:not(.k-filter-row)"),i=function(){var e=I(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")},n=I();return 1<t.length&&(n=t.find("th").filter(i).filter(function(){return 1<this.rowSpan})),n=n.add(t.last().find("th").filter(i)),r=te.attr("index"),n.sort(function(e,t){var i,n;return e=I(e),t=I(t),i=e.attr(r),n=t.attr(r),i===w&&(i=I(e).index()),n===w&&(n=I(t).index()),i=parseInt(i,10),(n=parseInt(n,10))<i?1:i<n?-1:0}),n}function N(e){var t,i,n,r,a,o,s,l=e.closest("thead"),d=I().add(e),c=e.closest("tr"),u=l.find("tr:not(.k-filter-row)"),h=u.index(c)+e[0].rowSpan,p=te.attr("colspan");if(h<=u.length-1){for(t=c.next(),i=(i=e.prevAll(":not(.k-group-cell,.k-hierarchy-cell)")).filter(function(){return!this.rowSpan||1===this.rowSpan}),n=r=0;n<i.length;n++)r+=parseInt(i.eq(n).attr(p),10)||1;for(a=t.find("th:not(.k-group-cell,.k-hierarchy-cell)"),o=parseInt(e.attr(p),10)||1,n=0;n<o;)t=a.eq(n+r),d=d.add(N(t)),1<(s=parseInt(t.attr(p),10))&&(o-=s-1),n++}return d}function f(e,t,i,n){var r,a=e;return n&&e.empty(),ae?e[0].innerHTML=i:((r=document.createElement("div")).innerHTML="<table><tbody>"+i+"</tbody></table>",e=r.firstChild.firstChild,t[0].replaceChild(e,a[0]),e=I(e)),e}function s(e){var t=(e=e||{}).style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"))===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1")):t="display:none",he({},e,{style:t})}function a(e){var t=(e=e||{}).style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function m(e,t,i,n){var r,a=e.find(">colgroup"),o=pe(t,function(e){return(r=e.width)&&0!==parseInt(r,10)?te.format('<col style="width:{0}"/>',typeof r===ft?r:r+"px"):"<col />"});(i||a.find(".k-hierarchy-col").length)&&o.splice(0,0,'<col class="k-hierarchy-col" />'),a.length&&a.remove(),(a=I(Array(n+1).join('<col class="k-group-col">')+o.join(""))).is("colgroup")||(a=I("<colgroup/>").append(a)),e.prepend(a),Ct.msie&&8==Ct.version&&(e.css("display","inline-table"),window.setTimeout(function(){e.css("display","")},1))}function B(e){var t,i,n,r={};for(i=0,n=e.length;i<n;i++)t=e[i],r[t.value]=t.text;return r}function q(e,t,i){for(var n=0,r=e[n];r;){if((i||"none"!==r.style.display)&&!wt.test(r.className)&&--t<0){r.style.display=i?"":"none";break}r=e[++n]}}function W(e,t){for(var i,n,r=0,a=e.length;r<a;r+=1)(n=e.eq(r)).is(".k-grouping-row,.k-detail-row")?(i=n.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(i.attr("colspan"),10)-1):(n.hasClass("k-grid-edit-row")&&(i=n.children(".k-edit-container")[0])&&((i=I(i)).attr("colspan",parseInt(i.attr("colspan"),10)-1),i.find("col").eq(t).remove(),n=i.find("tr:first")),q(n[0].cells,t,!1))}function j(e){var t,i,n=[];for(i=0;i<e.length&&"field"in(t=e[i])&&"value"in t&&"items"in t;i++)n.push(t),t.hasSubgroups&&(n=n.concat(j(t.items)));return n}function U(e,t){for(var i,n,r=0,a=e.length;r<a;r+=1)(n=e.eq(r)).is(".k-grouping-row,.k-detail-row")?(i=n.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(i.attr("colspan"),10)+1):(n.hasClass("k-grid-edit-row")&&(i=n.children(".k-edit-container")[0])&&((i=I(i)).attr("colspan",parseInt(i.attr("colspan"),10)+1),m(i.find(">form>table"),S(void 0),!1,0),n=i.find("tr:first")),q(n[0].cells,t,!0))}function G(e,t,i){var n,r,a;for(i=i||1,r=0,a=e.length;r<a;r++)(n=e.eq(r).children().last()).attr("colspan",parseInt(n.attr("colspan"),10)+i),(n=t.eq(r).children().last()).attr("colspan",parseInt(n.attr("colspan"),10)-i)}function t(e){var t,i,n=0,r=e.find(">colgroup>col");for(t=0,i=r.length;t<i;t+=1)n+=parseInt(r[t].style.width,10);return n}function $(e,t){var i,n=e.offsetHeight,r=t.offsetHeight;r<n?i=n+"px":n<r&&(i=r+"px"),i&&(e.style.height=t.style.height=i)}function K(e,t){var i,n,r;if(typeof e===ft&&e===t)return e;if(ue(e)&&e.name===t)return e;if(ge(e))for(i=0,n=e.length;i<n;i++)if(typeof(r=e[i])===ft&&r===t||r.name===t)return r;return null}function Y(e,t){if(!0===t){var i=(e=I(e)).parent().scrollLeft();te.focusElement(e),e.parent().scrollLeft(i)}else I(e).one("focusin",function(e){e.preventDefault()}).focus()}function J(e,t){return!(!e.field||e.selectable||t.editable&&!t.editable(e.field)||e.editable&&!e.editable(t))}function Q(e){return I(e).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function X(e){var t=I(e.currentTarget),i=t.is("th"),n=this.table.add(this.lockedTable),r=this.thead.parent().add(I(">table",this.lockedHeader)),a=Q(e.target),o=I(e.target),s=t.closest("table")[0];if(!te.support.touch)return a&&t.find(te.roleSelector("filtercell")).length?this._setCurrent(t):s!==n[0]&&s!==n[1]&&s!==r[0]&&s!==r[1]||o.is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(t),!i&&a||setTimeout(function(){It&&I(te._activeElement()).hasClass("k-widget")||Q(te._activeElement())&&I.contains(s,te._activeElement())||Y(s,!0)}),i&&e.preventDefault()),w}function Z(e,t,i){return'<tr role="row" class="k-grouping-row">'+v(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" '+vt+'="'+mt+'"></a>'+i+"</p></td></tr>"}function ee(e){return'<tr role="row" class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var te=window.kendo,ie=te.ui,ne=te.data.DataSource,re=te.data.ObservableObject,ae=te.support.tbodyInnerHtml,oe=te._activeElement,se=ie.Widget,le=te._outerWidth,de=te._outerHeight,ce=te.keys,ue=I.isPlainObject,he=I.extend,pe=I.map,fe=I.grep,ge=I.isArray,me=I.inArray,_e=Array.prototype.push,ve=I.proxy,be=te.isFunction,ye=I.isEmptyObject,ke=I.contains,we=Math,xe="progress",Se="error",Ce=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Te="tr:not(.k-footer-template):visible",Ie=":not(.k-group-cell):not(.k-hierarchy-cell):visible",De="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",Fe=De+":first",He=Te+":first>"+Ie+":first",Ee="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",Me=".kendoGrid",ze="edit",Pe="beforeEdit",Ae="save",Oe="remove",Re="detailInit",Le="filterMenuInit",Ve="columnMenuInit",Ne="filterMenuOpen",Be="columnMenuOpen",qe="cellClose",We="change",je="columnHide",Ue="columnShow",Ge="saveChanges",$e="dataBound",Ke="detailExpand",Ye="detailCollapse",Je="itemchange",Qe="page",Xe="paging",Ze="sync",et="k-state-focused",tt=":kendoFocusable",it="k-state-selected",e="k-checkbox",nt="input[data-role='checkbox']."+e,rt="k-grid-norecords",at="columnResize",ot="columnReorder",st="columnLock",lt="columnUnlock",dt="navigate",ct="click",ut="height",ht="tabIndex",pt="function",ft="string",gt="container-for",mt="Collapse",_t="Expand",vt="aria-label",bt=/(\}|\#)/gi,yt=/#/gi,kt="[\\x20\\t\\r\\n\\f]",wt=RegExp("(^|"+kt+")(k-group-cell|k-hierarchy-cell)("+kt+"|$)"),xt=RegExp("(^|"+kt+")(k-filter-row)("+kt+"|$)"),St=!1,Ct=te.support.browser,Tt=Ct.msie&&7==Ct.version,It=Ct.msie&&8==Ct.version,Dt=se.extend({init:function(e,t){se.fn.init.call(this,e,t),this._refreshHandler=ve(this.refresh,this),this.setDataSource(t.dataSource),this.wrap()},setDataSource:function(e){this.dataSource&&this.dataSource.unbind(We,this._refreshHandler),this.dataSource=e,this.dataSource.bind(We,this._refreshHandler),this.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:I.noop,prefetch:!0,maxScrollHeight:25e4},events:[Xe,Qe,"scroll"],destroy:function(){var e=this;se.fn.destroy.call(e),e.dataSource.unbind(We,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(Me),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null},wrap:function(){var t,i=this,e=te.support.scrollbar()+1,n=i.element;n.css({width:"auto",overflow:"hidden"}).css(St?"padding-left":"padding-right",e),i.content=n.children().first(),t=i.wrapper=i.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+Me+" mousewheel"+Me,ve(i._wheelScroll,i)),te.support.kineticScrollNeeded&&(i.drag=new te.UserEvents(i.wrapper,{global:!0,allowSelection:!0,start:function(e){e.sender.capture()},move:function(e){i.verticalScrollbar.scrollTop(i.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),i.verticalScrollbar=I('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:e}).appendTo(n).bind("scroll"+Me,ve(i._scroll,i))},_wheelScroll:function(e){if(!e.ctrlKey){var t=this.verticalScrollbar,i=t.scrollTop(),n=te.wheelDeltaY(e);!n||0<n&&0===i||n<0&&i+t[0].clientHeight==t[0].scrollHeight||(e.preventDefault(),this.verticalScrollbar.scrollTop(i+-n))}},_scroll:function(e){var t=this,i=!t.options.prefetch,n=e.currentTarget.scrollTop,r=t.dataSource,a=t.itemHeight,o=r.skip()||0,s=t._rangeStart||o,l=t.element.innerHeight(),d=!!(t._scrollbarTop&&t._scrollbarTop>n),c=we.max(we.floor(n/a),0),u=d?we.ceil(l/a):we.floor(l/a),h=we.max(c+u,0);return t._preventScroll?t._preventScroll=!1:(t._scrollTop=n-s*a,t._scrollbarTop=n,t._scrolling=i,t._fetch(c,h,d)||(t.wrapper[0].scrollTop=t._scrollTop),t.trigger("scroll"),i&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){t._scrolling=!1,t._page(t._rangeStart,t.dataSource.take())},100))),w},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var e=this.verticalScrollbar;this._scrollTo(e[0].scrollHeight-e.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var e=this.wrapper,t=e.scrollTop();e[0].scrollWidth>e[0].clientWidth?this._wrapperScrolled&&!this._isScrolledToBottom()||(e.scrollTop(t+te.support.scrollbar()),this._scrollTop=e.scrollTop(),this._wrapperScrolled=!0):this._wrapperScrolled&&(this._isWrapperScrolledToBottom()||(e.scrollTop(t-te.support.scrollbar()),this._scrollTop=e.scrollTop()),this._wrapperScrolled=!1)},_scrollTo:function(e){var t=this.verticalScrollbar;t.scrollTop()!==e&&(this._preventScroll=!0),this.wrapper.scrollTop(e),this._scrollTop=this.wrapper.scrollTop(),t.scrollTop(e),this._scrollbarTop=t.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var e=this.verticalScrollbar,t=e.scrollTop();return 0<t&&t>=parseInt(e[0].scrollHeight-e.height(),10)},_isWrapperScrolledToBottom:function(){var e=this.wrapper;return e.scrollTop()>=parseInt(e[0].scrollHeight-e.height(),10)},itemIndex:function(e){var t=this._rangeStart||this.dataSource.skip()||0;return t+e},_isElementVisible:function(e){return this._isElementVisibleInWrapper(e)},_isElementVisibleInWrapper:function(e){var t,i,n=this.wrapper;return!!((e=I(e))[0]&&ke(n[0],e[0])&&(t=parseInt(e.position().top,10),i=e.outerHeight()/2,(0<=t||we.abs(t)<=i)&&t+i<=n.height()))},position:function(e){var t,i=this._rangeStart||this.dataSource.skip()||0,n=this.dataSource.pageSize();return n<(t=i<e?e-i+1:i-e-1)?n:t},scrollIntoView:function(e){var t=this.wrapper[0],i=t.clientHeight,n=this._isScrolledToBottom()?t.scrollTop:this._scrollTop||t.scrollTop,r=e[0].offsetTop,a=e[0].offsetHeight;r<n?this.verticalScrollbar[0].scrollTop-=i/2:n+i<=r+a&&(this.verticalScrollbar[0].scrollTop+=i/2)},_fetch:function(e,t,i){var n=this,r=n.dataSource,a=n.itemHeight,o=r.take(),s=n._rangeStart||r.skip()||0,l=we.floor(e/o)*o,d=!1,c=n.verticalScrollbar,u=Ct.webkit?1:0;return e<s?(d=!0,s=we.max(0,t-o),n._scrollTop=c.scrollTop()-s*a,n._page(s,o)):s+o<=t&&!i?(d=!0,s=we.min(e,r.total()-o),n._scrollTop=c.scrollTop()>=c[0].scrollHeight-c.height()-u?n.wrapper[0].scrollHeight-n.wrapper.height():a,n._page(s,o)):!n._fetching&&n.options.prefetch&&(e<l+o-.33*o&&o<e&&r.prefetch(l-o,o,I.noop),l+.33*o<t&&r.prefetch(l+o,o,I.noop)),d},fetching:function(){return this._fetching},_page:function(e,t,i){var n=this,r=!n.options.prefetch,a=n.dataSource;i=be(i)?i:I.noop,n.trigger(Xe,{skip:e,take:t})||(clearTimeout(n._timeout),n._fetching=!0,n._rangeStart=e,a.inRange(e,t)?(te.ui.progress(I(n.wrapper).parent(),!0),a.range(e,t,function(){te.ui.progress(I(n.wrapper).parent(),!1),i(),n.trigger(Qe)})):(r||te.ui.progress(n.wrapper.parent(),!0),n._timeout=setTimeout(function(){n._scrolling||(r&&te.ui.progress(n.wrapper.parent(),!0),a.range(e,t,function(){te.ui.progress(n.wrapper.parent(),!1),i(),n.trigger(Qe)}))},100)))},repaintScrollbar:function(e){var t,i=this,n="",r=i.options.maxScrollHeight,a=i.dataSource,o=te.support.kineticScrollNeeded?0:te.support.scrollbar(),s=i.wrapper[0],l=i._isScrolledToBottom(),d=i.itemHeight=i.options.itemHeight()||0,c=s.scrollWidth>s.offsetWidth?o:0,u=a.total()*d+c;for(t=0;t<we.floor(u/r);t++)n+='<div style="width:1px;height:'+r+'px"></div>';u%r&&(n+='<div style="width:1px;height:'+u%r+'px"></div>'),i.verticalScrollbar.html(n),l&&!i._isScrolledToBottom()&&i.scrollToBottom(),w!==i._scrollTop&&e&&(s.scrollTop=i._scrollTop,i._scrollWrapperOnColumnResize())},refresh:function(e){var t=this,i=t.dataSource,n=t._rangeStart,r=(e||{}).action,a=t._isScrolledToBottom()||!r||r!==Je&&r!==Oe&&r!==Ze;te.ui.progress(t.wrapper.parent(),!1),clearTimeout(t._timeout),t.repaintScrollbar(a),t.drag&&t.drag.cancel(),w===n||t._fetching||((!r||r!==Ze&&r!==Je)&&(t._rangeStart=i.skip()),1!==i.page()||r&&(r===Ze||r===Je)||(t.verticalScrollbar[0].scrollTop=0)),t._fetching=!1}}),Ft={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}},Ht=te.ui.DataBoundWidget.extend({init:function(e,t,i){var n=this;t=ge(t)?{dataSource:t}:t,se.fn.init.call(n,e,t),i&&(n._events=i),St=te.support.isRtl(e),n._element(),n._aria(),n._columns(I.extend(!0,[],n.options.columns)),n._dataSource(),n._tbody(),n._pageable(),n._thead(),n._groupable(),n._toolbar(),n._setContentHeight(),n._templates(),n._navigatable(),n._selectable(),n._clipboard(),n._details(),n._editable(),n._attachCustomCommandsEvent(),n._minScreenSupport(),n.options.autoBind?n.dataSource.fetch():(n._group=0<n._groups(),n._footer()),n.lockedContent&&(n.wrapper.addClass("k-grid-lockedcolumns"),n._resizeHandler=function(){n.resize()},I(window).on("resize"+Me,n._resizeHandler)),te.notify(n)},events:[We,"dataBinding","cancel",$e,Ke,Ye,Re,Le,Ne,Ve,Be,ze,Pe,Ae,Oe,Ge,qe,at,ot,Ue,je,st,lt,dt,"page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(e){var t=this,i=t.options.scrollable;t.options.dataSource=e,t._dataSource(),t._pageable(),t._thead(),i&&(i.virtual?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):t.content.scrollLeft(0)),t.options.groupable&&t._groupable(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.navigatable&&t._navigatable(),t.options.selectable&&t._selectable(),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:Ft.create.text,cancel:Ft.cancel.text,save:Ft.save.text,destroy:Ft.destroy.text,edit:Ft.edit.text,update:Ft.update.text,canceledit:Ft.canceledit.text,excel:Ft.excel.text,pdf:Ft.pdf.text},noRecords:"No records available.",expandCollapseColumnHeader:""}},destroy:function(){var e,t=this;t._angularItems("cleanup"),t._destroyColumnAttachments(),se.fn.destroy.call(t),this._navigatableTables=null,t._resizeHandler&&I(window).off("resize"+Me,t._resizeHandler),t.pager&&t.pager.element&&t.pager.destroy(),t.pager=null,t.groupable&&t.groupable.element&&t.groupable.element.kendoGroupable("destroy"),t.groupable=null,t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy(),t.selectable&&t.selectable.element&&(t.selectable.destroy(),t.clearArea(),!0===t.options.persistSelection&&(t._selectedIds=null),t.copyHandler&&(t.wrapper.off("keydown",t.copyHandler),t.unbind(t.copyHandler)),t.updateClipBoardState&&(t.unbind(t.updateClipBoardState),t.updateClipBoardState=null),t.clearAreaHandler&&t.wrapper.off("keyup",t.clearAreaHandler)),t.selectable=null,t.resizable&&(t.resizable.destroy(),t._resizeUserEvents&&(t._resizeHandleDocumentClickHandler&&I(document).off("click",t._resizeHandleDocumentClickHandler),t._resizeUserEvents.destroy(),t._resizeUserEvents=null),t.resizable=null),t._destroyVirtualScrollable(),t._destroyEditable(),t.dataSource&&(t.dataSource.unbind(We,t._refreshHandler).unbind(xe,t._progressHandler).unbind(Se,t._errorHandler),t._refreshHandler=t._progressHandler=t._errorHandler=null),e=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar")),t.content&&(e=e.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap"))),t.lockedHeader&&t._removeLockedContainers(),t.pane&&t.pane.destroy(),t.minScreenResizeHandler&&I(window).off("resize",t.minScreenResizeHandler),t._draggableInstance&&t._draggableInstance.element&&t._draggableInstance.destroy(),t._draggableInstance=null,e.off(Me),te.destroy(t.wrapper),t.rowTemplate=t.altRowTemplate=t.lockedRowTemplate=t.lockedAltRowTemplate=t.detailTemplate=t.footerTemplate=t.groupFooterTemplate=t.lockedGroupFooterTemplate=t.noRecordsTemplate=null,t.scrollables=t.thead=t.tbody=t.element=t.table=t.content=t.footer=t.wrapper=t.lockedTable=t.lockedContent=t.lockedHeader=t.lockedFooter=t._groupableClickHandler=t._groupRows=t._setContentWidthHandler=null},getOptions:function(){var e,t,i,n=this.options;return n.dataSource=null,(e=he(!0,{},this.options)).columns=te.deepExtend([],this.columns),t=this.dataSource,i=t.options.data&&t._data,t.options.data=null,e.dataSource=I.extend(!0,{},t.options),t.options.data=i,e.dataSource.data=i,e.dataSource.page=t.page(),e.dataSource.filter=t.filter(),e.dataSource.pageSize=t.pageSize(),e.dataSource.sort=t.sort(),e.dataSource.group=t.group(),e.dataSource.aggregate=t.aggregate(),e.dataSource.transport&&(e.dataSource.transport.dataSource=null),e.pageable&&e.pageable.pageSize&&(e.pageable.pageSize=t.pageSize()),e.$angular=w,e},setOptions:function(e){var t,i,n,r,a=this.getOptions();te.deepExtend(a,e),e.dataSource||(a.dataSource=this.dataSource),t=this.wrapper,i=this._events,n=this.element,this.destroy(),this.options=null,this._isMobile&&((r=t.closest(te.roleSelector("pane")).parent()).after(t),r.remove(),t.removeClass("k-grid-mobile")),t[0]!==n[0]&&(t.before(n),t.remove()),n.empty(),this.init(n,a,i),this._setEvents(a)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(e){return e.children().filter(function(){var e=I(this);return!e.hasClass("k-grouping-row")&&!e.hasClass("k-detail-row")&&!e.hasClass("k-group-footer")})},dataItems:function(){var e,t,i,n=te.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(e=n.length,t=Array(2*e),i=e;0<=--i;)t[i]=t[i+e]=n[i];n=t}return n},_destroyColumnAttachments:function(){var e=this;e.resizeHandle=null,e.thead&&(this.angular("cleanup",function(){return{elements:e.thead.get()}}),e.thead.add(e.lockedHeader).find("th").each(function(){var e=I(this),t=e.data("kendoFilterMenu"),i=e.data("kendoColumnSorter"),n=e.data("kendoColumnMenu");t&&t.destroy(),i&&i.destroy(),n&&n.destroy()}))},_attachCustomCommandsEvent:function(){var e,t,i,n=L(this.columns||[]);for(t=0,i=n.length;t<i;t++)(e=n[t].command)&&r(this,this.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var e=this.element;e.is("table")||(e=this.options.scrollable?this.element.find("> .k-grid-content > table"):this.element.children("table")).length||(e=I("<table />").appendTo(this.element)),Tt&&e.attr("cellspacing",0),this.table=e.attr("role",this._hasDetails()?"treegrid":"grid"),this._wrapper()},_createResizeHandle:function(e,t){var i,n,r,a,o,s,l,d=this,c=d.options.columnResizeHandleWidth,u=d.options.scrollable,h=d.resizeHandle,p=this._groups();if(h&&d.lockedContent&&h.data("th")[0]!==t[0]&&(h.off(Me).remove(),h=null),h||(h=d.resizeHandle=I('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),e.append(h)),St)i=t.position().left,u&&(a=t.closest(".k-grid-header-wrap, .k-grid-header-locked"),o=Ct.msie?a.scrollLeft():0,s=Ct.webkit?a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft():0,l=Ct.mozilla?a[0].scrollWidth-a[0].offsetWidth-(a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft()):0,i-=s-l+o);else{for(i=t[0].offsetWidth,n=V(t.closest("thead")).filter(":visible"),r=0;r<n.length&&n[r]!=t[0];r++)i+=n[r].offsetWidth;0<p&&(i+=le(e.find(".k-group-cell:first"))*p),d._hasDetails()&&(i+=le(e.find(".k-hierarchy-cell:first")))}h.css({top:t.position().top,left:i-c,height:de(t),width:3*c}).data("th",t).show(),h.off("dblclick"+Me).on("dblclick"+Me,function(){d._autoFitLeafColumn(t.data("index"))})},_positionColumnResizeHandle:function(){var n=this,e=n.lockedHeader?n.lockedHeader.find("thead:first"):I();n.thead.add(e).on("mousemove"+Me,"th",function(e){var t=w!==e.buttons?e.buttons:e.which||e.button,i=I(this);i.hasClass("k-group-cell")||i.hasClass("k-hierarchy-cell")||w!==t&&0!==t||n._createResizeHandle(i.closest("div"),i)})},_resizeHandleDocumentClick:function(e){I(e.target).closest(".k-column-active").length||(I(document).off(e),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(Me).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var i=this,e=i.lockedHeader?i.lockedHeader.find("thead:first"):I();i._resizeUserEvents=new te.UserEvents(e.add(i.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(e){var t=I(e.target);e.preventDefault(),t.addClass("k-column-active"),i._createResizeHandle(t.closest("div"),t),i._resizeHandleDocumentClickHandler||(i._resizeHandleDocumentClickHandler=ve(i._resizeHandleDocumentClick,i)),I(document).on("click",i._resizeHandleDocumentClickHandler)}})},_resizable:function(){var e,d,c,u,h,p,f,g,m=this,_=m.options,a=this._isMobile,v=te.support.mobileOS?0:te.support.scrollbar();_.resizable&&(e=_.scrollable?m.wrapper.find(".k-grid-header-wrap:first"):m.wrapper,a?m._positionColumnResizeHandleTouch(e):m._positionColumnResizeHandle(e),m.resizable&&m.resizable.destroy(),m.resizable=new ie.Resizable(e.add(m.lockedHeader),{handle:(_.scrollable?"":">")+".k-resize-handle",hint:function(e){return I('<div class="k-grid-resize-indicator" />').css({height:de(e.data("th"))+m.tbody.attr("clientHeight")})},start:function(e){var t,i,n,r;g=I(e.currentTarget).data("th"),a&&m._hideResizeHandle(),t=g.closest("table"),i=I.inArray(g[0],V(g.closest("thead")).filter(":visible")),p=t.parent().hasClass("k-grid-header-locked"),n=p?m.lockedTable:m.table,r=m.footer||I(),m.footer&&m.lockedContent&&(r=m.footer.children(p?".k-grid-footer-locked":".k-grid-footer-wrap")),o(m.wrapper,"col-resize"),f=_.scrollable?t.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+i+")").add(n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+i+")")).add(r.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+i+")")):n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+i+")"),d=e.x.location,c=le(g),u=L(m.columns)[i].minResizableWidth||10,h=le(p?n.children("tbody"):m.tbody),Ct.webkit&&m.wrapper.addClass("k-grid-column-resizing")},resize:function(e){var t,i,n,r,a,o,s=St?-1:1,l=c+e.x.location*s-d*s;_.scrollable?(p&&m.lockedFooter?t=m.lockedFooter.children("table"):m.footer&&(t=m.footer.find(">.k-grid-footer-wrap>table")),t&&t[0]||(t=I()),i=g.closest("table"),n=p?m.lockedTable:m.table,r=!1,a=m.wrapper.width()-v,o=l,p&&a<h-c+o&&((o=c+(a-h-2*v))<0&&(o=l),r=!0),10<o&&u<=o&&(f.css("width",o),h&&(o=r?a-2*v:h+e.x.location*s-d*s,n.add(i).add(t).css("width",o),p||(m._footerWidth=o))),m._scrollVirtualWrapperOnColumnResize()):10<l&&u<=l&&f.css("width",l)},resizeend:function(){var e,t,i,n=le(g);o(m.wrapper,""),Ct.webkit&&m.wrapper.removeClass("k-grid-column-resizing"),c!=n&&(t=m.lockedHeader?m.lockedHeader.find("thead:first tr:first").add(m.thead.find("tr:first")):g.parent(),(i=g.attr(te.attr("index")))||(i=t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(g)),(e=L(m.columns)[i]).width=n,m.trigger(at,{column:e,oldWidth:c,newWidth:n}),m._applyLockedContainersWidth(),m._syncLockedContentHeight(),m._syncLockedHeaderHeight()),m._hideResizeHandle(),g=null}}))},_draggable:function(){var e,t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),e=t.wrapper.children(".k-grid-header"),t._draggableInstance=t.wrapper.kendoDraggable({group:te.guid(),autoScroll:!0,filter:t.content?".k-grid-header:first "+Ee:"table:first>.k-grid-header "+Ee,dragstart:function(){e.children(".k-grid-header-wrap").unbind("scroll"+Me+"scrolling").bind("scroll"+Me+"scrolling",function(e){t.virtualScrollable?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):t.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)})},dragend:function(){e.children(".k-grid-header-wrap").unbind("scroll"+Me+"scrolling")},drag:function(){t._hideResizeHandle()},hint:function(e){var t=e.attr(te.attr("title"));return t&&(t=te.htmlEncode(t)),I('<div class="k-header k-drag-clue" />').css({width:e.width(),paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),lineHeight:e.height()+"px",paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}).html(t||e.attr(te.attr("field"))||e.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable"))},_reorderable:function(){var r=this;r.options.reorderable&&(r.wrapper.data("kendoReorderable")&&r.wrapper.data("kendoReorderable").destroy(),r.wrapper.kendoReorderable({draggable:r._draggableInstance,dragOverContainers:function(e,t){var i=d(r.columns);return!1!==i[e].lockable&&-1<u(i,r.columns,e,t)},inSameContainer:function(e){return I(e.source).parent()[0]===I(e.target).parent()[0]&&-1<u(d(r.columns),r.columns,e.sourceIndex,e.targetIndex)},change:function(e){var t=d(r.columns),i=t[e.oldIndex],n=u(t,r.columns,e.oldIndex,e.newIndex);r.trigger(ot,{newIndex:n,oldIndex:me(i,t),column:i}),r.reorderColumn(n,i,"before"===e.position)}}))},_reorderHeader:function(e,t,i){var n,r,a,o,s,l,d,c,u,h,p=this,f=H(e[0],p.columns),g=H(t,p.columns),m=[];for(n=0;n<e.length;n++)e[n].columns&&(m=m.concat(e[n].columns));r=k(p.lockedHeader,p.thead,"tr:eq("+f.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),a=A(e).length,o=A([t]).length,m.length?(0<a&&0===o?C(e,t,m,p.columns,p.lockedHeader.find("thead"),p.thead,this._groups()):0===a&&0<o&&C(e,t,m,p.columns,p.thead,p.lockedHeader.find("thead"),this._groups()),(t.columns||1<f.cell-g.cell||1<g.cell-f.cell)&&(t=function e(t,i,n,r){var a,o,s,l;return i.columns?(i=i.columns)[r?0:i.length-1]:(a=_(i,t),o=a?a.columns:t,0===(s=me(i,o))&&r?s++:s!=o.length-1||r?(0<s||0===s&&!r)&&(s+=r?-1:1):s--,l=me(n,o),(i=function(e,t,i,n){for(var r,a=i.locked;r=e[t],t+=n?1:-1,r&&-1<t&&t<e.length&&r!=i&&!r.columns&&r.locked==a;);return r}(o,s,n,s<l))&&i!=n&&i.columns?e(t,i,n,r):null)}(p.columns,t,e[0],i))&&p._reorderHeader(m,t,i)):a!==o&&(s=r[f.cell],l=p.columns,d=a,c=T(A(l)),u=T(O(l)),h=s.rowSpan,s.rowSpan=d?u<c?h-(c-u)||1:h+(u-c):u<c?h+(c-u):h-(u-c)||1),y(r,f.cell,g.cell,i,e.length)},_reorderContent:function(e,t,i){var n,r,a,o,s=this,l=I(),d=e[0],c=S(e),u=me(d,L(s.columns)),h=me(t,L(s.columns)),p=me(d,R(s.columns)),f=me(t,R(s.columns)),g=A(s.columns).length,m=!!t.locked,_=s.footer||s.wrapper.find(".k-grid-footer"),v=n=f;for(t.hidden&&(m?(f=s.lockedTable.find("colgroup"),v=s.lockedHeader.find("colgroup"),n=I(s.lockedFooter).find(">table>colgroup")):(f=s.tbody.prev(),v=s.thead.prev(),n=_.find(".k-grid-footer-wrap").find(">table>colgroup"))),s._hasFilterRow()&&y(s.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),u,h,i,e.length),y(k(s.lockedHeader,s.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),p,v,i,c.length),s.options.scrollable&&y(k(s.lockedTable,s.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),p,f,i,c.length),_&&_.length&&(y(k(s.lockedFooter,_.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),p,n,i,c.length),y(_.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),u,h,i,e.length)),r=s.tbody.children(":not(.k-grouping-row,.k-detail-row)"),s.lockedTable&&(h<g?g<=u&&G(s.lockedTable.find(">tbody>tr.k-grouping-row"),s.table.find(">tbody>tr.k-grouping-row"),e.length):u<g&&G(s.table.find(">tbody>tr.k-grouping-row"),s.lockedTable.find(">tbody>tr.k-grouping-row"),e.length),l=s.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),a=0,o=r.length;a<o;a+=1)y(k(l[a],r[a],">td:not(.k-group-cell,.k-hierarchy-cell)"),u,h,i,e.length)},_autoFitLeafColumn:function(e){this.autoFitColumn(L(this.columns)[e])},autoFitColumn:function(t){var e,i,n,r,a,o,s,l,d,c,u,h,p,f,g,m,_,v,b,y,k=this,w=k.options,x=k.columns,S=k.lockedHeader?V(k.lockedHeader.find(">table>thead")).filter(D).length:0,C="col:not(.k-group-col):not(.k-hierarchy-col)",T="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if((t="number"==typeof t?x[t]:ue(t)?fe(E(x),function(e){return e===t})[0]:fe(E(x),function(e){return e.field===t})[0])&&F(t)){for(o=t.minResizableWidth,e=me(t,L(x)),r=t.locked,n=r?k.lockedHeader.children("table"):k.thead.parent(),i=n.find("[data-index='"+e+"']"),d=r?k.lockedTable:k.table,c=k.footer||I(),k.footer&&k.lockedContent&&(c=k.footer.children(r?".k-grid-footer-locked":".k-grid-footer-wrap")),u=c.find("table").first(),k.lockedHeader&&!r&&(e-=S),h=0;h<x.length&&x[h]!==t;h++)x[h].hidden&&e--;if(w.scrollable?(a=n.find(C).eq(e).add(d.children("colgroup").find(C).eq(e)).add(u.find("colgroup").find(C).eq(e)),r||(s=d.parent(),l=s.scrollLeft())):a=d.children("colgroup").find(C).eq(e),p=n.add(d).add(u),f=le(i),a.width(""),p.css("table-layout","fixed"),a.width("auto"),p.addClass("k-autofitting"),p.css("table-layout",""),g=Math.ceil(Math.max(le(i),le(d.find("tr:not(.k-grouping-row)").eq(0).children(T).eq(e)),le(u.find("tr").eq(0).children(T).eq(e))))+1,o&&g<o&&(g=o),a.width(g),t.width=g,w.scrollable){for(m=n.find("col"),b=v=0,y=m.length;b<y;b+=1)if((_=m[b].style.width)&&-1==_.indexOf("%"))v+=parseInt(_,10);else{if(!m.eq(b).hasClass("k-group-col")){v=0;break}v+=parseInt(m.eq(b).width(),10)}v&&p.each(function(){this.style.width=v+"px"})}Ct.msie&&8==Ct.version&&(p.css("display","inline-table"),setTimeout(function(){p.css("display","table")},1)),p.removeClass("k-autofitting"),l&&s.scrollLeft(l),k.trigger(at,{column:t,oldWidth:f,newWidth:g}),k._applyLockedContainersWidth(),k._syncLockedContentHeight(),k._syncLockedHeaderHeight()}},reorderColumn:function(e,t,i){var n,r,a=this,o=_(t,a.columns),s=o?o.columns:a.columns,l=me(t,s),d=s[e],c=!!d.locked,u=A(a.columns).length;l!==e&&(!t.locked&&c&&1==O(a.columns).length||t.locked&&!c&&1==u||(a._hideResizeHandle(),i===w&&(i=e<l),r=[t],a._reorderHeader(r,d,i),a.lockedHeader&&(z(a.thead),z(a.lockedHeader)),d.columns&&(d=(d=L(d.columns))[i?0:d.length-1]),t.columns&&(r=L(t.columns)),a._reorderContent(r,d,i),n=(n=!!t.locked)!=c,t.locked=c,s.splice(i?e:e+1,0,t),s.splice(l<e?l:l+1,1),a._templates(),a._updateColumnCellIndex(),a._updateTablesWidth(),a._applyLockedContainersWidth(),a._syncLockedHeaderHeight(),a._syncLockedContentHeight(),a._updateFirstColumnClass(),n&&(c?a.trigger(st,{column:t}):a.trigger(lt,{column:t}))))},_updateColumnCellIndex:function(){var e,t=0;this.lockedHeader&&(e=this.lockedHeader.find("thead"),t=i(e,A(this.columns))),i(this.thead,O(this.columns),t)},lockColumn:function(t){var e,i=this.columns;!(t="number"==typeof t?i[t]:fe(i,function(e){return e.field===t})[0])||t.locked||t.hidden||(e=A(i).length-1,this.reorderColumn(e,t,!1))},unlockColumn:function(t){var e,i=this.columns;(t="number"==typeof t?i[t]:fe(i,function(e){return e.field===t})[0])&&t.locked&&!t.hidden&&(e=A(i).length,this.reorderColumn(e,t,!0))},cellIndex:function(e){var t=0;return this.lockedTable&&!I.contains(this.lockedTable[0],e[0])&&(t=L(A(this.columns)).length),I(e).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(e)+t},_modelForContainer:function(e){(e=I(e)).is("tr")||"popup"===this._editMode()||(e=e.closest("tr"));var t=e.attr(te.attr("uid"));return this.dataSource.getByUid(t)},_editable:function(){var n=this,r=n.selectable&&n.selectable.options.multiple,e=n.options.editable,t=function(){var e=oe(),t=n._editContainer;!t||I.contains(t[0],e)||t[0]===e||I(e).closest(".k-animation-container").length||(n.editable.end()?n.closeCell():n._scrollVirtualWrapper())};e&&(this.wrapper.addClass("k-editable"),"incell"===n._editMode()?(n.table.add(n.lockedTable).on(te.support.touch?"touchstart"+Me:"mousedown"+Me,Te+">"+Ie,function(e){var t=I(e.target);"incell"===n._editMode()&&t.hasClass("k-checkbox-label")&&t.prev().attr(te.attr("bind"))&&e.preventDefault()}),!1!==e.update&&n.wrapper.on(ct+Me,"tr:not(.k-grouping-row) > td",function(e){var t=I(this),i=n.lockedTable&&t.closest("table")[0]===n.lockedTable[0];t.hasClass("k-hierarchy-cell")||t.hasClass("k-detail-cell")||t.hasClass("k-group-cell")||t.hasClass("k-edit-cell")||t.has("a.k-grid-delete").length||t.has("button.k-grid-delete").length||t.closest("tbody")[0]!==n.tbody[0]&&!i||I(e.target).is(":input")||(n.editable?n.editable.end()?(r&&I(oe()).blur(),n.closeCell(),n.editCell(t)):n._scrollVirtualWrapper():n.editCell(t))}).on("focusin"+Me,function(){I.contains(this,oe())||(clearTimeout(n.timer),n.timer=null)}).on("focusout"+Me,function(){n.timer=setTimeout(t,1)})):!1!==e.update&&(n.wrapper.on(ct+Me,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(e){e.preventDefault(),n.editRow(I(this).closest("tr"))}),n._isVirtualInlineEditable()&&n.wrapper.on("focusout"+Me,"tr:not(.k-grouping-row) > td",function(){n.editable&&!n.editable.end()&&n._scrollVirtualWrapper()})),!1!==e.destroy?n.wrapper.on(ct+Me,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(e){e.preventDefault(),e.stopPropagation(),n.removeRow(I(this).closest("tr"))}):n.wrapper.on(ct+Me,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),n._confirmation()||e.preventDefault()}))},editCell:function(t){var i,e,n,r;if(t=I(t),e=L((i=this).columns)[i.cellIndex(t)],n=i._modelForContainer(t),i.closeCell(),n&&J(e,n)&&!e.command){if(i.trigger(Pe,{model:n}))return;i._attachModelChange(n),i._editContainer=t,i._shouldClearEditableState&&i._clearEditableState(),i.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:e.field,format:e.format,editor:e.editor,values:e.values},model:n,target:i,change:function(e){i.trigger(Ae,{values:e.values,container:t,model:n})&&e.preventDefault()},skipFocus:!(!i._isVirtualIncellEditable()||!i._editableState)}).data("kendoEditable"),r=t.parent().addClass("k-grid-edit-row"),i.lockedContent&&$(r[0],i._relatedRow(r).addClass("k-grid-edit-row")[0]),i.trigger(ze,{container:t,model:n})}},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent(),i=e[0].offsetWidth>t[0].clientWidth?te.support.scrollbar():0;this.lockedContent.height(t.height()-i)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var e,t,i,n,r,a,o,s;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),n=t,i=(i=e)[0],n=n[0],i.rows.length!==n.rows.length&&(r=i.offsetHeight,(a=n.offsetHeight)<r?(o=n.rows[n.rows.length-1],xt.test(o.className)&&(o=n.rows[n.rows.length-2]),s=r-a):(o=i.rows[i.rows.length-1],xt.test(o.className)&&(o=i.rows[i.rows.length-2]),s=a-r),o.style.height=o.offsetHeight+s+"px"))},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var t=this,e=function(){if(t.editable){var e=t.editView?t.editView.element:t._editContainer;e&&(e.off(ct+Me,"a.k-grid-cancel",t._editCancelClickHandler),e.off(ct+Me,"a.k-grid-update",t._editUpdateClickHandler)),t._detachModelChange(),t.editable.destroy(),t.editable=null,t._editContainer=null,t._destroyEditView()}};t.editable&&("popup"!==t._editMode()||t._isMobile?e():t._editContainer.data("kendoWindow").bind("deactivate",e).close()),t._actionSheet&&(t._actionSheet.destroy(),t._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this._editContainer,t=this._modelForContainer(e);t&&t.unbind(We,this._modelChangeHandler)},closeCell:function(e){var t,i,n,r=this,a=r._editContainer;a&&(n=r._modelForContainer(a),e&&r.trigger("cancel",{container:a,model:n})||(r.trigger(qe,{type:e?"cancel":"save",model:n,container:a}),a.removeClass("k-edit-cell"),t=L(r.columns)[r.cellIndex(a)],i=a.parent().removeClass("k-grid-edit-row"),r.lockedContent&&r._relatedRow(i).removeClass("k-grid-edit-row"),r._destroyEditable(),r._displayCell(a,t,n),r._shouldClearEditableState&&r._clearEditableState(),r.trigger("itemChange",{item:i,data:n,ns:ie}),r.lockedContent&&$(i.css("height","")[0],r._relatedRow(i).css("height","")[0])))},_displayCell:function(e,t,i){var n={storage:{},count:0},r=he({},te.Template,this.options.templateSettings),a=te.template(this._cellTmpl(t,n),r);0<n.count&&(a=ve(a,n.storage)),e.empty().html(a(i)),this.angular("compile",function(){return{elements:e,data:[{dataItem:i}]}})},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(e){var t,i,n,r=this,a=r._editMode();"incell"!==a&&r.cancelRow(),e=I(e),r.lockedContent&&(e=e.add(r._relatedRow(e))),e=e.hide(),(t=r._modelForContainer(e))&&!r.trigger(Oe,{row:e,model:t})?(r.options.persistSelection&&(i=r.dataSource.options.schema.model.id,n=t[i],delete r._selectedIds[n]),r.dataSource.remove(t),"inline"!==a&&"popup"!==a||r.dataSource.sync()):"incell"===a&&r._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;return!0!==t&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(e){var i,t,n,r=this;e instanceof re?i=e:(e=I(e),i=r._modelForContainer(e)),t=r._editMode(),r.cancelRow(),i&&(e=r.tbody.children("["+te.attr("uid")+"="+i.uid+"]"),r._attachModelChange(i),"popup"===t?r._createPopupEditor(i):"inline"===t?r._createInlineEditor(e,i):"incell"===t&&I(e).children(Ce).each(function(){var e=I(this),t=L(r.columns)[r.cellIndex(e)];if((i=r._modelForContainer(e))&&(!i.editable||i.editable(t.field))&&t.field&&!t.selectable)return r.editCell(e),!1}),(n=r.editView?r.editView.element:r._editContainer)&&(this._editCancelClickHandler||(this._editCancelClickHandler=ve(this._editCancelClick,this)),n.on(ct+Me,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=ve(this._editUpdateClick,this)),n.on(ct+Me,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(e){e.preventDefault(),e.stopPropagation(),this.saveRow()},_editCancelClick:function(e){var t,i=this,n=i.options.navigatable,r=i.editable.options.model,a=i.editView?i.editView.element:i._editContainer;e.preventDefault(),e.stopPropagation(),i.trigger("cancel",{container:a,model:r})||(t=i.items().index(I(i.current()).parent()),i.cancelRow(),n&&(i._setCurrent(i.items().eq(t).children().filter(Ie).first()),Y(i.table,!0)))},_createPopupEditor:function(i){var e,t,n,r,a,o,s,l,d,c,u,h,p,f=this,g="<div "+te.attr("uid")+'="'+i.uid+'" class="k-popup-edit-form'+(f._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',m=[],_=L(f.columns),v=f.options.editable,b=v.template,y=ue(v)?v.window:{},k=he({},te.Template,f.options.templateSettings);if(!f.trigger(Pe,{model:i})){if(y=y||{},b)for(typeof b===ft&&(b=window.unescape(b)),g+=te.template(b,k)(i),n=0,r=_.length;n<r;n++)(e=_[n]).command&&(c=K(e.command,"edit"))&&(t=c);else for(n=0,r=_.length;n<r;n++)(e=_[n]).selectable||(e.command?e.command&&(c=K(e.command,"edit"))&&(t=c):(g+='<div class="k-edit-label"><label for="'+e.field+'">'+(e.title||e.field||"")+"</label></div>",J(e,i)?(m.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),g+="<div "+te.attr("container-for")+'="'+e.field+'" class="k-edit-field"></div>'):(h={storage:{},count:0},a=te.template(f._cellTmpl(e,h),k),0<h.count&&(a=ve(a,h.storage)),g+='<div class="k-edit-field">'+a(i)+"</div>")));t&&ue(t)&&(ue(t.text)&&(o=t.text.update,s=t.text.cancel),ue(t.iconClass)&&(l=t.iconClass.update,d=t.iconClass.cancel),t.attr&&(u=t.attr)),f._isMobile?(g+="</div></div>",f.editView=f.pane.append("<div data-"+te.ns+'role="view" data-'+te.ns+'use-native-scrolling="true" data-'+te.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+te.ns+'role="header" class="k-header">'+f._createButton({name:"update",text:o,attr:u})+(y.title||"Edit")+f._createButton({name:"canceledit",text:s,attr:u})+"</div>"+g+"</div>"),p=f._editContainer=f.editView.element.find(".k-popup-edit-form")):(g+='<div class="k-edit-buttons k-state-default">',g+=f._createButton({name:"update",text:o,attr:u,iconClass:l})+f._createButton({name:"canceledit",text:s,attr:u,iconClass:d}),g+="</div></div></div>",p=f._editContainer=I(g).appendTo(f.wrapper).eq(0).kendoWindow(he({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(e){if(e.userTriggered){if(e.sender.element.focus(),f.trigger("cancel",{container:p,model:i}))return e.preventDefault(),w;var t=f.items().index(I(f.current()).parent());f.cancelRow(),f.options.navigatable&&(f._setCurrent(f.items().eq(t).children().filter(Ie).first()),Y(f.table,!0))}}},y))),f.editable=f._editContainer.kendoEditable({fields:m,model:i,clearContainer:!1,target:f}).data("kendoEditable"),f._isMobile&&p.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){I(this).next().children("input").click()}),f._openPopUpEditor(),f.trigger(ze,{container:p,model:i})}},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(e,a){var o,s,l,d=this,c=[];d.trigger(Pe,{model:a})||(d.lockedContent&&(e=e.add(d._relatedRow(e))),e.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(s=I(this),!(o=L(d.columns)[d.cellIndex(s)]).command&&J(o,a))c.push({field:o.field,format:o.format,editor:o.editor,values:o.values}),s.attr(te.attr("container-for"),o.field),s.empty();else if(o.command&&(l=K(o.command,"edit"))){var e,t,i,n,r;s.empty(),ue(l)&&(ue(l.text)&&(e=l.text.update,t=l.text.cancel),ue(l.iconClass)&&(i=l.iconClass.update,n=l.iconClass.cancel),l.attr&&(r=l.attr)),I(d._createButton({name:"update",text:e,attr:r,iconClass:i})+d._createButton({name:"canceledit",text:t,attr:r,iconClass:n})).appendTo(s)}}),d._editContainer=e,d._editContainer.addClass("k-grid-edit-row"),d._shouldClearEditableState&&d._clearEditableState(),d.editable=new te.ui.Editable(d._editContainer,{target:d,fields:c,model:a,skipFocus:!!(d._isVirtualInlineEditable()&&d._editableState&&d._editableState.field),clearContainer:!1}),1<e.length&&($(e[0],e[1]),d._applyLockedContainersWidth()),d.trigger(ze,{container:e,model:a}))},cancelRow:function(e){var t,i=this,n=i._editContainer,r=i.virtualScrollable,a=r&&r._isScrolledToBottom();if(n){if(!(t=i._modelForContainer(n))||e&&i.trigger("cancel",{container:n,model:t}))return;i._destroyEditable(),i.dataSource.cancelChanges(t),i._isVirtualEditable()&&a&&i._restoreVirtualView(),i._clearEditableState(),i._displayRow("popup"!==i._editMode()?n:i.tbody.find("["+te.attr("uid")+"="+t.uid+"]"))}},saveRow:function(){var e,t=this._editContainer,i=this._modelForContainer(t),n=I.Deferred();return t&&this.editable?!(e=this.editable&&this.editable.end())||this.trigger(Ae,{container:t,model:i})?(e||this._scrollVirtualWrapper(),n.reject().promise()):(this._clearEditableState(),this.dataSource.sync()):n.resolve().promise()},_displayRow:function(e){var t,i,n,r,a,o=this,s=o._modelForContainer(e),l=e.hasClass("k-state-selected"),d=e.hasClass("k-alt");s&&(o.lockedContent&&(t=I((d?o.lockedAltRowTemplate:o.lockedRowTemplate)(s)),o._relatedRow(e.last()).replaceWith(t)),o.angular("cleanup",function(){return{elements:e.get()}}),i=I((d?o.altRowTemplate:o.rowTemplate)(s)),e.is(":visible")||i.hide(),e.replaceWith(i),o.trigger("itemChange",{item:i,data:s,ns:ie}),t&&t.length&&o.trigger("itemChange",{item:t,data:s,ns:ie}),r=i,a=[{dataItem:s}],t&&t.length&&(r=i.add(t),a.push({dataItem:s})),o.angular("compile",function(){return{elements:r.get(),data:a}}),l&&(o.options.selectable||o._checkBoxSelection)&&o.select(i.add(t)),t&&$(i[0],t[0]),(n=i.next()).hasClass("k-detail-row")&&n.is(":visible")&&i.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse"))},_showMessage:function(e,i){var t,n,r=this;return r._isMobile?(t=te.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),n=I(t(e)).appendTo(r.view.element),(r._actionSheet=new te.mobile.ui.ActionSheet(n,{cancel:e.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(e){var t=I(e.currentTarget).parent();t.hasClass("km-actionsheet-cancel")||r._removeRow(i)},popup:r._actionSheetPopupOptions})).open(i),!1):window.confirm(e.title)},_confirmation:function(e){var t=this.options.editable,i=!0===t||typeof t===ft?this.options.messages.editable.confirmation:t.confirmation;return ue(t)&&typeof t.mode===ft&&typeof i!==pt&&typeof i!==ft&&!1!==i&&(i=this.options.messages.editable.confirmation),!1===i||null==i||(typeof i===pt&&(i=i(this._modelForContainer(e))),this._showMessage({confirmDelete:t.confirmDelete||this.options.messages.editable.confirmDelete,cancelDelete:t.cancelDelete||this.options.messages.editable.cancelDelete,title:!0===i?this.options.messages.editable.confirmation:i},e))},cancelChanges:function(){var e=this;e.dataSource.cancelChanges(),e._isVirtualEditable()&&e._virtualPageToTop(function(){e.virtualScrollable.scrollToTop()})},saveChanges:function(){var e=this.editable&&this.editable.end();!e&&this.editable||this.trigger(Ge)?e||this._scrollVirtualWrapper():this.dataSource.sync()},addRow:function(){var e,t,i=this,n=i.dataSource,r=i._editMode(),a=i.options.editable.createAt||"",o=n.pageSize(),s=n.view()||[],l="bottom"===a.toLowerCase(),d=i._isVirtualEditable();i.editable&&i.editable.end()||!i.editable?("incell"!=r&&i.cancelRow(),e=n.indexOf(s[0]),l&&(e+=s.length,o&&!n.options.serverPaging&&o<=s.length&&(e-=1)),e<0&&(e=n.page()>n.totalPages()?(n.page()-1)*o:0),i.options.navigatable&&"incell"==r&&i._removeCurrent(),d?i._virtualAddRow():(t=n.insert(e,{}),i._editModel(t))):i._scrollVirtualWrapper()},_editModel:function(e){var t,i,n,r,a=this,o=a.options.editable.createAt||"",s=a._editMode();e&&(t=e.uid,i=a.lockedContent?a.lockedTable:a.table,n=i.find("tr["+te.attr("uid")+"="+t+"]"),r=n.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(a._firstEditableColumnIndex(n)),"inline"===s&&n.length?a.editRow(n):"popup"===s?a.editRow(e):r.length&&a.editCell(r),"bottom"==o.toLowerCase()&&a.lockedContent&&(a.lockedContent[0].scrollTop=a.content[0].scrollTop=a.table[0].offsetHeight))},_virtualAddRow:function(){var e="bottom"===(this.options.editable.createAt||"").toLowerCase();this._clearEditableState(),e?this._virtualAddRowAtBottom():this._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var e,t=this,i=t.dataSource,n=t.virtualScrollable;1===i.page()?(e=i.insert(0,{}),t._editModel(e),n.scrollToTop()):t._virtualPageToTop(function(){e=i.insert(0,{}),t._editModel(e),n.scrollToTop()})},_virtualAddRowAtBottom:function(){var e,t=this,i=t.dataSource,n=t.virtualScrollable,r=i.total();i.at(r-1)instanceof re?(e=i.insert(r,{}),t._virtualPageToBottom(function(){t._editModel(e),n.scrollToBottom()})):t._virtualPageToBottom(function(){e=i.insert(r,{}),t._editModel(e),n.scrollToBottom()})},_virtualPageToTop:function(e){this._virtualPage(0,this.dataSource.take(),function(){e()})},_virtualPageToBottom:function(e){var t=this.dataSource,i=t.take(),n=t.total(),r=i<n?n-i:0;this._virtualPage(r,i,function(){e()})},_virtualPage:function(e,t,i){this._isVirtualEditable()&&(this.virtualScrollable._preventScroll=!0,this.virtualScrollable._page(e,t,i))},_restoreVirtualView:function(){var e=this.dataSource,i=this.virtualScrollable,n=i.verticalScrollbar,r=i.wrapper,t=e.take(),a=e.total(),o=e.currentRangeStart(),s=t<=a?we.min(o,a-t):o,l=i.itemHeight,d=n.scrollTop()/l;this._virtualPage(s,t,function(){var e=i.itemHeight,t=d*e;i._isScrolledToBottom()?i.scrollToBottom():(i._preventScroll=n.scrollTop()!==t,n.scrollTop(t),r.scrollTop(n.scrollTop()-s*e))})},_firstEditableColumnIndex:function(e){var t,i,n,r=L(this.columns),a=this._modelForContainer(e);for(i=0,n=r.length;i<n;i++)if(t=r[i],a&&(!a.editable||a.editable(t.field))&&!t.command&&t.field&&!0!==t.hidden)return i;return-1},_toolbar:function(){var e,t=this,i=t.wrapper,n=t.options.toolbar,r=t.options.editable;n&&((e=t.wrapper.find(".k-grid-toolbar")).length||(be(n)||(n=typeof n===ft?n:t._toolbarTmpl(n).replace(yt,"\\#"),n=ve(te.template(n),t)),e=I('<div class="k-header k-grid-toolbar" />').html(n({})).prependTo(i),t.angular("compile",function(){return{elements:e.get()}})),r&&!1!==r.create&&e.on(ct+Me,".k-grid-add",function(e){e.preventDefault(),t.addRow()}).on(ct+Me,".k-grid-cancel-changes",function(e){e.preventDefault(),t.cancelChanges()}).on(ct+Me,".k-grid-save-changes",function(e){e.preventDefault(),t.saveChanges()}),e.on(ct+Me,".k-grid-excel",function(e){e.preventDefault(),t.saveAsExcel()}),e.on(ct+Me,".k-grid-pdf",function(e){e.preventDefault(),t.saveAsPDF()}))},_toolbarTmpl:function(e){var t,i,n="";if(ge(e))for(t=0,i=e.length;t<i;t++)n+=this._createButton(e[t]);return n},_createButton:function(e){var t,i=e.template||'# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #',n=typeof e===ft?e:e.name||e.text,r=Ft[n]?Ft[n].className:"k-grid-"+(n||"").replace(/\s/g,""),a={className:r,text:n,attr:"",iconClass:""},o=this.options.messages.commands;if(!(n||ue(e)&&e.template))throw Error("Custom commands should have name specified");return ue(e)?((e=he(!0,{},e)).className&&me(a.className,e.className.split(" "))<0?e.className+=" "+a.className:e.className===w&&(e.className=a.className),"edit"===n&&((e=he(!0,{},e)).text=ue(e.text)?e.text.edit:e.text,e.iconClass=ue(e.iconClass)?e.iconClass.edit:e.iconClass),e.attr&&(ue(e.attr)&&(e.attr=b(e.attr)),typeof e.attr===ft&&(t=e.attr.match(/class="(.+?)"/))&&me(t[1],e.className.split(" "))<0&&(e.className+=" "+t[1])),a=he(!0,a,Ft[n],{text:o[n]},e)):a=he(!0,a,Ft[n],{text:o[n]}),te.template(i)(a)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&0<this.footer.length||0<this.wrapper.find(".k-grid-footer").length},_groupable:function(){var r=this;r._groupableClickHandler?r.table.add(r.lockedTable).off(ct+Me,r._groupableClickHandler):r._groupableClickHandler=function(e){var t=I(this),i=t.closest("tr"),n=r._groupRows?r._groupRows[r.wrapper.find(".k-grouping-row").index(i)]:{};t.hasClass("k-i-collapse")?r.trigger("groupCollapse",{group:n,element:i})||r.collapseGroup(i):r.trigger("groupExpand",{group:n,element:i})||r.expandGroup(i),e.preventDefault(),e.stopPropagation()},r._isLocked()?r.lockedTable.on(ct+Me,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",r._groupableClickHandler):r.table.on(ct+Me,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",r._groupableClickHandler),r._attachGroupable()},_attachGroupable:function(){var t=this,e=t.wrapper,i=t.options.groupable,n=Ee+"["+te.attr("field")+"]",r=t.content?".k-grid-header:first "+n:"table:first>.k-grid-header "+n;i&&!1!==i.enabled&&(e.has("div.k-grouping-header")[0]||I("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(e),t.groupable&&t.groupable.destroy(),t.groupable=new ie.Groupable(e,he({},i,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:r,filter:r,allowDrag:t.options.reorderable,change:function(e){t.trigger("group",{groups:e.groups})?e.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource.pageSize(t.dataSource.options.pageSize)))}})))},_continuousItems:function(e,t){var i,n,r,a,o,s,l;if(this.lockedContent){for(i=this.table.add(this.lockedTable),n=I(e,i[0]),r=I(e,i[1]),a=t?A(this.columns).length:1,o=t?this.columns.length-a:1,s=[],l=0;l<n.length;l+=a)_e.apply(s,n.slice(l,l+a)),_e.apply(s,r.splice(0,o));return s}},_selectable:function(){var n,a,r,e,o=this,t=[],s=o._isLocked(),i=o.options.selectable;i&&(o.selectable&&o.selectable.destroy(),!0===o.options.persistSelection&&(o._selectedIds={}),i=te.ui.Selectable.parseOptions(i),n=i.multiple,a=i.cell,o._hasDetails()&&(t[t.length]=".k-detail-row"),(o.options.groupable||o._hasFooters()||o._groups())&&(t[t.length]=".k-grouping-row,.k-group-footer"),""!==(t=t.join(","))&&(t=":not("+t+")"),r=o.table,s&&(r=r.add(o.lockedTable)),e=">"+(a?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody>tr"+t),o.selectable=new te.ui.Selectable(r,{filter:e,aria:!0,multiple:n,change:function(){o.options.persistSelection&&!a&&o._persistSelectedRows(),o.trigger(We)},useAllItems:s&&n&&a,relatedTarget:function(e){var t,i,n,r;if(!a&&s){for(i=I(),n=0,r=e.length;n<r;n++)t=o._relatedRow(e[n]),me(t[0],e)<0&&(i=i.add(t));return i}},continuousItems:function(){return o._continuousItems(e,a)}}),o.options.navigatable&&r.on("keydown"+Me,function(e){var t=o.current(),i=e.target;if(e.keyCode===ce.SPACEBAR&&!e.shiftKey&&-1<I.inArray(i,r)&&!t.is(".k-edit-cell,.k-header")&&t.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(e.preventDefault(),e.stopPropagation(),t=a?t:t.parent(),s&&!a&&(t=t.add(o._relatedRow(t))),n)if(e.ctrlKey){if(t.hasClass(it))return t.removeClass(it),o.trigger(We),w}else o.selectable.clear();else o.selectable.clear();a||(o.selectable._lastActive=t),o.selectable.value(t)}else!a&&(e.shiftKey&&e.keyCode==ce.LEFT||e.shiftKey&&e.keyCode==ce.RIGHT||e.shiftKey&&e.keyCode==ce.UP||e.shiftKey&&e.keyCode==ce.DOWN||e.keyCode===ce.SPACEBAR&&e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t=t.parent(),s&&(t=t.add(o._relatedRow(t))),n?(o.selectable._lastActive||(o.selectable._lastActive=t),o.selectable.selectRange(o.selectable._firstSelectee(),t)):(o.selectable.clear(),o.selectable.value(t)))}))},_clipboard:function(){var e,t=this.options,i=t.selectable;i&&t.allowCopy&&(e=this,t.navigatable||e.table.add(e.lockedTable).attr("tabindex",0).on("mousedown"+Me+" keydown"+Me,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}).on("mousedown"+Me,Te+">"+Ie,ve(X,e)),e.copyHandler=ve(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select()},e.bind("change",e.updateClipBoardState),e.wrapper.on("keydown",e.copyHandler),e.clearAreaHandler=ve(e.clearArea,e),e.wrapper.on("keyup",e.clearAreaHandler))},copySelection:function(e){e instanceof jQuery.Event&&!e.ctrlKey&&!e.metaKey||I(e.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=I("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var i,o,s,l,d,n,c=this,e=c.select(),r="\t",t=c.options.allowCopy;return I.isPlainObject(t)&&t.delimeter&&(r=t.delimeter),i="",e.length&&(e.eq(0).is("tr")&&(e=e.find("td:not(.k-group-cell)")),e.filter(":visible"),o=[],s=this.columns.length,l=c._isLocked()&&A(c.columns).length,d=!0,I.each(e,function(e,t){var i,n,r,a;t=I(t),i=t.closest("tr"),n=i.index(),r=t.index(),r-=t.prevAll(":hidden").length,l&&d&&(d=I.contains(c.lockedTable[0],t[0])),c._groups()&&d&&(r-=c._groups()),(r=d?r:r+l)<s&&(s=r),a=t.text(),o[n]||(o[n]=[]),o[n][r]=a}),n=o.length,o=I.each(o,function(e,t){t&&(o[e]=t.slice(s),e<n&&(n=e))}),I.each(o.slice(n),function(e,t){i+=t?t.join(r)+"\r\n":"\r\n"})),i},clearArea:function(e){this.areaClipBoard&&e&&e.target===this.areaClipBoard[0]&&Y(this.options.navigatable?I(this.current()).closest("table"):this.table,!0),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){var e=this.hideMinScreenCols();e&&(this.minScreenResizeHandler=ve(this.hideMinScreenCols,this),I(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var e=this.columns,t=0<window.innerWidth?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t)},_iterateMinScreenCols:function(e,t){var i,n,r,a=!1;for(i=0;i<e.length;i++)n=e[i],(r=n.minScreenWidth)!==w&&null!==r&&(a=!0,t<r?this.hideColumn(n):this.showColumn(n)),!n.hidden&&n.columns&&(a=this._iterateMinScreenCols(n.columns,t)||a);return a},_relatedRow:function(e){var t,i,n=this.lockedTable;return e=I(e),n?(t=e.closest(this.table.add(this.lockedTable)),i=t.find(">tbody>tr").index(e),(t=t[0]===this.table[0]?n:this.table).find(">tbody>tr").eq(i)):e},clearSelection:function(){return this.selectable&&this.selectable.clear(),this._checkBoxSelection?this._deselectCheckRows(this.select()):(this.options.persistSelection&&this._persistSelectedRows(),this.trigger(We)),w},select:function(e){var t=this,i=t.selectable;return(e=t.table.add(t.lockedTable).find(e)).length?(i&&!i.options.multiple&&(i.clear(),e=e.first()),t._isLocked()&&(e=e.add(e.map(function(){return t._relatedRow(this)}))),i?i.value(e):(e.each(function(){I(this).addClass(it).find(nt).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)}),t.select().length===t.items().length&&t._toggleHeaderCheckState(!0),t.options.persistSelection&&t._persistSelectedRows(),t.trigger(We)),w):i?i.value():t.items().filter("."+it)},_toggleHeaderCheckState:function(e){e?this.thead.add(this.lockedHeader).find("tr "+nt).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):this.thead.add(this.lockedHeader).find("tr "+nt).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_deselectCheckRows:function(e){var t=this;e=t.table.add(t.lockedTable).find(e),t._isLocked()&&(e=e.add(e.map(function(){return t._relatedRow(this)}))),e.each(function(){I(this).removeClass(it).find(nt).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")}),t._toggleHeaderCheckState(!1),t.options.persistSelection&&t._persistSelectedRows(),t.trigger(We)},_persistSelectedRows:function(){var e,t,i,n=this,r=n.items(),a=n.dataSource.options,o=a.schema.model.id,s={};for(n.select().each(function(){t=n.dataItem(this),s[t[o]]=!0}),i=0;i<r.length;i++)t=n.dataItem(r[i]),e=t[o],s[e]?n._selectedIds[e]=!0:delete n._selectedIds[e]},selectedKeyNames:function(){var e,t=[];for(e in this._selectedIds)t.push(e);return t.sort(),t},_updateCurrentAttr:function(e,t){var i=I(e).data("headerId");I(e).removeClass(et).closest("table").removeAttr("aria-activedescendant"),i?(i=i.replace(this._cellId,""),I(e).attr("id",i)):I(e).removeAttr("id"),t.data("headerId",t.attr("id")).attr("id",this._cellId).addClass(et).closest("table").attr("aria-activedescendant",this._cellId),this._current=t},_scrollCurrent:function(){var e,t,i,n,r,a,o=this._current,s=this.options.scrollable;o&&s&&(e=o.parent(),t=e.closest("table").parent(),i=t.is(".k-grid-content-locked,.k-grid-header-locked"),n=t.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),r=I(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0],n&&(s.virtual?(a=Math.max(me(e[0],this._items(e.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(a),this.virtualScrollable.scrollIntoView(e)):this._scrollTo(this._relatedRow(e)[0],r)),this.lockedContent&&(this.lockedContent[0].scrollTop=r.scrollTop),i||this._scrollTo(o[0],r))},current:function(e){return this._setCurrent(e,!0)},_setCurrent:function(e,t){var i=this._current;return(e=I(e)).length&&(i&&i[0]===e[0]||(this._updateCurrentAttr(i,e),this._scrollCurrent(),t||this.trigger(dt,{element:e}))),e&&e.length&&(this._lastCellIndex=e.parent().children(Ce).index(e)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(et),this._current=null)},_scrollTo:function(e,t){var i,n=e.tagName.toLowerCase(),r="td"===n||"th"===n,a=e[r?"offsetLeft":"offsetTop"],o=e[r?"offsetWidth":"offsetHeight"],s=t[r?"scrollLeft":"scrollTop"],l=t[r?"clientWidth":"clientHeight"],d=a+o,c=0,u=0,h=0;St&&r&&(i=I(e).closest("table")[0],Ct.msie?u=i.offsetLeft:Ct.mozilla&&(h=i.offsetLeft-te.support.scrollbar())),s=Math.abs(s+u-h),c=a<s?a:s+l<d?o<=l?d-l:a:s,c=Math.abs(c+u)+h,t[r?"scrollLeft":"scrollTop"]=c},_navigatable:function(){var e,t,i,n=this;n.options.navigatable&&(e=n.table.add(n.lockedTable),t=n.thead.parent().add(I(">table",n.lockedHeader)),i=e,n.options.scrollable&&(i=i.add(t),t.attr(ht,-1)),(this._navigatableTables=i).off("mousedown"+Me+" focus"+Me+" focusout"+Me+" keydown"+Me),t.on("keydown"+Me,ve(n._openHeaderMenu,n)).find("a.k-link").attr("tabIndex",-1),e.attr(ht,we.max(e.attr(ht)||0,0)).on("mousedown"+Me+" keydown"+Me,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),i.on(te.support.touch?"touchstart"+Me:"mousedown"+Me,Te+">"+Ie,ve(X,n)).on("focus"+Me,ve(n._tableFocus,n)).on("focusout"+Me,ve(n._tableBlur,n)).on("keydown"+Me,ve(n._tableKeyDown,n)))},_openHeaderMenu:function(e){e.altKey&&e.keyCode==ce.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())},_setTabIndex:function(e){this._navigatableTables.attr(ht,-1),e.attr(ht,0)},_tableFocus:function(e){var t,i;te.support.touch||(t=this.current(),i=I(e.currentTarget),t&&t.is(":visible")?t.addClass(et):this._setCurrent(i.find(He)),this._setTabIndex(i))},_tableBlur:function(){var e=this.current();e&&e.removeClass(et)},_tableKeyDown:function(e){var t,i=this.current(),n=this.virtualScrollable&&this.virtualScrollable.fetching(),r=I(e.target),a=!e.isDefaultPrevented()&&!r.is(":button,a,:input,a>.k-icon");return n?e.preventDefault():(i=i||I(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(He)).length&&(t=!1,a&&e.keyCode==ce.UP&&(t=this._moveUp(i,e.shiftKey)),a&&e.keyCode==ce.DOWN&&(t=this._moveDown(i,e.shiftKey)),a&&e.keyCode==(St?ce.LEFT:ce.RIGHT)&&(t=this._moveRight(i,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget)),a&&e.keyCode==(St?ce.RIGHT:ce.LEFT)&&(t=this._moveLeft(i,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget)),a&&e.keyCode==ce.PAGEDOWN&&(t=this._handlePageDown()),a&&e.keyCode==ce.PAGEUP&&(t=this._handlePageUp()),a&&e.keyCode==ce.HOME&&(t=this._handleHome(i,e.ctrlKey)),a&&e.keyCode==ce.END&&(t=this._handleEnd(i,e.ctrlKey)),e.keyCode!=ce.ENTER&&e.keyCode!=ce.F2||(t=this._handleEnterKey(i,e.currentTarget,r)),e.keyCode==ce.ESC&&(t=this._handleEscKey(i,e.currentTarget)),e.keyCode==ce.TAB&&(t=this._handleTabKey(i,e.currentTarget,e.shiftKey)),t&&(e.preventDefault(),e.stopPropagation())),w},_moveLeft:function(e,t,i,n,r){var a,o,s=e.parent(),l=s.parent();return t?this.collapseRow(s):n&&e.is(".k-header")&&this.options.reorderable?this._moveColumn(e,!0):(o=l.find(Te).index(s),(a=this._prevHorizontalCell(l,e,o))[0]||(i?this.lockedTable?(a=this._relatedRow(s),I.contains(this.lockedTable[0],s[0])&&(a=a.prevAll(De+":first")),a=a.children(Ce+":last")):a=this._tabNext(e,r,!0):(l=this._horizontalContainer(l),(a=this._prevHorizontalCell(l,e,o))[0]!==e[0]&&Y(l.parent(),!0))),this._setCurrent(a)),!0},_moveRight:function(e,t,i,n,r){var a,o,s=e.parent(),l=s.parent();return t?this.expandRow(s):n&&e.is(".k-header")&&this.options.reorderable?this._moveColumn(e,!1):(o=l.find(Te).index(s),(a=this._nextHorizontalCell(l,e,o))[0]||(i?this.lockedTable?(a=this._relatedRow(s),I.contains(this.table[0],s[0])&&(a=a.nextAll(De+":first")),a=a.children(Ce+":first")):a=this._tabNext(e,r,!1):(l=this._horizontalContainer(l,!0),(a=this._nextHorizontalCell(l,e,o))[0]!==e[0]&&Y(l.parent(),!0))),this._setCurrent(a)),!0},_moveUp:function(e,t){var i,n,r=e.parent().parent();return t?(i=(i=e.parent()).prevAll(De+":first"),i=e.parent().is(De)?i.children().eq(e.index()):i.children(Ce+":last")):(i=this._prevVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),(i=this._prevVerticalCell(r,e))[0]&&Y(r.parent(),!0)),n=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=n,!0},_moveDown:function(e,t){var i,n,r=e.parent().parent();return t?(i=(i=e.parent()).nextAll(De+":first"),i=e.parent().is(De)?i.children().eq(e.index()):i.children(Ce+":first")):(i=this._nextVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),(i=this._nextVerticalCell(r,e))[0]&&Y(r.parent(),!0)),n=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=n,!0},_moveColumn:function(e,t){var i=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),n=S(d(this.columns)),r=i.index(I(e)),a=t?-1:1,o=n[r],s=u(n,this.columns,r,r+a);0<=s&&this.reorderColumn(s,o,t)},_handleHome:function(e,t){var i,n=e.parent(),r=n.parent(),a=this.lockedTable&&this.lockedTable.children("tbody")[0]===r[0],o=r[0]===this.tbody[0];if(t?i=this.lockedTable?this.lockedTable.find(Fe+">"+Ie+":first"):this.table.find(Fe+">"+Ie+":first"):(o||a)&&(o&&this.lockedTable&&(n=this._relatedRow(n)),i=n.children(Ce+":first")),i&&i.length)return this._setCurrent(i),!0},_handleEnd:function(e,t){var i,n=e.parent(),r=n.parent(),a=this.lockedTable&&this.lockedTable.children("tbody")[0]===r[0],o=r[0]===this.tbody[0];if(t?i=this.table.find("tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible:last>"+Ie+":last"):(o||a)&&(!o&&this.lockedTable&&(n=this._relatedRow(n)),i=n.children(Ce+":last")),i&&i.length)return this._setCurrent(i),!0},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(e,t,i){var n,r=this.options.editable&&"incell"==this._editMode();return!(!r||e.is("th")||((n=I(oe()).closest(".k-edit-cell"))[0]&&n[0]!==e[0]&&(e=n),!(n=this._tabNext(e,t,i)).length||(this._handleEditing(e,n,n.closest("table")),0)))},_handleEscKey:function(e,t){var i,n,r=oe(),a="incell"==this._editMode();return(n=e)&&(n.hasClass("k-edit-cell")||n.parent().hasClass("k-grid-edit-row"))?(a?this.closeCell(!0):(i=I(e).parent().index(),r&&r.blur(),this.cancelRow(!0),0<=i&&this._setCurrent(this.items().eq(i).children(Ie).first())),Ct.msie&&Ct.version<9&&document.body.focus(),Y(t,!0),!0):!!e.has(r).length&&(Y(t,!0),!0)},_toggleCurrent:function(e,t){var i=e.parent();return i.is(".k-grouping-row")?(i.find(".k-icon:first").click(),!0):!(t||!i.is(".k-master-row")||(i.find(".k-icon:first").click(),0))},_handleEnterKey:function(e,t,i){var n,r,a=this.options.editable&&!1!==this.options.editable.update,o=i.closest("[role=gridcell]");return i.is("table")||I.contains(e[0],i[0])||(e=o),e.is("th")?((n=e.find(".k-link")).length?n.click():e.find(nt).focus(),!0):!(!this._toggleCurrent(e,a)&&((r=e.find(":kendoFocusable:first"))[0]&&!e.hasClass("k-edit-cell")&&e.hasClass("k-state-focused")?(r.focus(),0):!a||i.is(":button,.k-button,textarea")||(o[0]||(o=e),this._handleEditing(o,!1,t),0)))},_nextHorizontalCell:function(e,t,i){var n,r,a=t.nextAll(Ce);return a.length||-1!=(n=e.find(Te)).index(t.parent())?a.first():t.hasClass("k-header")?(r=[],P([A(this.columns)[0]],N(n.eq(0).children(":visible").first()),r,0,0),r[i]?r[i][0]:t):t.parent().hasClass("k-filter-row")?n.last().children(Ce).first():n.eq(i).children(Ce).first()},_prevHorizontalCell:function(e,t,i){var n,r,a,o=t.prevAll(Ce);return o.length||-1!=(n=e.find(Te)).index(t.parent())?o.first():t.hasClass("k-header")?(r=[],P([(a=A(this.columns))[a.length-1]],N(n.eq(0).children().last()),r,0,0),r[i]?r[i][0]:t):t.parent().hasClass("k-filter-row")?n.last().children(Ce).last():n.eq(i).children(Ce).last()},_currentDataIndex:function(e,t){var i,n=t.attr("data-index");return n?(i=A(this.columns).length)&&!e.closest("div").hasClass("k-grid-content-locked")[0]?n-i:n:w},_prevVerticalCell:function(e,t){var i,n=t.parent(),r=e.children(Te),a=r.index(n),o=this._currentDataIndex(e,t);if(o||t.hasClass("k-header"))return(i=function e(t){var i,n,r,a,o,s,l,d=t.closest("table"),c=I().add(t),u=t.closest("tr"),h=d.find("tr:not(.k-filter-row)"),p=h.index(u);if(0<p){for(i=h.eq(p-1),n=i.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!I(this).attr("rowspan")}),r=0,a=u.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),o=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return 1<this.colSpan}),s=0;s<o.length;s++)r+=o[s].colSpan||1;for(a+=Math.max(r-1,0),s=r=0;s<n.length;s++)if(l=n.eq(s),r+=l.attr("data-colspan")?l[0].getAttribute("data-colspan"):1,s<=a&&a<r){c=e(l).add(c);break}}return c}(t)).eq(i.length-2);if(o=Math.max(n.children(Ce).index(t),this._lastCellIndex||0),n.hasClass("k-filter-row"))return V(e).filter(D).eq(o);if(-1==a){if(!(n=e.find("tr.k-filter-row:visible"))[0])return V(e).filter(D).eq(o)}else n=0===a?I():r.eq(a-1);return(i=n.children(Ce)).eq(i.length>o?o:0)},_nextVerticalCell:function(e,t){var i,n,r,a,o,s,l=t.parent(),d=e.children(Te),c=d.index(l),u=this._currentDataIndex(e,t);if(-1!=c&&u===w&&t.hasClass("k-header"))return N(t).eq(1);if(u=u?parseInt(u,10):l.children(Ce).index(t),u=Math.max(u,this._lastCellIndex||0),l=d.eq(-1==c?0:c+t[0].rowSpan),n=u,this._currentDataIndex(e,t)!==w)for(r=l.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),a=r.filter(":hidden"),o=0,s=a.length;o<s;o++)r.index(a[o])<u&&n--;return u=n,(i=l.children(Ce)).eq(i.length>u?u:0)},_verticalContainer:function(e,t){var i=e.parent(),n=this._navigatableTables.length,r=Math.floor(n/2),a=me(i[0],this._navigatableTables);return t&&(r*=-1),(0<=(a+=r)||a<n)&&(i=this._navigatableTables.eq(a)),i.find(t?"thead":"tbody")},_horizontalContainer:function(e,t){var i,n,r=this._navigatableTables.length;return r<=2?e:(i=e.parent(),n=me(i[0],this._navigatableTables),n+=t?1:-1,!t||2!=n&&n!=r?!t&&(1==n||n<0)?e:this._navigatableTables.eq(n).find("thead, tbody"):e)},_tabNext:function(e,t,i){var n=!0,r=i?e.prevAll(Ce+":first"):e.nextAll(":visible:first");return r.length||(r=e.parent(),this.lockedTable&&(n=i&&t==this.lockedTable[0]||!i&&t==this.table[0],r=this._relatedRow(r)),n&&(r=r[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),r=r.children(Ce+(i?":last":":first"))),r},_handleEditing:function(e,t,i){var n,r,a=this,o=I(oe()),s=a._editMode(),l=Ct.msie,d=l&&Ct.version<9,c=a._editContainer,u=a.options.editable&&!1!==a.options.editable.update;if(i=I(i),r="incell"==s?e.hasClass("k-edit-cell"):e.parent().hasClass("k-grid-edit-row"),a.editable){if(I.contains(c[0],o[0])&&(Ct.opera||d?o.blur().change().triggerHandler("blur"):(o.blur(),l&&o.blur())),!a.editable)return Y(i),w;if(!a.editable.end())return a._setCurrent("incell"==s?c:c.children().filter(Ce).first()),(n=c.find(":kendoFocusable:first")[0])&&n.focus(),w;"incell"==s?a.closeCell():(a.saveRow(),r=!0)}t&&a._setCurrent(t),d&&document.body.focus(),Y(i,!0),u&&(!r&&!t||t)&&("incell"==s?a.editCell(a.current()):a.editRow(a.current().parent()))},_wrapper:function(){var e=this.table,t=this.options.height,i=this.element;i.is("div")||(i=i.wrap("<div/>").parent()),this.wrapper=i.addClass("k-grid k-widget k-display-block"),t&&(this.wrapper.css(ut,t),e.css(ut,"auto")),this._initMobile()},_initMobile:function(){var e,t=this.options,i=this;this._isMobile=!0===t.mobile&&te.support.mobileOS||"phone"===t.mobile||"tablet"===t.mobile,this._isMobile&&(e=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+te.ns+'stretch="true" data-'+te.ns+'role="view" data-'+te.ns+'init-widgets="false"></div>').parent(),this.pane=te.mobile.ui.Pane.wrap(e),this.view=this.pane.view(),this._actionSheetPopupOptions=I(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},t.height&&this.pane.element.parent().css(ut,t.height),this._editAnimation="slide",this.view.bind("show",function(){i._isLocked()&&(i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight())}))},_tbody:function(){var e,t=this.table;(e=t.find(">tbody")).length||(e=I("<tbody/>").appendTo(t)),this.tbody=e.attr("role","rowgroup")},_scrollable:function(){var e,t,i,n,r,a,o,s=this,l=s.options,d=l.scrollable,c=!0!==d&&d.virtual&&!s.virtualScrollable,u=!te.support.kineticScrollNeeded||c?te.support.scrollbar():0;d&&((e=s.wrapper.children(".k-grid-header"))[0]||(e=I('<div class="k-grid-header" />').insertBefore(s.table)),e.css(St?"padding-left":"padding-right",d.virtual?u+1:u),t=I('<table role="grid" />'),Tt&&t.attr("cellspacing",0),t.width(s.table[0].style.width),t.append(s.thead),e.empty().append(I('<div class="k-grid-header-wrap k-auto-scrollable" />').append(t)),s.content=s.table.parent(),s.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(s.content=s.content.parent()),s.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(s.content=s.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),c&&s._createVirtualScrollable(),i=e.children(".k-grid-header-wrap"),s.scrollables=i.add(s.content),(n=s.wrapper.find(".k-grid-footer")).length&&(s.scrollables=s.scrollables.add(n.children(".k-grid-footer-wrap"))),i.unbind("scroll"+Me).bind("scroll"+Me,function(e){s.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)}),d.virtual?s.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+Me).bind("scroll"+Me,function(){s.scrollables.scrollLeft(this.scrollLeft),s.lockedContent&&(s.lockedContent[0].scrollTop=this.scrollTop)}):(r=d.endless,a=s.dataSource.options.pageSize,r&&(s._endlessPageSize=a),s.content.unbind("scroll"+Me).bind("scroll"+Me,function(e){s.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft),s.lockedContent&&e.currentTarget==s.content[0]&&(s.lockedContent[0].scrollTop=this.scrollTop),r&&-10<=this.scrollTop+this.clientHeight-this.scrollHeight&&!s._endlessFetchInProgress&&s._endlessPageSize<s.dataSource.total()&&(s._skipRerenderItemsCount=s._endlessPageSize,s._endlessPageSize=s._endlessPageSize+a,s.dataSource.options.endless=!0,s._endlessFetchInProgress=!0,s.dataSource.pageSize(s._endlessPageSize))}),(o=s.content.data("kendoTouchScroller"))&&o.destroy(),(o=te.touchScroller(s.content))&&o.movable&&((s.touchScroller=o).movable.bind("change",function(e){s.scrollables.scrollLeft(-e.sender.x),s.lockedContent&&s.lockedContent.scrollTop(-e.sender.y)}),s.one($e,function(e){e.sender.wrapper.addClass("k-grid-backface")}))))},_createVirtualScrollable:function(){var e=this;e.virtualScrollable&&e.virtualScrollable.destroy(),e.virtualScrollable=new Dt(e.content,{dataSource:e.dataSource,itemHeight:function(){return e._averageRowHeight()},page:function(){e._restoreEditableState()},scroll:function(){e._focusEditable()}}),e.virtualScrollable.bind(Xe,ve(e._onVirtualPaging,e))},_onVirtualPaging:function(){this._cacheEditableState(),this._isVirtualIncellEditable()&&(this._shouldClearEditableState=!1,this.closeCell(),this._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&"inline"===this._editMode()},_isVirtualIncellEditable:function(){return this.virtualScrollable&&"incell"===this._editMode()},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_scrollVirtualWrapper:function(){var e=this.virtualScrollable;(this._isVirtualInlineEditable()||this._isVirtualIncellEditable())&&(e._isScrolledToBottom()?e._scrollWrapperToBottom():e._isScrolledToTop()&&e._scrollWrapperToTop())},_scrollVirtualWrapperOnColumnResize:function(){var e=this.virtualScrollable;e&&e._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var e,t,i=this,n=i._editableState||{},r=n.model,a=i.dataSource,o=i._isVirtualInlineEditable(),s=i._isVirtualIncellEditable();(o||s)&&r&&a._getByUid(r.uid,a.view())&&(o?(i._shouldClearEditableState=!1,i.editRow(r),i._focusEditable()):s&&(e=i.tbody.children(l("uid",r.uid)),(t=I(e).children(l("field",n.field)))[0]&&(i._shouldClearEditableState=!1,i.editCell(t),i._focusEditable()))),i._shouldClearEditableState=!0},_focusEditable:function(){var e=(this._editableState||{}).field,t=this._editContainer;t&&!ke(t[0],oe())&&this._canFocusEditable()&&(this._isVirtualInlineEditable()?t.find(l(gt,e)).find(tt).eq(0).focus():this._isVirtualIncellEditable()&&t.find(tt).eq(0).focus())},_canFocusEditable:function(){return(this._isVirtualIncellEditable()||this._isVirtualInlineEditable())&&this.virtualScrollable._isElementVisible(this._editContainer)},_cacheEditableState:function(){var e,t,i=this._editContainer,n=i?this._modelForContainer(i):null,r=this._isVirtualInlineEditable(),a=this._isVirtualIncellEditable();(r||a)&&n&&(this._clearEditableState(),e=I(oe()),i&&e[0]&&ke(i[0],e[0])&&(e.change(),(t=te.widgetInstance(e,te.ui))&&be(t.value)&&e.is("input")&&(t.value(e.val()),t.trigger(We))),r?this._editableState={model:n,field:e.closest("["+te.attr(gt)+"]").attr(te.attr(gt))}:a&&(this._editableState={model:n,field:i.attr(te.attr("field"))}))},_clearEditableState:function(){this.virtualScrollable&&(this._editableState=null)},_destroyVirtualScrollable:function(){this._clearEditableState(),this.virtualScrollable&&this.virtualScrollable.element&&this.virtualScrollable.destroy(),this.virtualScrollable=null},_renderNoRecordsContent:function(){var e;this.options.noRecords&&((e=this.table.parent().children("."+rt)).length&&(this.angular("cleanup",function(){return{elements:e.get()}}),e.remove()),this.dataSource&&this.dataSource.view().length||(e=I(this.noRecordsTemplate({})).insertAfter(this.table),this.angular("compile",function(){return{elements:e.get(),data:[{}]}})))},_setContentWidth:function(e){var t,i=this,n="k-grid-content-expander",r=i.resizable;i.options.scrollable&&i.wrapper.is(":visible")&&(t=i.table.parent().children("."+n),i._setContentWidthHandler=ve(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?t[0]&&(t.remove(),r&&r.unbind("resize",i._setContentWidthHandler)):(t[0]||(t=I('<div class="k-grid-content-expander"></div>').appendTo(i.table.parent()),r&&r.bind("resize",i._setContentWidthHandler)),i.thead&&(t.width(i.thead.width()),isNaN(parseFloat(e,10))||i.content.scrollLeft(e))),i._applyLockedContainersWidth(),i.lockedHeader&&0===i.table[0].clientWidth&&(i.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),i=t.parent(),n=this.wrapper[0].clientWidth,r=this._groups(),a=te.support.scrollbar(),o=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),s=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),l=h(o),d=h(s);0<r&&(l+=le(this.lockedHeader.find(".k-group-cell:first"))*r),n<=l&&(l=n-3*a),this.lockedHeader.add(this.lockedContent).width(l),i[0].style.width=i.parent().width()-l-2+"px",t.add(this.table).width(d),this.virtualScrollable&&(n-=a),this.content[0].style.width=n-l-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(l),(e=this.footer.find(".k-grid-footer-wrap"))[0].style.width=i[0].clientWidth+"px",e.children().first().width(d))}},_setContentHeight:function(){var e,t,i,n=this,r=n.options,a=n.wrapper.innerHeight(),o=n.wrapper.children(".k-grid-header"),s=te.support.scrollbar();r.scrollable&&n.wrapper.is(":visible")&&(a-=de(o),n.pager&&n.pager.element.is(":visible")&&(a-=de(n.pager.element)),r.groupable&&(a-=de(n.wrapper.children(".k-grouping-header"))),r.toolbar&&(a-=de(n.wrapper.children(".k-grid-toolbar"))),n.footerTemplate&&(a-=de(n.wrapper.children(".k-grid-footer"))),((e=n.wrapper)[0].style.height||(t=e.height(),e.height("auto"),i=e.height(),t!=i?(e.height(""),1):(e.height(""),0)))&&(2*s<a?(n.lockedContent&&(s=n.table[0].offsetWidth>n.table.parent()[0].clientWidth?s:0,n.lockedContent.height(a-s)),n.content.height(a)):n.content.height(2*s+1)))},_averageRowHeight:function(){var e,t=this,i=t._items(t.tbody).length,n=t._rowHeight;return 0===i||(t._rowHeight||(t._rowHeight=n=de(t.table)/i,t._sum=n,t._measures=1),e=de(t.table)/i,n!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures)),n},_dataSource:function(){var e,t=this,i=t.options,n=i.dataSource;n=ge(n)?{data:n}:n,ue(n)&&(he(n,{table:t.table,fields:t.columns}),e=i.pageable,ue(e)&&e.pageSize!==w&&(n.pageSize=e.pageSize)),t.dataSource&&t._refreshHandler?t.dataSource.unbind(We,t._refreshHandler).unbind(xe,t._progressHandler).unbind(Se,t._errorHandler):(t._refreshHandler=ve(t.refresh,t),t._progressHandler=ve(t._requestStart,t),t._errorHandler=ve(t._error,t)),t.dataSource=ne.create(n).bind(We,t._refreshHandler).bind(xe,t._progressHandler).bind(Se,t._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(e){var t,i,n,r,a,o,s,l,d,c,u=this,h=u.tbody,p=e.model,f=u.tbody.find("tr["+te.attr("uid")+"="+p.uid+"]"),g=f.hasClass("k-alt"),m=u._items(h).index(f),_=u.lockedContent;if(_&&(t=u._relatedRow(f)),f.add(t).children(".k-edit-cell").length&&!u.options.rowTemplate)f.add(t).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){i=I(this),(n=L(u.columns)[u.cellIndex(i)]).field===e.field&&(i.hasClass("k-edit-cell")?i.addClass("k-dirty-cell"):u._displayCell(i,n,p))});else if(!f.hasClass("k-grid-edit-row")){for(o=I().add(f),_&&(r=(g?u.lockedAltRowTemplate:u.lockedRowTemplate)(p),o=o.add(t),t.replaceWith(r)),u.angular("cleanup",function(){return{elements:o.get()}}),r=(g?u.altRowTemplate:u.rowTemplate)(p),f.replaceWith(r),r=u._items(h).eq(m),c=[{dataItem:p}],_&&(f=f.add(t),t=u._relatedRow(r)[0],$(r[0],t),r=r.add(t),c.push({dataItem:p})),u.angular("compile",function(){return{elements:r.get(),data:c}}),((a=u.options.selectable)||u._checkBoxSelection)&&f.hasClass("k-state-selected")&&u.select(r),l=o.children(":not(.k-group-cell,.k-hierarchy-cell)"),s=r.children(":not(.k-group-cell,.k-hierarchy-cell)"),m=0,d=u.columns.length;m<d;m++)n=u.columns[m],i=s.eq(m),a&&l.eq(m).hasClass("k-state-selected")&&i.addClass("k-state-selected");u.trigger("itemChange",{item:r,data:p,ns:ie})}},_pageable:function(){var e,t=this,i=t.options.pageable;i&&((e=t.wrapper.children("div.k-grid-pager")).length||(e=I('<div class="k-pager-wrap k-grid-pager"/>').appendTo(t.wrapper)),t.pager&&t.pager.destroy(),t.pager="object"==typeof i&&i instanceof te.ui.Pager?i:new te.ui.Pager(e,he({},i,{dataSource:t.dataSource})),t.pager.bind("pageChange",function(e){t.trigger("page",{page:e.index})&&e.preventDefault()}))},_footer:function(){var e,t,i,n=this,r=n.dataSource.aggregates(),a="",o=n.footerTemplate,s=n.options,l=n.footer||n.wrapper.find(".k-grid-footer");o?(a=I(n._wrapFooter(o(r))),l.length?(t=a,n.angular("cleanup",function(){return{elements:l.get()}}),l.replaceWith(t),l=n.footer=t):l=n.footer=s.scrollable?s.pageable?a.insertBefore(n.wrapper.children("div.k-grid-pager")):a.appendTo(n.wrapper):a.insertBefore(n.tbody),n.angular("compile",function(){return{elements:l.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:pe(n.columns,function(e){return{column:e,aggregate:r[e.field]}})}})):l&&!n.footer&&(n.footer=l),l.length&&(s.scrollable&&(e=l.attr("tabindex",-1).children(".k-grid-footer-wrap"),n.scrollables=I(n.scrollables.filter(function(){return!I(this).is(".k-grid-footer-wrap")}).toArray()).add(e)),n._footerWidth&&l.find("table").css("width",n._footerWidth),e&&(i=n.content.scrollLeft(),!0!==s.scrollable&&s.scrollable.virtual&&(i=n.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),e.scrollLeft(i))),n.lockedContent&&(n._appendLockedColumnFooter(),n._applyLockedContainersWidth(),n._syncLockedFooterHeight())},_wrapFooter:function(e){var t="",i=te.support.mobileOS?0:te.support.scrollbar();return this.options.scrollable?(t=I('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(Tt?' cellspacing="0"':"")+"><tbody>"+e+"</tbody></table></div></div>"),this._appendCols(t.find("table")),t.css(St?"padding-left":"padding-right",i),t):'<tfoot class="k-grid-footer">'+e+"</tfoot>"},_columnMenu:function(){var e,t,i,n,r,a,o,s,l,d=this,c=L(d.columns),u=d.options,h=u.columnMenu,p=0<fe(d.columns,function(e){return e.columns!==w}).length,f=this._isMobile,g=function(e){d.trigger(Ve,{field:e.field,container:e.container})},m=function(e){d.trigger(Be,{field:e.field,container:e.container})},_=function(e){Y(e.closest("table"),!0)},v=function(e){d.trigger("sort",{sort:e.sort})?e.preventDefault():(d._clearEditableState(),d.dataSource.options.endless&&(d.dataSource.options.endless=null,d._endlessPageSize=d.dataSource.options.pageSize,d.dataSource.pageSize(d.dataSource.options.pageSize)))},b=function(e){d.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(d._clearEditableState(),d.dataSource.options.endless&&(d.dataSource.options.endless=null,d._endlessPageSize=d.dataSource.options.pageSize,d.dataSource.pageSize(d.dataSource.options.pageSize)))},y=u.$angular;if(h)for("boolean"==typeof h&&(h={}),a=V(d.thead),o=0,s=a.length;o<s;o++)t=c[o],l=a.eq(o),t.command||!t.field&&!l.attr("data-"+te.ns+"field")||((e=l.data("kendoColumnMenu"))&&e.destroy(),n=!1!==t.sortable&&!1!==h.sortable&&!1!==u.sortable&&he({},u.sortable,{compare:(t.sortable||{}).compare}),r=!(!u.filterable||!1===t.filterable||!1===h.filterable)&&he({pane:d.pane},u.filterable,t.filterable),t.filterable&&t.filterable.dataSource&&(r.forceUnique=!1,r.checkSource=t.filterable.dataSource),r&&(r.format=t.format),i={dataSource:d.dataSource,values:t.values,columns:h.columns,sortable:n,filterable:r,messages:h.messages,owner:d,closeCallback:_,init:g,open:m,pane:d.pane,sort:v,filtering:b,filter:f?":not(.k-column-active)":"",lockedColumns:!p&&!1!==t.lockable&&0<A(c).length},y&&(i.$angular=y),l.kendoColumnMenu(i))},_headerCells:function(){return this.thead.find("th").filter(function(){var e=I(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")})},_filterable:function(){var e,t,i,n,r,a,o,s=this,l=L(s.columns),d=function(e){s.trigger(Le,{field:e.field,container:e.container})},c=function(e){Y(e.closest("table"),!0)},u=function(e){s.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(s._clearEditableState(),s.dataSource.options.endless&&(s.dataSource.options.endless=null,s._endlessPageSize=s.dataSource.options.pageSize,s.dataSource.pageSize(s.dataSource.options.pageSize)))},h=function(e){s.trigger(Ne,{field:e.field,container:e.container})},p=s.options.filterable;if(p&&typeof p.mode==ft&&-1==p.mode.indexOf("menu")&&(p=!1),p&&!s.options.columnMenu)for(t=V(s.thead),n=0,r=t.length;n<r;n++)i=t.eq(n),!1===l[n].filterable||l[n].command||!l[n].field&&!i.attr("data-"+te.ns+"field")||((e=i.data("kendoFilterMenu"))&&e.destroy(),(e=i.data("kendoFilterMultiCheck"))&&e.destroy(),a=l[n].filterable,o=he({},p,a,{dataSource:s.dataSource,values:l[n].values,format:l[n].format,closeCallback:c,title:l[n].title||l[n].field,init:d,open:h,pane:s.pane,change:u}),a&&a.messages&&(o.messages=he(!0,{},p.messages,a.messages)),a&&a.dataSource&&(o.forceUnique=!1,o.checkSource=a.dataSource),a&&a.multi?i.kendoFilterMultiCheck(o):i.kendoFilterMenu(o))},_filterRow:function(){var e,t,i,n,r,a,o,s,l,d,c,u,h,p,f,g=this;if(g._hasFilterRow())for(t=g.options.$angular,i=L(g.columns),n=g.options.filterable,r=g.thead.find(".k-filter-row"),a=function(e){g.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(g._clearEditableState(),g.dataSource.options.endless&&(g.dataSource.options.endless=null,g._endlessPageSize=g.dataSource.options.pageSize,g.dataSource.pageSize(g.dataSource.options.pageSize)))},this._updateHeader(this.dataSource.group().length),o=0;o<i.length;o++)if(l=i[o],d=g.options.filterable.operators,c=!1,u=I("<th/>"),h=l.field,l.hidden&&u.hide(),r.append(u),h&&!1!==l.filterable){if(p=l.filterable&&l.filterable.cell||{},(s=g.options.dataSource)instanceof ne&&(s=g.options.dataSource.options),f=he(!0,{},n.messages),l.filterable&&he(!0,f,l.filterable.messages),!1===p.enabled){u.html("&nbsp;");continue}p.dataSource&&(s=p.dataSource,c=!0),l.filterable&&l.filterable.operators&&(d=l.filterable.operators),e={column:l,dataSource:g.dataSource,suggestDataSource:s,customDataSource:c,field:h,messages:f,values:l.values,template:p.template,delay:p.delay,inputWidth:p.inputWidth,suggestionOperator:p.suggestionOperator,minLength:p.minLength,dataTextField:p.dataTextField,operator:p.operator,operators:d,showOperators:p.showOperators,change:a},t&&(e.$angular=t),I("<span/>").attr(te.attr("field"),h).appendTo(u).kendoFilterCell(e)}else u.html("&nbsp;")},_sortable:function(){var e,t,i,n,r,a,o=this,s=L(o.columns),l=o.options.sortable,d=function(e){o.trigger("sort",{sort:e.sort})?e.preventDefault():o._clearEditableState()};if(l){for(n=V(o.thead),r=0,a=n.length;r<a;r++)!1!==(e=s[r]).sortable&&!e.command&&e.field&&(i=n.eq(r),(t=i.data("kendoColumnSorter"))&&t.destroy(),i.attr("data-"+te.ns+"field",e.field).kendoColumnSorter(he({},l,e.sortable,{dataSource:o.dataSource,aria:!0,filter:":not(.k-column-active)",change:d})));n=null}},_columns:function(e){var t,i,n,r=this,a=r.table,d=a.find("col"),o=r.options.dataSource;if(e=e.length?e:pe(a.find("th"),function(e,t){var i=(e=I(e)).attr(te.attr("sortable")),n=e.attr(te.attr("filterable")),r=e.attr(te.attr("type")),a=e.attr(te.attr("groupable")),o=e.attr(te.attr("field")),s=e.attr(te.attr("title")),l=e.attr(te.attr("menu"));return o||(o=e.text().replace(/\s|[^A-z0-9]/g,"")),{field:o,type:r,title:s,sortable:"false"!==i,filterable:"false"!==n,groupable:"false"!==a,menu:l,template:e.attr(te.attr("template")),width:d.eq(t).css("width")}}),t=!(0<r.table.find("tbody tr").length&&(!o||!o.transport)),r.options.scrollable){if(i=A(n=e),e=O(e),0<i.length&&0===e.length)throw Error("There should be at least one non locked column");(function(e,t){var i,n,r=0,a=e.find("th:not(.k-group-cell)");for(i=0,n=t.length;i<n;i++)t[i].locked&&(a.eq(i).insertBefore(a.eq(r)),a=e.find("th:not(.k-group-cell)"),r++)})(r.element.find("tr:has(th):first"),n),e=i.concat(e)}r.columns=function n(e,r,a){return pe(e,function(e){var t,i;return F(e=typeof e===ft?{field:e}:e)&&!a||(e.attributes=s(e.attributes),e.footerAttributes=s(e.footerAttributes),e.headerAttributes=s(e.headerAttributes),t=!0),e.columns&&(e.columns=n(e.columns,r,t)),i=te.guid(),e.headerAttributes=he({id:i},e.headerAttributes),he({encoded:r,hidden:t},e)})}(e,t),I.grep(L(r.columns),function(e){return e.selectable}).length&&(r.options.persistSelection&&(r._selectedIds={}),r._checkBoxSelection=!0,r.wrapper.on(ct+Me,"tbody > tr "+nt,ve(r._checkboxClick,r)),r.wrapper.on(ct+Me,"thead > tr "+nt,ve(r._headerCheckboxClick,r)))},_headerCheckboxClick:function(e){var t=I(e.target),i=t.prop("checked"),n=t.closest(".k-grid.k-widget").getKendoGrid();this===n&&(i?this.select(n.items()):this.clearSelection())},_checkboxClick:function(e){var t=I(e.target).closest("tr"),i=!t.hasClass(it);this===t.closest(".k-grid.k-widget").getKendoGrid()&&(i?this.select(t):this._deselectCheckRows(t))},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t,i,n){var r,a,o,s=he({},te.Template,this.options.templateSettings),l=s.paramName,d=t.length,c={storage:{},count:0},u=this._hasDetails(),h=[],p=this._groups(),f=this.options.navigatable,g=te.attr("field"),m="";if(!e){for(e="<tr",i&&h.push("k-alt"),u&&h.push("k-master-row"),h.length&&(e+=' class="'+h.join(" ")+'"'),d&&(e+=" "+te.attr("uid")+'="#='+te.expr("uid",s.paramName)+'#"'),e+=" role='row'>",0<p&&!n&&(e+=v(p)),u&&(e+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+vt+'="'+_t+'" tabindex="-1"></a></td>'),r=0;r<d;r++)a=t[r],a.template,o=a.field,"incell"===this._editMode()&&o&&(a.attributes=a.attributes||{},this.virtualScrollable&&(a.attributes[g]=o),m=this._dirtyCellTemplate(o,l),a.attributes.class=a.attributes.class||"",a.attributes.class.indexOf(m)<0&&(a.attributes.class+=m)),a.command&&(a.attributes=a.attributes||{},w!==a.attributes.class?a.attributes.class+=" k-command-cell":a.attributes.class="k-command-cell"),e+="<td"+b(a.attributes),f&&(e+=" aria-describedby='"+a.headerAttributes.id+"'"),e+=" role='gridcell'>",e+=this._cellTmpl(a,c),e+="</td>";e+="</tr>"}return e=te.template(e,s),0<c.count?ve(e,c.storage):e},_dirtyCellTemplate:function(e,t){var i;return e&&t?(i="["===e.charAt(0)?te.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i+" ? ' k-dirty-cell' : '' #"):""},_headerCellText:function(e){var t=he({},te.Template,this.options.templateSettings),i=e.headerTemplate,n=typeof i,r=e.title||e.field||"";return n===pt?r=te.template(i,t)({}):n===ft&&(r=i),r},_cellTmpl:function(e,t){var i,n,r=he({},te.Template,this.options.templateSettings),a=e.template,o=r.paramName,s=e.field,l="",d=e.format,c=typeof a,u=e.values;if(e.command){if(ge(e.command)){for(i=0,n=e.command.length;i<n;i++)l+=e.command[i].visible?te.format("#= {0}(data)? '{1}':'' #",e.command[i].visible,this._createButton(e.command[i]).replace(yt,"\\#")):this._createButton(e.command[i]).replace(yt,"\\#");return l}return this._createButton(e.command).replace(yt,"\\#")}return e.selectable?'# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>':(l+=this._dirtyIndicatorTemplate(s,o),c===pt?(t.storage["tmpl"+t.count]=a,l+="#=this.tmpl"+t.count+"("+o+")#",t.count++):c===ft?l+=a:u&&u.length&&ue(u[0])&&"value"in u[0]&&s?(l+="#var v ="+te.stringify(B(u)).replace(yt,"\\#")+"#",l+="#var f = v[",r.useWithBlock||(l+=o+"."),l+=s+"]#",l+="${f != null ? f : ''}"):(l+=e.encoded?"#:":"#=",d&&(l+='kendo.format("'+d.replace(bt,"\\$1")+'",'),s?(s=te.expr(s,o),l+=s+"==null?'':"+s):l+="''",d&&(l+=")"),l+="#"),l)},_dirtyIndicatorTemplate:function(e,t){var i;return e&&t?(i="["===e.charAt(0)?te.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i+" ? '<span class=\"k-dirty\"></span>' : '' #"):""},_templates:function(){var e=this,t=e.options,i=e.dataSource,n=i.group(),r=e.footer||e.wrapper.find(".k-grid-footer"),a=i.aggregate(),o=L(e.columns),s=L(A(e.columns)),l=t.scrollable?L(O(e.columns)):o;if(t.scrollable&&s.length){if(t.rowTemplate||t.altRowTemplate)throw Error("Having both row template and locked columns is not supported");e.rowTemplate=e._tmpl(t.rowTemplate,l,!1,!0),e.altRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,l,!0,!0),e.lockedRowTemplate=e._tmpl(t.rowTemplate,s),e.lockedAltRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,s,!0)}else e.rowTemplate=e._tmpl(t.rowTemplate,l),e.altRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,l,!0);e._hasDetails()&&(e.detailTemplate=e._detailTmpl(t.detailTemplate||"")),(e._group&&!ye(a)||!ye(a)&&!r.length||fe(o,function(e){return e.footerTemplate}).length)&&(e.footerTemplate=e._footerTmpl(o,a,"footerTemplate","k-footer-template")),n&&fe(o,function(e){return e.groupFooterTemplate}).length&&(a=I.map(n,function(e){return e.aggregates}),e.groupFooterTemplate=e._footerTmpl(l,a,"groupFooterTemplate","k-group-footer",s.length),t.scrollable&&s.length&&(e.lockedGroupFooterTemplate=e._footerTmpl(s,a,"groupFooterTemplate","k-group-footer"))),e.options.noRecords&&(e.noRecordsTemplate=e._noRecordsTmpl())},_noRecordsTmpl:function(){var e,t,i,n=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",r={storage:{},count:0},a=I.extend({},te.Template,this.options.templateSettings),o=a.paramName,s="";return e=this.options.noRecords.template?this.options.noRecords.template:te.format('<div class="k-grid-norecords-template"{1}>{0}</div>',this.options.messages.noRecords,n),"function"==(t=typeof e)?(r.storage["tmpl"+r.count]=e,s+="#=this.tmpl"+r.count+"("+o+")#",r.count++):"string"===t&&(s+=e),i=te.template(te.format('<div class="{0}">{1}</div>',rt,s),a),0<r.count&&(i=I.proxy(i,r.storage)),i},_footerTmpl:function(e,t,i,n,r){var a,o,s,l,d,c=he({},te.Template,this.options.templateSettings),u=c.paramName,h="",p={},f=0,g={},m=this._groups(),_=this.dataSource._emptyAggregates(t);for(h+='<tr class="'+n+'">',0<m&&!r&&(h+=v(m)),this._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),a=0,o=e.length;a<o;a++)d=e[a],s=d[i],l=typeof s,h+="<td"+b(d.footerAttributes)+">",s?(l!==pt&&(g=_[d.field]?he({},c,{paramName:u+"['"+d.field+"']"}):{},s=te.template(s,g)),p["tmpl"+f]=s,h+="#=this.tmpl"+f+"("+u+")#",f++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=te.template(h,c),0<f?ve(h,p):h},_detailTmpl:function(e){var t="",i=he({},te.Template,this.options.templateSettings),n=i.paramName,r={},a=0,o=this._groups(),s=S(L(this.columns)).length,l=typeof e;return t+='<tr class="k-detail-row">',0<o&&(t+=v(o)),t+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(s?' colspan="'+s+'"':"")+">",l===pt?(r["tmpl"+a]=e,t+="#=this.tmpl"+a+"("+n+")#",a++):t+=e,t+="</td></tr>",t=te.template(t,i),0<a?ve(t,r):t},_hasDetails:function(){return null!==this.options.detailTemplate||(this._events[Re]||[]).length},_hasFilterRow:function(){var e=this.options.filterable,t=e&&typeof e.mode==ft&&-1!=e.mode.indexOf("row"),i=this.columns,n=I.grep(i,function(e){return!1===e.filterable});return i.length&&n.length==i.length&&(t=!1),t},_details:function(){var u=this;if(u.options.scrollable&&u._hasDetails()&&A(u.columns).length)throw Error("Having both detail template and locked columns is not supported");u.table.on(ct+Me,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(e){var t,i,n=I(this),r=n.closest("td.k-hierarchy-cell"),a=n.hasClass("k-i-expand"),o=n.closest("tr.k-master-row"),s=u.detailTemplate,l=u._hasDetails(),d=a?mt:_t,c=!!a;return n.toggleClass("k-i-expand",!a).toggleClass("k-i-collapse",a).attr(vt,d),r.attr("aria-expanded",c),t=o.next(),l&&!t.hasClass("k-detail-row")&&(i=u.dataItem(o),t=I(s(i)).addClass(o.hasClass("k-alt")?"k-alt":"").insertAfter(o),u.angular("compile",function(){return{elements:t.get(),data:[{dataItem:i}]}}),u.trigger(Re,{masterRow:o,detailRow:t,data:i,detailCell:t.find(".k-detail-cell")})),u.trigger(a?Ke:Ye,{masterRow:o,detailRow:t}),t.toggle(a),e.preventDefault(),!1})},dataItem:function(e){if(!(e=I(e)[0]))return null;var t,i,n=this.tbody.children(),r=/k-grouping-row|k-detail-row|k-group-footer/,a=e.sectionRowIndex;for(i=a,t=0;t<a;t++)r.test(n[t].className)&&i--;return this._data[i]},expandRow:function(e){I(e).find("> td .k-i-expand").click()},collapseRow:function(e){I(e).find("> td .k-i-collapse").click()},_createHeaderCells:function(e,t){var i,n,r,a,o,s,l="",d=L(this.columns);for(i=0,a=e.length;i<a;i++)n=e[i].column||e[i],r=this._headerCellText(n),o="",s=me(n,d),n.selectable?(l+="<th scope='col'"+b(n.headerAttributes),t&&!e[i].colSpan&&(l+=" rowspan='"+t+"'"),-1<s&&(l+=te.attr("index")+"='"+s+"'"),r=n.headerTemplate?r:te.template('# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>')({})):n.command?(l+="<th scope='col'"+b(n.headerAttributes),t&&!e[i].colSpan&&(l+=" rowspan='"+t+"'"),-1<s&&(l+=te.attr("index")+"='"+s+"'")):(n.field&&(o=te.attr("field")+"='"+n.field+"' "),l+="<th scope='col' role='columnheader' "+o,l+=" aria-haspopup='true'",t&&!e[i].colSpan&&(l+=" rowspan='"+t+"'"),1<e[i].colSpan&&(l+='colspan="'+(e[i].colSpan-M(n.columns))+'" ',l+=te.attr("colspan")+"='"+e[i].colSpan+"'"),n.title&&(l+=te.attr("title")+'="'+n.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),n.groupable!==w&&(l+=te.attr("groupable")+"='"+n.groupable+"' "),n.aggregates&&n.aggregates.length&&(l+=te.attr("aggregates")+"='"+n.aggregates+"'"),-1<s&&(l+=te.attr("index")+"='"+s+"'"),l+=b(n.headerAttributes)),l+=">"+r+"</th>";return l},_appendLockedColumnContent:function(){var e,t,i,n,r,a=this.columns,o=this.table.find("colgroup"),s=o.find("col:not(.k-group-col,.k-hierarchy-col)"),l=I(),d=0,c=0;for(e=0,t=a.length;e<t;e++)if(a[e].locked)if(F(a[e])){for(n=1,a[e].columns&&(n=L(a[e].columns).length-M(a[e].columns)),n=n||1,r=0;r<n;r++)l=l.add(s.eq(e+c+r-d));c+=n-1}else d++;i=I('<div class="k-grid-content-locked"><table'+(Tt?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),o.detach(),i.find("colgroup").append(l),o.insertBefore(this.table.find("tbody")),this.lockedContent=i.insertBefore(this.content),this.lockedTable=i.children("table")},_appendLockedColumnFooter:function(){var e,t,i=this.footer,n=i.find(".k-footer-template>td"),r=i.find(".k-grid-footer-wrap>table>colgroup>col"),a=I('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),o=this._groups(),s=I(),l=I();for(s=s.add(n.filter(".k-group-cell")),e=0,t=L(A(this.columns)).length;e<t;e++)s=s.add(n.eq(e+o));for(l=l.add(r.filter(".k-group-col")),e=0,t=S(L(p(this.columns))).length;e<t;e++)l=l.add(r.eq(e+o));s.appendTo(a.find("tr")),l.appendTo(a.find("colgroup")),this.lockedFooter=a.prependTo(i)},_appendLockedColumnHeader:function(e){var t,i,n,r,a,o,s,l,d,c,u=this.columns,h=[],p=0,f=I(),g=this._hasFilterRow(),m=0,_=I(),v=0,b=I(),y=this.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),k=this.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),w=this.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),x=0;for(t=0,n=u.length;t<n;t++){if(u[t].locked){if(o=k.eq(t),v=L(u[t].columns||[]).length,F(u[t])){for(s=null,u[t].columns&&(s=v-M(u[t].columns)),s=s||1,l=0;l<s;l++)f=f.add(y.eq(t+x+l-p));x+=s-1}for(P([u[t]],N(o),h,0,0),v=v||1,d=0;d<v;d++)_=_.add(w.eq(m+d));m+=v}u[t].columns&&(p+=M(u[t].columns)),F(u[t])||p++}if(h.length){for(i='<div class="k-grid-header-locked" style="width:1px"><table'+(Tt?' cellspacing="0"':"")+"><colgroup/><thead>",i+=Array(h.length+1).join("<tr></tr>"),a=I(i+=(g?'<tr class="k-filter-row" />':"")+"</thead></table></div>"),(y=a.find("colgroup")).append(this.thead.prev().find("col.k-group-col").add(f)),r=a.find("thead tr:not(.k-filter-row)"),t=0,n=h.length;t<n;t++)b=I(h[t]).map(function(){return this.toArray()}),r.eq(t).append(this.thead.find("tr:eq("+t+") .k-group-cell").add(b));return c=z(this.thead),h.length<c&&function(e,t){var i,n,r=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;n<r.length;n++)1<(i=r[n].rowSpan)&&(r[n].rowSpan=i-t||1)}(a,c-h.length),a.find(".k-filter-row").append(this.thead.find(".k-filter-row .k-group-cell").add(_)),this.lockedHeader=a.prependTo(e),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);te.destroy(e),e.off(Me).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var e,t,i,n,r,a,o,s=this,l=s.columns,d=s._hasDetails()&&l.length,c=s._hasFilterRow(),u="",h=s.table.find(">thead"),p=0<s.element.find("thead:first").length;if(h.length||(h=I("<thead/>").insertBefore(s.tbody)),s.lockedHeader&&s.thead?((t=s.thead.find("tr:has(th):not(.k-filter-row)").html("")).remove(),t=I(),s._removeLockedContainers()):t=s.element.find(p?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),!t.length&&!(t=h.children().first()).length){for(i=[{rowSpan:1,cells:[],index:0}],s._prepareColumns(i,l),e=0;e<i.length;e++)u+="<tr>",d&&(u+='<th class="k-hierarchy-cell" scope="col">'+s.options.messages.expandCollapseColumnHeader+"</th>"),u+=s._createHeaderCells(i[e].cells,i[e].rowSpan),u+="</tr>";t=I(u)}c&&((n=I("<tr/>")).addClass("k-filter-row"),(d||t.find(".k-hierarchy-cell").length)&&n.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),(r=(s.thead||h).find(".k-filter-row")).length&&(te.destroy(r),r.remove()),h.append(n)),t.children().length?d&&!t.find(".k-hierarchy-cell")[0]&&t.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'):(u="",d&&(u+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),u+=s._createHeaderCells(l),t.html(u)),t.attr("role","row").find("th").addClass("k-header"),s.options.scrollable||h.addClass("k-grid-header"),t.find("script").remove().end().prependTo(h),s.thead&&s._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:h.find("th").get()}}),this.angular("compile",function(){return{elements:h.find("th").get(),data:pe(l,function(e){return{column:e}})}}),s.thead=h.attr("role","rowgroup"),s._sortable(),s._filterable(),s._filterRow(),s._scrollable(),s._updateCols(),s._columnMenu(),(o=this.options.scrollable&&A(this.columns).length)&&(a=s._appendLockedColumnHeader(s.thead.closest(".k-grid-header")),s._appendLockedColumnContent(),s.lockedContent.bind("DOMMouseScroll"+Me+" mousewheel"+Me,ve(s._wheelScroll,s))),s._updateColumnCellIndex(),s._updateFirstColumnClass(),s._resizable(),s._draggable(),s._reorderable(),s._updateHeader(s._groups()),o&&(a&&s._syncLockedHeaderHeight(),s._applyLockedContainersWidth()),s.groupable&&s._attachGroupable()},_retrieveFirstColumn:function(e,t){var i,n=I();if(t.length&&e[0]){for(i=e[0];i.columns&&i.columns.length;)i=i.columns[0],t=t.filter(":not(:first())");n=n.add(t)}return n},_updateFirstColumnClass:function(){var e,t,i=this.columns||[],n=this._hasDetails()&&i.length;n||this._groups()||(e=this.thead.find(">tr:not(.k-filter-row):not(:first)"),i=O(i),t=this._retrieveFirstColumn(i,e),this._isLocked()&&(e=this.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),i=A(this.columns),t=t.add(this._retrieveFirstColumn(i,e))),t.each(function(){var e=I(this).find("th");e.removeClass("k-first"),e.eq(0).addClass("k-first")}))},_prepareColumns:function(e,t,i,n){var r,a,o=n||e[e.length-1],s=e[o.index+1],l=0;for(r=0;r<t.length;r++)a={column:t[r],colSpan:0},o.cells.push(a),t[r].columns&&t[r].columns.length&&(s||(s={rowSpan:0,cells:[],index:e.length},e.push(s)),a.colSpan=t[r].columns.length,this._prepareColumns(e,t[r].columns,a,s),l+=a.colSpan-1,o.rowSpan=e.length-o.index);i&&(i.colSpan+=l)},_wheelScroll:function(e){var t,i,n;e.ctrlKey||(t=this.content,this.options.scrollable.virtual&&(t=this.virtualScrollable.verticalScrollbar),i=t.scrollTop(),(n=te.wheelDeltaY(e))&&(t[0].scrollHeight>t[0].clientHeight&&(t[0].scrollTop<t[0].scrollHeight-t[0].clientHeight&&n<0||0<t[0].scrollTop&&0<n)&&e.preventDefault(),t.scrollTop(i+-n)))},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var e=this.thead.parent().add(this.table);this._isLocked()?m(e,R(n(this.columns)),this._hasDetails(),0):m(e,R(S(this.columns)),this._hasDetails(),0)},_updateCols:function(e){e=e||this.thead.parent().add(this.table),this._appendCols(e,this._isLocked())},_updateLockedCols:function(e){this._isLocked()&&m(e=e||this.lockedHeader.find("table").add(this.lockedTable),R(p(this.columns)),this._hasDetails(),this._groups())},_appendCols:function(e,t){t?m(e,R(n(this.columns)),this._hasDetails(),0):m(e,R(S(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,i;for(t in e=e.toJSON(),i=!(0<this.table.find("tbody tr").length&&(!this.dataSource||!this.dataSource.transport)),e)this.columns.push({field:t,encoded:i,headerAttributes:{id:te.guid()}});this._thead(),this._templates()}},_rowsHtml:function(e,t){var i,n,r="",a=t.rowTemplate,o=t.altRowTemplate;for(i=0,n=e.length;i<n;i++)0<this._skipRerenderItemsCount?this._skipRerenderItemsCount--:r+=i%2?o(e[i]):a(e[i]),this._data.push(e[i]);return r},_groupRowHtml:function(e,t,i,n,r,a){var o,s,l,d,c,u,h,p,f,g="",m=e.field,_=fe(L(this.columns),function(e){return e.field==m})[0]||{},v=_.groupHeaderTemplate,b=(_.title||m)+": "+(c=e.value,u=_.format,h=_.values,p=_.encoded,f=null!=(f=h&&h.length&&ue(h[0])&&"value"in h[0]?B(h)[c]:c)?f:"",u?te.format(u,f):!1===p?f:te.htmlEncode(f)),y=this._groupAggregatesDefaultObject||{},k=e.items,w=he({},y,e.aggregates),x=he({},{field:e.field,value:e.value,items:k,aggregates:w},e.aggregates[e.field]),S=r.groupFooterTemplate;if(v&&(b=typeof v===pt?v(x):te.template(v)(x)),this._skipRerenderItemsCount?n(t,i,b):g+=n(t,i,b),e.hasSubgroups)for(o=0,s=k.length;o<s;o++)this._skipRerenderItemsCount?this._groupRowHtml(k[o],a?t:t-1,i+1,n,r,a):g+=this._groupRowHtml(k[o],a?t:t-1,i+1,n,r,a);else g+=this._rowsHtml(k,r);if(S){for(d in l={},w)l[d]=he({},w[d],{group:{field:e.field,value:e.value,items:k}});g+=S(l)}return g},collapseGroup:function(e){var t,i,n,r,a,o,s=this,l=e,d=this.options.groupable,c=d.showFooter,u=c?0:1,h=I();for(e=I(e),this._isLocked()&&(e.closest("div").hasClass("k-grid-content-locked")?h=this.tbody.children("tr:eq("+e.index()+")").nextAll("tr"):(h=e.nextAll("tr"),e=this.lockedTable.find(">tbody>tr:eq("+e.index()+")"))),t=e.find(".k-group-cell").length,e.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),e.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr(vt,_t),e=e.nextAll("tr"),o=[],n=0,r=e.length;n<r&&(a=e.eq(n),i=a.find(".k-group-cell").length,a.hasClass("k-grouping-row")?u++:a.hasClass("k-group-footer")&&u--,!(i<=t||a.hasClass("k-group-footer")&&u<0));n++)h.length&&o.push(h[n]),o.push(a[0]);I(o).hide(),this.options.scrollable.endless&&this.content&&setTimeout(function(){s.content.scroll(),s._groupToCollapse=l})},expandGroup:function(e){e=I(e);var t,i,n,r,a,o=this.options.groupable.showFooter,s=I(),l=[],d=1;for(this._isLocked()&&(e.closest("div").hasClass("k-grid-content-locked")?s=this.tbody.children("tr:eq("+e.index()+")").nextAll("tr"):(s=e.nextAll("tr"),e=this.lockedTable.find(">tbody>tr:eq("+e.index()+")"))),t=e.find(".k-group-cell").length,e.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),e.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr(vt,mt),e=e.nextAll("tr"),r=0,a=e.length;r<a&&(i=e.eq(r),!((n=i.find(".k-group-cell").length)<=t));r++)n!=t+1||i.hasClass("k-detail-row")||(i.show(),s.eq(r).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&this.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&(i.next().show(),s.eq(r+1).show())),i.hasClass("k-grouping-row")&&(o&&l.push(i.is(":visible")),d++),i.hasClass("k-group-footer")&&(o&&i.toggle(l.pop()),1==d?(i.show(),s.eq(r).show()):d--)},_updateHeader:function(e){var t=this._isLocked()?this.lockedHeader.find("thead"):this.thead,i=t.find("tr.k-filter-row").find("th.k-group-cell").length,n=t.find("tr:first").find("th.k-group-cell").length,r=t.children("tr:not(:first)").filter(function(){return!I(this).children(":visible").length});n<e?(I(Array(e-n+1).join('<th class="k-group-cell k-header" scope="col">'+this.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(t.children("tr:not(.k-filter-row)")),this.element.is(":visible")&&r.find("th.k-group-cell").hide()):e<n&&t.find("tr").each(function(){I(this).find("th.k-group-cell").filter(":eq("+e+"),:gt("+e+")").remove()}),i<e&&I(Array(e-i+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(t.find(".k-filter-row"))},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},_updateTablesWidth:function(){var e;this._isLocked()&&(e=I(">.k-grid-footer>.k-grid-footer-wrap>table",this.wrapper).add(this.thead.parent()).add(this.table),this._footerWidth=t(e.eq(0)),e.width(this._footerWidth),(e=I(">.k-grid-footer>.k-grid-footer-locked>table",this.wrapper).add(this.lockedHeader.find(">table")).add(this.lockedTable)).width(t(e.eq(0))))},hideColumn:function(t){var e,i,n,r,a,o,s,l,d,c=this,u=0,h=c.footer||c.wrapper.find(".k-grid-footer"),p=c.columns,f=c.lockedHeader?V(c.lockedHeader.find(">table>thead")).filter(D).length:0;if((t="number"==typeof t?p[t]:ue(t)?fe(E(p),function(e){return e===t})[0]:fe(E(p),function(e){return e.field===t})[0])&&F(t)){if(t.columns&&t.columns.length){for(a=g(t,p),x(t,!1),q(k(I(">table>thead",c.lockedHeader),c.thead,">tr:eq("+a.row+")>th"),a.cell,!1),i=0;i<t.columns.length;i++)this.hideColumn(t.columns[i]);return c.trigger(je,{column:t}),w}if(l=me(t,S(L(p))),x(t,!1),c._setParentsVisibility(t,!1),c._templates(),c._updateCols(),c._updateLockedCols(),d=c.thead,o=l,c.lockedHeader&&l<f?d=c.lockedHeader.find(">table>thead"):o-=f,V(d).filter(D).eq(o)[0].style.display="none",q(k(I(">table>thead",c.lockedHeader),c.thead,">tr.k-filter-row>th"),l,!1),h[0]&&(c._updateCols(h.find(">.k-grid-footer-wrap>table")),c._updateLockedCols(h.find(">.k-grid-footer-locked>table")),q(h.find(".k-footer-template>td"),l,!1)),c.lockedTable&&l<f?W(c.lockedTable.find(">tbody>tr"),l):W(c.tbody.children(),l-f),c.lockedTable)c._updateTablesWidth(),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight(),c._syncLockedFooterHeight();else{for(n=c.thead.prev().find("col"),i=0,s=n.length;i<s;i+=1){if(!(r=n[i].style.width)||-1!=r.indexOf("%")){u=0;break}u+=parseInt(r,10)}e=I(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table),c._footerWidth=null,u&&(e.each(function(){this.style.width=u+"px"}),c._footerWidth=u),Ct.msie&&8==Ct.version&&(e.css("display","inline-table"),setTimeout(function(){e.css("display","table")},1))}c._updateFirstColumnClass(),c.trigger(je,{column:t})}},_setParentsVisibility:function(e,t){var i,n,r,a,o,s=this.columns,l=[],d=t?function(e){return S(e.columns).length&&e.hidden}:function(e){return!S(e.columns).length&&!e.hidden};if(c(e,s,l)&&l.length)for(i=l.length-1;0<=i;i--)r=H(n=l[i],s),a=k(I(">table>thead",this.lockedHeader),this.thead,">tr:eq("+r.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(r.cell),d(n)&&(x(n,t),a[0].style.display=t?"":"none"),a.filter("["+te.attr("colspan")+"]").length&&(o=parseInt(a.attr(te.attr("colspan")),10),a[0].colSpan=o-M(n.columns)||1)},showColumn:function(i){var e,t,n,r,a,o,s,l,d,c,u,h,p=this,f=p.columns,g=p.footer||p.wrapper.find(".k-grid-footer"),m=p.lockedHeader?V(p.lockedHeader.find(">table>thead")).length:0;if("number"==typeof i?i=f[d=i]:ue(i)?I.each(E(f),function(e,t){if(t===i)return i=t,d=e,!1}):I.each(E(f),function(e,t){if(t.field===i)return i=t,d=e,!1}),i&&!F(i)){if(i.columns&&i.columns.length){for(o=H(i,f),c=E(p.options.columns)[d],x(i,!0),q(k(I(">table>thead",p.lockedHeader),p.thead,">tr:eq("+o.row+")>th"),o.cell,!0),e=0;e<i.columns.length;e++)c.columns[e].hidden||this.showColumn(i.columns[e]);return p.trigger(Ue,{column:i}),w}if(u=me(i,L(f)),x(i,!0),p._setParentsVisibility(i,!0),p._templates(),p._updateCols(),p._updateLockedCols(),h=p.thead,a=u,p.lockedHeader&&u<m?h=p.lockedHeader.find(">table>thead"):a-=m,V(h).eq(a)[0].style.display="",q(k(I(">table>thead",p.lockedHeader),p.thead,">tr.k-filter-row>th"),u,!0),g[0]&&(p._updateCols(g.find(">.k-grid-footer-wrap>table")),p._updateLockedCols(g.find(">.k-grid-footer-locked>table")),q(g.find(".k-footer-template>td"),u,!0)),p.lockedTable&&u<m?U(p.lockedTable.find(">tbody>tr"),u):U(p.tbody.children(),u-m),p.lockedTable)p._updateTablesWidth(),p._applyLockedContainersWidth(),p._syncLockedContentHeight(),p._syncLockedHeaderHeight();else if(n=I(">.k-grid-header table:first,>.k-grid-footer table:first",p.wrapper).add(p.table),i.width){for(r=0,l=p.thead.prev().find("col"),e=0,t=l.length;e<t;e+=1){if(-1<(s=l[e].style.width).indexOf("%")){r=0;break}r+=parseInt(s,10)}p._footerWidth=null,r&&(n.each(function(){this.style.width=r+"px"}),p._footerWidth=r)}else n.width("");p._updateFirstColumnClass(),p.trigger(Ue,{column:i})}},_progress:function(e){var t=this.element,i=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?t=this._editContainer:this.lockedContent||i?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),i&&e?te.ui.progress(t,e,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):te.ui.progress(t,e)},_resize:function(e,t){this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var e=oe();return!!e&&(this.table[0]===e||I.contains(this.table[0],e)||this._isLocked()&&(this.lockedTable[0]===e||I.contains(this.lockedTable[0],e)))},refresh:function(e){var t,i,n=this,r=n.dataSource.view(),a=n.options.navigatable,o=I(n.current()),s=!1,l=(n.dataSource.group()||[]).length,d=l+R(S(n.columns)).length;if(!e||"itemchange"!==e.action||!n.editable)return e&&"remove"===e.action&&n.editable&&n.editable.options.model&&-1<me(n.editable.options.model,e.items)&&n.editable.options.model.unbind(We,n._modelChangeHandler),(e=e||{}).action===Ze&&n._isVirtualEditable()?(n._destroyEditable(),n._clearEditableState(),n._restoreVirtualView()):n.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(n._angularItems("cleanup"),n._endlessFetchInProgress||(a&&(n._isActiveInTable()||n._editContainer&&n._editContainer.data("kendoWindow"))&&(s=o.is("th"),t=s?o.index():Math.max(n.cellIndex(o),0)),n._destroyEditable()),n.options.scrollable&&n.options.scrollable.endless?(clearTimeout(n._progressTimeOut),n._progressTimeOut=setTimeout(function(){n._endlessFetchInProgress||n._progress(!1)},100)):n._progress(!1),n._hideResizeHandle(),n._data=[],n.columns.length||(n._autoColumns(n._firstDataItem(r[0],l)),d=l+n.columns.length),n._group=0<l||n._group,n._group&&(n._templates(),n._updateCols(),n._updateLockedCols(),n._updateHeader(l),n._group=0<l,n._groupRows=j(r)),n.content&&(i=n.content.scrollLeft()),n._renderContent(r,d,l),n._renderLockedContent(r,d,l),n._footer(),n._renderNoRecordsContent(),n._togglePagerVisibility(),n._setContentHeight(),n._setContentWidth(n.content&&i),n.lockedTable&&(n.options.scrollable.virtual?n.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):n.touchScroller?n.touchScroller.movable.trigger("change"):(n.wrapper.one("scroll",function(e){e.stopPropagation()}),n.content.trigger("scroll"))),n._endlessFetchInProgress||n._restoreCurrent(t,s),n.touchScroller&&n.touchScroller.contentResized(),n.selectable&&n.selectable.resetTouchEvents(),n._muteAngularRebind(function(){n._angularItems("compile")}),n._checkBoxSelection&&n._toggleHeaderCheckState(!1),n.options.persistSelection&&(n.selectable&&!te.ui.Selectable.parseOptions(n.options.selectable).cell||n._checkBoxSelection)&&n._restoreSelection(),n.trigger($e)),w},_restoreCurrent:function(e,t){var i,n,r;e===w||e<0||(this._removeCurrent(),t?this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(e)):(i=0,this._rowVirtualIndex?i=this.virtualScrollable.position(this._rowVirtualIndex):e=0,n=I(),this.lockedTable&&(n=this.lockedTable.find(">tbody>tr").eq(i)),n=n.add(this.tbody.children().eq(i)),r=n.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(e),this._setCurrent(r)),this._current&&Y(this._current.closest("table")[0],!0))},_restoreSelection:function(){var e,i=this,t=i.items();e=fe(t,function(e){var t=i.dataItem(e)[i.dataSource.options.schema.model.id];if(i._selectedIds[t])return e}),i.select(e)},_angularItems:function(e){te.ui.DataBoundWidget.fn._angularItems.call(this,e),"cleanup"===e&&this._cleanupDetailItems(),this._angularGroupItems(e),this._angularGroupFooterItems(e)},_cleanupDetailItems:function(){var e=this;e._hasDetails()&&(e.angular("cleanup",function(){return{elements:e.tbody.children(".k-detail-row")}}),e.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(e){var t=this,i=t.tbody;t.lockedContent&&(i=t.lockedTable.find("tbody")),t._group&&t.angular(e,function(){return{elements:i.children(".k-grouping-row"),data:I.map(j(t.dataSource.view()),function(e){return{dataItem:e}})}})},_angularGroupFooterItems:function(e){var t=this,i=t.tbody;t.lockedContent&&(i=t.element),t._group&&t.groupFooterTemplate&&t.angular(e,function(){return{elements:i.find(".k-group-footer"),data:I.map(function e(t){var i,n,r=[];for(n=0;n<t.length&&("field"in(i=t[n])&&"value"in i&&"items"in i);n++)i.hasSubgroups&&(r=r.concat(e(i.items))),r.push(i.aggregates);return r}(t.dataSource.view()),function(e){return{dataItem:e}})}})},_renderContent:function(e,t,i){var n,r,a=this,o="",s=null!=a.lockedContent,l=null,d=a.options.scrollable,c={rowTemplate:a.rowTemplate,altRowTemplate:a.altRowTemplate,groupFooterTemplate:a.groupFooterTemplate};if(d&&d.endless&&!a.dataSource.options.endless&&(a._skipRerenderItemsCount=0,a.content&&(a.content[0].scrollTop=0)),l=0<a._skipRerenderItemsCount,t=s?t-R(p(a.columns)).length:t,0<i)for(t=s?t-i:t,a.detailTemplate&&t++,a.groupFooterTemplate&&(a._groupAggregatesDefaultObject=a.dataSource.aggregates()),n=0,r=e.length;n<r;n++)o+=a._groupRowHtml(e[n],t,0,s?ee:Z,c,s);else o+=a._rowsHtml(e,c);l?(a.tbody.append(o),setTimeout(function(){a._groupToCollapse&&(a.collapseGroup(a._groupToCollapse),a._groupToCollapse=null)}),a._endlessFetchInProgress=null):a.tbody=f(a.tbody,a.table,o,this.options.$angular)},_renderLockedContent:function(e,t,i){var n,r,a,o="",s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(a=this.lockedTable,0<i)for(t-=S(L(O(this.columns))).length,n=0,r=e.length;n<r;n++)o+=this._groupRowHtml(e[n],t,0,Z,s);else o=this._rowsHtml(e,s);f(a.children("tbody"),a,o,this.options.$angular),this._syncLockedContentHeight()}},_togglePagerVisibility:function(){!1===this.options.pageable.alwaysVisible&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(e,t){var i,n,r,a,o=e[0].rows,s=o.length,l=t[0].rows,d=e.add(t),c=d.length,u=[];for(i=0;i<s&&l[i];i++)o[i].style.height&&(o[i].style.height=l[i].style.height="");for(i=0;i<s&&l[i];i++)n=o[i].offsetHeight,r=l[i].offsetHeight,a=0,r<n?a=n:n<r&&(a=r),u.push(a);for(i=0;i<c;i++)d[i].style.display="none";for(i=0;i<s;i++)u[i]&&(o[i].style.height=l[i].style.height=u[i]+1+"px");for(i=0;i<c;i++)d[i].style.display=""}});te.ExcelMixin&&te.ExcelMixin.extend(Ht.prototype),te.PDFMixin&&(te.PDFMixin.extend(Ht.prototype),Ht.prototype._drawPDF_autoPageBreak=function(t){function i(){u.appendTo(document.body);var e=I.extend({},o.options.pdf,{_destructive:!0,progress:function(e){t.notify({page:e.page,pageNumber:e.pageNum,progress:.5+e.pageNum/e.totalPages/2,totalPages:e.totalPages})}});te.drawing.drawDOM(h,e).always(function(){u.remove()}).then(function(e){s.resolve(e)}).fail(function(e){s.reject(e)})}function n(){var e=l.page(),t=d?l.totalPages():1;r.append(c.find("tr")),e<t?l.page(e+1):(l.unbind("change",n),d&&a!==w?(l.one("change",i),l.page(a)):(o.refresh(),i()))}var r,a,o=this,s=new I.Deferred,l=o.dataSource,d=o.options.pdf.allPages,c=o.wrapper.find('table[role="grid"] > tbody'),u=I("<div>").css({position:"absolute",left:-1e4,top:-1e4}),h=o.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(u);return h.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),h.find('table[role="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),h.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),h.find(".k-grid-header, .k-grid-footer").css({paddingRight:0}),this._initPDFProgress(t),r=h.find('table[role="grid"] > tbody').empty(),a=l.page(),d?(l.bind("change",n),l.page(1)):n(),s.promise()},Ht.prototype._drawPDF=function(r){function a(){e._drawPDFShadow({width:e.wrapper.width()},{avoidLinks:e.options.pdf.avoidLinks}).done(function(e){var t=s.page(),i=l?s.totalPages():1,n={page:e,pageNumber:t,progress:t/i,totalPages:i};r.notify(n),d.append(n.page),t<i?s.page(t+1):l&&c!==w?(s.unbind("change",a),s.one("change",function(){o.resolve(d)}),s.page(c)):o.resolve(d)}).fail(function(e){o.reject(e)})}var o,s,l,d,c,e=this;return e.options.pdf.paperSize&&"auto"!=e.options.pdf.paperSize?e._drawPDF_autoPageBreak(r):(o=new I.Deferred,s=e.dataSource,l=e.options.pdf.allPages,this._initPDFProgress(r),d=new te.drawing.Group,c=s.page(),l?(s.bind("change",a),s.page(1)):a(),o.promise())},Ht.prototype._initPDFProgress=function(e){var t,i=I("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");i.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(i),t=I("<div class='k-loading-pdf-progress'>").appendTo(i).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar"),e.progress(function(e){t.value(e.progress)}).always(function(){te.destroy(i),i.remove()})}),ie.plugin(Ht),ie.plugin(Dt)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],function(){return r=window.kendo.jQuery,e=window.kendo,n=e.ui,a=n.Widget,s=r.proxy,l=e.isFunction,d=r.extend,c="horizontal",t=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t),i.orientation="vertical"!=i.options.orientation.toLowerCase()?c:"vertical",i._positionMouse=i.orientation==c?"x":"y",i._position=i.orientation==c?"left":"top",i._sizingDom=i.orientation==c?"outerWidth":"outerHeight",i.draggable=new n.Draggable(t.draggableElement||e,{distance:1,filter:t.handle,drag:s(i._resize,i),dragcancel:s(i._cancel,i),dragstart:s(i._start,i),dragend:s(i._stop,i)}),i.userEvents=i.draggable.userEvents},events:["resize","resizeend","start"],options:{name:"Resizable",orientation:c},resize:function(){},_max:function(e){var t=this.hint?this.hint[this._sizingDom]():0,i=this.options.max;return l(i)?i(e):i!==o?this._initialElementPosition+i-t:i},_min:function(e){var t=this.options.min;return l(t)?t(e):t!==o?this._initialElementPosition+t:t},_start:function(e){var t=this,i=t.options.hint,n=r(e.currentTarget);t._initialElementPosition=n.position()[t._position],t._initialMousePosition=e[t._positionMouse].startLocation,i&&(t.hint=l(i)?r(i(n)):i,t.hint.css({position:"absolute"}).css(t._position,t._initialElementPosition).appendTo(t.element)),t.trigger("start",e),t._maxPosition=t._max(e),t._minPosition=t._min(e),r(document.body).css("cursor",n.css("cursor"))},_resize:function(e){var t,i=this,n=i._maxPosition,r=i._minPosition,a=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);t=r!==o?Math.max(r,a):a,i.position=t=n!==o?Math.min(n,t):t,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",t==n||t==r).css(i._position,t),i.resizing=!0,i.trigger("resize",d(e,{position:t}))},_stop:function(e){this.hint&&this.hint.remove(),this.resizing=!1,this.trigger("resizeend",d(e,{position:this.position})),r(document.body).css("cursor","")},_cancel:function(e){this.hint&&(this.position=o,this.hint.css(this._position,this._initialElementPosition),this._stop(e))},destroy:function(){a.fn.destroy.call(this),this.draggable&&this.draggable.destroy()},press:function(e){if(e){var t=e.position();this.userEvents.press(t.left,t.top,e[0]),this.targetPosition=t,this.target=e}},move:function(e){var t=this._position,i=this.targetPosition,n=this.position;n===o&&(n=i[t]),i[t]=n+e,this.userEvents.move(i.left,i.top)},end:function(){this.userEvents.end(),this.target=this.position=o}}),e.ui.plugin(t),window.kendo;var r,o,e,n,a,s,l,d,c,t}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.userevents.min",["kendo.core.min"],function(){return function(d,e){function n(e,t){var i=e.x.location,n=e.y.location,r=t.x.location,a=t.y.location,o=i-r,s=n-a;return{center:{x:(i+r)/2,y:(n+a)/2},distance:Math.sqrt(o*o+s*s)}}function c(e){var t,i,n,r=[],a=e.originalEvent,o=e.currentTarget,s=0;if(e.api)r.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(i=a?a.changedTouches:[],t=i.length;s<t;s++)n=i[s],r.push({location:n,event:e,target:n.target,currentTarget:o,id:n.identifier,type:"touch"});else r.push(h.pointers||h.msPointers?{location:a,event:e,target:e.target,currentTarget:o,id:a.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:o,location:e,type:"mouse"});return r}function l(e){for(var t=u.eventMap.up.split(" "),i=0,n=t.length;i<n;i++)e(t[i])}var u=window.kendo,h=u.support,t=u.Class,p=u.Observable,a=d.now,f=d.extend,i=h.mobileOS,o=i&&i.android,g=800,m=h.browser.msie?5:0,_="gesturechange",v="gestureend",b="gesturetap",r={api:0,touch:0,mouse:9,pointer:9},y=!h.touch||h.mouseAndTouchPresent,s=t.extend({init:function(e,t){this.axis=e,this._updateLocationData(t),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=a()},move:function(e){var t=this,i=e["page"+t.axis],n=a(),r=n-t.timeStamp||1;!i&&o||(t.delta=i-t.location,t._updateLocationData(e),t.initialDelta=i-t.startLocation,t.velocity=t.delta/r,t.timeStamp=n)},_updateLocationData:function(e){var t=this.axis;this.location=e["page"+t],this.client=e["client"+t],this.screen=e["screen"+t]}}),k=t.extend({init:function(e,t,i){f(this,{x:new s("X",i.location),y:new s("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||r[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(d.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(w.current&&w.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger("move",e)}},end:function(e){this.endTime=a(),this._finished||(this._finished=!0,this._trigger("release",e),this._moved?this._trigger("end",e):this.useClickAsTap||this._trigger("tap",e),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var e=this.userEvents,t=e.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),t.splice(d.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=a(),this._moved=!0,this._trigger("start",e)},_trigger:function(e,t){var i=t.event,n={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(e,n)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}),w=p.extend({init:function(e,t){var i,n,r,a,o=this,s=u.guid();t=t||{},i=o.filter=t.filter,o.threshold=t.threshold||m,o.minHold=t.minHold||g,o.touches=[],o._maxTouches=t.multiTouch?2:1,o.allowSelection=t.allowSelection,o.captureUpIfMoved=t.captureUpIfMoved,o.useClickAsTap=!t.fastTap&&!h.delayedClick(),o.eventNS=s,e=d(e).handler(o),p.fn.init.call(o),f(o,{element:e,surface:d(t.global&&y?e[0].ownerDocument.documentElement:t.surface||e),stopPropagation:t.stopPropagation,pressed:!1}),o.surface.handler(o).on(u.applyEventMap("move",s),"_move").on(u.applyEventMap("up cancel",s),"_end"),e.on(u.applyEventMap("down",s),i,"_start"),o.useClickAsTap&&e.on(u.applyEventMap("click",s),i,"_click"),(h.pointers||h.msPointers)&&(h.browser.version<11?(n="pinch-zoom double-tap-zoom",e.css("-ms-touch-action",t.touchAction&&"none"!=t.touchAction?n+" "+t.touchAction:n)):e.css("touch-action",t.touchAction||"none")),t.preventDragEvent&&e.on(u.applyEventMap("dragstart",s),u.preventDefault),e.on(u.applyEventMap("mousedown",s),i,{root:e},"_select"),o.captureUpIfMoved&&h.eventCapture&&(r=o.surface[0],a=d.proxy(o.preventIfMoving,o),l(function(e){r.addEventListener(e,a,!0)})),o.bind(["press","hold","tap","start","move","end","release","cancel","gesturestart",_,v,b,"select"],t)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var t,i=this;i._destroyed||(i._destroyed=!0,i.captureUpIfMoved&&h.eventCapture&&(t=i.surface[0],l(function(e){t.removeEventListener(e,i.preventIfMoving)})),i.element.kendoDestroy(i.eventNS),i.surface.kendoDestroy(i.eventNS),i.element.removeData("handler"),i.surface.removeData("handler"),i._disposeAll(),i.unbind(),delete i.surface,delete i.element,delete i.currentTarget)},capture:function(){w.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(e,t){var i=this.touches;if(this._isMultiTouch()){switch(e){case"move":e=_;break;case"end":e=v;break;case"tap":e=b}f(t,{touches:i},n(i[0],i[1]))}return this.trigger(e,f(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;0<e.length;)e.pop().dispose()},_isMoved:function(){return d.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){this.allowSelection&&!this.trigger("select",{event:e})||e.preventDefault()},_start:function(e){var t,i,n=this,r=0,a=n.filter,o=c(e),s=o.length,l=e.which;if(!(l&&1<l||n._maxTouchesReached()))for(w.current=null,n.currentTarget=e.currentTarget,n.stopPropagation&&e.stopPropagation();r<s&&!n._maxTouchesReached();r++)i=o[r],(t=a?d(i.currentTarget):n.element).length&&(i=new k(n,t,i),n.touches.push(i),i.press(),n._isMultiTouch()&&n.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:d(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:d(e.currentTarget),event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()},_eachTouch:function(e,t){var i,n,r,a,o={},s=c(t),l=this.touches;for(i=0;i<l.length;i++)n=l[i],o[n.id]=n;for(i=0;i<s.length;i++)r=s[i],(a=o[r.id])&&a[e](r)},_apiCall:function(e,t,i,n){this[e]({api:!0,pageX:t,pageY:i,clientX:t,clientY:i,target:d(n||this.element)[0],stopPropagation:d.noop,preventDefault:d.noop})}});w.defaultThreshold=function(e){m=e},w.minHold=function(e){g=e},u.getTouches=c,u.touchDelta=n,u.UserEvents=w}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.virtuallist.min",["kendo.data.min"],function(){return function(g,m){function u(e){return e[e.length-1]}function a(e){return e instanceof Array?e:[e]}function _(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function r(e,t,i){var n=document.createElement(i||"div");return t&&(n.className=t),e.appendChild(n),n}function c(e,t,i){var n,r,a=i.template;e=g(e),t.item||(a=i.placeholderTemplate),0===t.index&&this.header&&t.group&&this.header.html(i.fixedGroupTemplate(t.group)),this.angular("cleanup",function(){return{elements:[e]}}),e.attr("data-uid",t.item?t.item.uid:"").attr("data-offset-index",t.index).html(a(t.item||{})),e.toggleClass(p,t.current),e.toggleClass(v,t.selected),e.toggleClass("k-first",t.newGroup),e.toggleClass("k-loading-item",!t.item),0!==t.index&&t.newGroup&&g("<div class="+d+"></div>").appendTo(e).html(i.groupTemplate(t.group)),t.top!==m&&(n=e[0],r=t.top,o.support.browser.msie&&o.support.browser.version<10?n.style.top=r+"px":(n.style.webkitTransform="translateY("+r+"px)",n.style.transform="translateY("+r+"px)")),this.angular("compile",function(){return{elements:[e],data:[{dataItem:t.item,group:t.group,newGroup:t.newGroup}]}})}function h(e){return e&&"resolved"!==e.state()}var o=window.kendo,e=o.ui,s=e.Widget,t=e.DataBoundWidget,i=g.proxy,l="k-virtual-item",d="k-group",v="k-state-selected",p="k-state-focused",f="k-state-hover",b="change",n="click",y="itemChange",k="deactivate",w=".VirtualList",x=t.extend({init:function(e,t){var i,n,r=this;r.bound(!1),r._fetching=!1,s.fn.init.call(r,e,t),r.options.itemHeight||(r.options.itemHeight=((n=g('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>')).css({position:"absolute",left:"-200000px",visibility:"hidden"}),n.appendTo(document.body),i=parseFloat(o.getComputedStyles(n.find(".k-item")[0],["line-height"])["line-height"]),n.remove(),i)),t=r.options,r.element.addClass("k-list k-virtual-list").attr("role","listbox"),r.content=r.element.wrap("<div unselectable='on' class='k-virtual-content'></div>").parent(),r.wrapper=r.content.wrap("<div class='k-virtual-wrap'></div>").parent(),r.header=r.content.before("<div class='k-group-header'></div>").prev(),r.element.on("mouseenter"+w,"li:not(.k-loading-item)",function(){g(this).addClass(f)}).on("mouseleave"+w,"li",function(){g(this).removeClass(f)}),r._values=a(r.options.value),r._selectedDataItems=[],r._selectedIndexes=[],r._rangesList={},r._promisesList=[],r._optionID=o.guid(),r._templates(),r.setDataSource(t.dataSource),r.content.on("scroll"+w,o.throttle(function(){r._renderItems(),r._triggerListBound()},t.delay)),r._selectable()},options:{name:"VirtualList",autoBind:!0,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null},events:[b,n,"listBound",y,"activate",k],setOptions:function(e){s.fn.setOptions.call(this,e),this._selectProxy&&!1===this.options.selectable?this.element.off(n,"."+l,this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable(),this._templates(),this.refresh()},items:function(){return g(this._items)},destroy:function(){this.wrapper.off(w),this.dataSource.unbind(b,this._refreshHandler),s.fn.destroy.call(this)},setDataSource:function(e){var t,i=this,n=e||{};n=g.isArray(n)?{data:n}:n,n=o.data.DataSource.create(n),i.dataSource?(i.dataSource.unbind(b,i._refreshHandler),i._clean(),i.bound(!1),i._deferValueSet=!0,t=i.value(),i.value([]),i.mute(function(){i.value(t)})):i._refreshHandler=g.proxy(i.refresh,i),i.dataSource=n.bind(b,i._refreshHandler),i.setDSFilter(n.filter()),0!==n.view().length?i.refresh():i.options.autoBind&&n.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var e=this.skip();this.bound()&&!this._selectingValue&&this._skip!==e&&(this._skip=e,this.trigger("listBound"))},_getValues:function(e){var t=this._valueGetter;return g.map(e,function(e){return t(e)})},refresh:function(e){var t,i=this,n=e&&e.action,r="itemchange"===n,a=this.isFiltered();i._mute||(i._deferValueSet=!1,i._fetching?(i._renderItems&&i._renderItems(!0),i._triggerListBound()):(a&&i.focus(0),i._createList(),n||!i._values.length||a||i.options.skipUpdateOnBind?(i.bound(!0),i._triggerListBound()):(i._selectingValue=!0,i.value(i._values,!0).done(function(){i.bound(!0),i._selectingValue=!1,i._triggerListBound()}))),(r||"remove"===n)&&(t=function(e,t){var i,n,r,a,o=t.length,s=e.length,l=[],d=[];if(s)for(r=0;r<s;r++){for(i=e[r],n=!1,a=0;a<o;a++)if(i===t[a]){n=!0,l.push({index:r,item:i});break}n||d.push(i)}return{changed:l,unchanged:d}}(i._selectedDataItems,e.items)).changed.length&&(r?i.trigger("selectedItemChange",{items:t.changed}):i.value(i._getValues(t.unchanged))),i._fetching=!1)},removeAt:function(e){return this._selectedIndexes.splice(e,1),this._values.splice(e,1),{position:e,dataItem:this._selectedDataItems.splice(e,1)[0]}},setValue:function(e){this._values=a(e)},value:function(e,t){var i=this;return e===m?i._values.slice():(null===e&&(e=[]),e=a(e),i._valueDeferred&&"resolved"!==i._valueDeferred.state()||(i._valueDeferred=g.Deferred()),!("multiple"===i.options.selectable&&i.select().length&&e.length)&&e.length||i.select(-1),i._values=e,(i.bound()&&!i._mute&&!i._deferValueSet||t)&&i._prefetchByValue(e),i._valueDeferred)},_prefetchByValue:function(e){var t,i,n,r=this,a=r._dataView,o=r._valueGetter,s=r.options.mapValueTo,l=[];for(i=0;i<e.length;i++)for(n=0;n<a.length;n++)(t=a[n].item)&&(_(t)?e[i]===t:e[i]===o(t))&&l.push(a[n].index);return l.length===e.length?(r._values=[],r.select(l)):"function"==typeof r.options.valueMapper?r.options.valueMapper({value:"multiple"===this.options.selectable?e:e[0],success:function(e){"index"===s?r.mapValueToIndex(e):"dataItem"===s&&r.mapValueToDataItem(e)}}):r.select([-1]),m},mapValueToIndex:function(e){if((e=e===m||-1===e||null===e?[]:a(e)).length){var t=this._deselect([]).removed;t.length&&this._triggerChange(t,[])}else e=[-1];this.select(e)},mapValueToDataItem:function(e){var t,i,n,r;if((e=e===m||null===e?[]:a(e)).length){for(t=g.map(this._selectedDataItems,function(e,t){return{index:t,dataItem:e}}),i=g.map(e,function(e,t){return{index:t,dataItem:e}}),this._selectedDataItems=e,this._selectedIndexes=[],n=0;n<this._selectedDataItems.length;n++)r=this._getElementByDataItem(this._selectedDataItems[n]),this._selectedIndexes.push(this._getIndecies(r)[0]),r.addClass(v);this._triggerChange(t,i),this._valueDeferred&&this._valueDeferred.resolve()}else this.select([-1])},deferredRange:function(e){var a=this.dataSource,o=this.itemCount,s=this._rangesList,t=g.Deferred(),l=[],i=Math.floor(e/o)*o,n=Math.ceil(e/o)*o,r=n===i?[n]:[i,n];return g.each(r,function(e,t){var i,n=t+o,r=s[t];r&&r.end===n?i=r.deferred:(i=g.Deferred(),s[t]={end:n,deferred:i},a._multiplePrefetch(t,o,function(){i.resolve()})),l.push(i)}),g.when.apply(g,l).then(function(){t.resolve()}),t},prefetch:function(e){var i=this,n=this.itemCount,t=!i._promisesList.length;return h(i._activeDeferred)||(i._activeDeferred=g.Deferred(),i._promisesList=[]),g.each(e,function(e,t){i._promisesList.push(i.deferredRange(i._getSkip(t,n)))}),t&&g.when.apply(g,i._promisesList).done(function(){i._promisesList=[],i._activeDeferred.resolve()}),i._activeDeferred},_findDataItem:function(e,t){var i,n;if("group"===this.options.type)for(n=0;n<e.length;n++){if(!((i=e[n].items).length<=t))return i[t];t-=i.length}return e[t]},_getRange:function(e,t){return this.dataSource._findRange(e,Math.min(e+t,this.dataSource.total()))},dataItemByIndex:function(e){var t=this,i=t.itemCount,n=t._getSkip(e,i);return t._getRange(n,i).length?(t.mute(function(){t.dataSource.range(n,i)}),t._findDataItem(t.dataSource.view(),[e-n])):null},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(e){var t,i,n,r,a,o,s=this.options.itemHeight,l=this._optionID,d=!0;if(e===m)return(r=this.element.find("."+p)).length?r:null;if("function"==typeof e)for(n=this.dataSource.flatView(),a=0;a<n.length;a++)if(e(n[a])){e=a;break}return e instanceof Array&&(e=u(e)),isNaN(e)?(t=g(e),i=parseInt(g(t).attr("data-offset-index"),10)):(i=e,t=this._getElementByIndex(i)),-1===i?(this.element.find("."+p).removeClass(p),this._focusedIndex=m):t.length?(t.hasClass(p)&&(d=!1),this._focusedIndex!==m&&((r=this._getElementByIndex(this._focusedIndex)).removeClass(p).removeAttr("id"),d&&this.trigger(k)),this._focusedIndex=i,t.addClass(p).attr("id",l),"top"===(o=this._getElementLocation(i))?this.scrollTo(i*s):"bottom"===o?this.scrollTo(i*s+s-this._screenHeight):"outScreen"===o&&this.scrollTo(i*s),d&&this.trigger("activate")):(this._focusedIndex=i,this.items().removeClass(p),this.scrollToIndex(i)),m},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0),this.focus(0)},focusLast:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(e)},focusPrev:function(){var e,t=this._focusedIndex;return!isNaN(t)&&0<t?(t-=1,this.focus(t),(e=this.focus())&&e.hasClass("k-loading-item")&&(t+=1,this.focus(t))):(t=this.dataSource.total()-1,this.focus(t)),t},focusNext:function(){var e,t=this._focusedIndex,i=this.dataSource.total()-1;return!isNaN(t)&&t<i?(t+=1,this.focus(t),(e=this.focus())&&e.hasClass("k-loading-item")&&(t-=1,this.focus(t))):(t=0,this.focus(t)),t},_triggerChange:function(e,t){t=t||[],((e=e||[]).length||t.length)&&this.trigger(b,{removed:e,added:t})},select:function(e){var t,i,n,r,a,o=this,s="multiple"!==o.options.selectable,l=h(o._activeDeferred),d=this.isFiltered(),c=[];return e===m?o._selectedIndexes.slice():(o._selectDeferred&&"resolved"!==o._selectDeferred.state()||(o._selectDeferred=g.Deferred()),t=o._getIndecies(e),i=s&&!d&&u(t)===u(this._selectedIndexes),(c=o._deselectCurrentValues(t)).length||!t.length||i?(o._triggerChange(c),o._valueDeferred&&o._valueDeferred.resolve(),o._selectDeferred.resolve().promise()):(1===t.length&&-1===t[0]&&(t=[]),r=o._deselect(t),c=r.removed,t=r.indices,s&&(l=!1,t.length&&(t=[u(t)])),a=function(){var e=o._select(t);o.focus(t),o._triggerChange(c,e),o._valueDeferred&&o._valueDeferred.resolve(),o._selectDeferred.resolve()},n=o.prefetch(t),l||(n?n.done(a):a()),o._selectDeferred.promise()))},bound:function(e){return e===m?this._listCreated:(this._listCreated=e,m)},mute:function(e){this._mute=!0,i(e(),this),this._mute=!1},setDSFilter:function(e){this._lastDSFilter=g.extend({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!o.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:g.noop,_getElementByIndex:function(i){return this.items().filter(function(e,t){return i===parseInt(g(t).attr("data-offset-index"),10)})},_getElementByDataItem:function(e){var t,i,n=this._dataView,r=this._valueGetter;for(i=0;i<n.length;i++)if(n[i].item&&_(n[i].item)?n[i].item===e:n[i].item&&e&&r(n[i].item)==r(e)){t=n[i];break}return t?this._getElementByIndex(t.index):g()},_clean:function(){this.result=m,this._lastScrollTop=m,this._skip=m,g(this.heightContainer).remove(),this.heightContainer=m,this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,i=this.options.itemHeight,n=this.dataSource.total();return e?n<t/i&&(t=n*i):t=0,t},setScreenHeight:function(){var e=this._height();this.content.height(e),this._screenHeight=e},screenHeight:function(){return this._screenHeight},_getElementLocation:function(e){var t=this.content.scrollTop(),i=this._screenHeight,n=this.options.itemHeight,r=e*n,a=r+n,o=t+i;return r===t-n||t<a&&r<t?"top":r===o||r<o&&o<a?"bottom":t<=r&&r<=t+(i-n)?"inScreen":"outScreen"},_templates:function(){var e,t=this.options,i={template:t.template,placeholderTemplate:t.placeholderTemplate,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};for(e in i)"function"!=typeof i[e]&&(i[e]=o.template(i[e]||""));this.templates=i},_generateItems:function(e,t){for(var i,n=[],r=this.options.itemHeight+"px";0<t--;)(i=document.createElement("li")).tabIndex=-1,i.className=l+" k-item",i.setAttribute("role","option"),i.style.height=r,i.style.minHeight=r,e.appendChild(i),n.push(i);return n},_saveInitialRanges:function(){var e,t=this.dataSource._ranges,i=g.Deferred();for(i.resolve(),this._rangesList={},e=0;e<t.length;e++)this._rangesList[t[e].start]={end:t[e].end,deferred:i}},_createList:function(){var i,t,n,e,r,a,o=this,s=o.content.get(0),l=o.options,d=o.dataSource;o.bound()&&o._clean(),o._saveInitialRanges(),o._buildValueGetter(),o.setScreenHeight(),o.itemCount=(e=o._screenHeight,r=l.listScreens,a=l.itemHeight,Math.ceil(e*r/a)),o.itemCount>d.total()&&(o.itemCount=d.total()),o._items=o._generateItems(o.element[0],o.itemCount),o._setHeight(l.itemHeight*d.total()),o.options.type=(d.group()||[]).length?"group":"flat","flat"===o.options.type?o.header.hide():o.header.show(),o.getter=o._getter(function(){o._renderItems(!0)}),o._onScroll=function(e,t){var i=o._listItems(o.getter);return o._fixedHeader(e,i(e,t))},o._renderItems=o._whenChanged((t=s,n=o._onScroll,function(e){return n(t.scrollTop,e)}),(i=o._reorderList(o._items,g.proxy(c,o)),function(e,t){return i(e.items,e.index,t),e})),o._renderItems(),o._calculateGroupPadding(o._screenHeight)},_setHeight:function(e){var t,i,n=this.heightContainer;if(n?t=n.offsetHeight:n=this.heightContainer=r(this.content[0],"k-height-container"),e!==t)for(n.innerHTML="";0<e;)i=Math.min(e,25e4),r(n).style.height=i+"px",e-=i},_getter:function(){var u=null,h=this.dataSource,p=h.skip(),f=this.options.type,g=this.itemCount,m={};return h.pageSize()<g&&this.mute(function(){h.pageSize(g)}),function(e,t){var i,n,r,a,o,s,l,d,c=this;if(h.inRange(t,g)){if(p!==t&&this.mute(function(){h.range(t,g),p=t}),"group"===f){if(!m[t])for(n=m[t]=[],r=h.view(),a=0,o=r.length;a<o;a++)for(s=r[a],l=0,d=s.items.length;l<d;l++)n.push({item:s.items[l],group:s.value});i=m[t][e-t]}else i=h.view()[e-t];return i}return u!==t&&(p=u=t,c._getterDeferred&&c._getterDeferred.reject(),c._getterDeferred=c.deferredRange(t),c._getterDeferred.then(function(){var e=c._indexConstraint(c.content[0].scrollTop);c._getterDeferred=null,t<=e&&e<=t+g&&(c._fetching=!0,h.range(t,g))})),null}},_fixedHeader:function(e,t){var i,n,r=this.currentVisibleGroup,a=this.options.itemHeight,o=Math.floor((e-t.top)/a),s=t.items[o];return s&&s.item&&(i=s.group)!==r&&(n=i||"",this.header.html(this.templates.fixedGroupTemplate(n)),this.currentVisibleGroup=i),t},_itemMapper:function(e,t,i){var n,r=this.options.type,a=this.options.itemHeight,o=this._focusedIndex,s=!1,l=!1,d=!1,c=null,u=this._valueGetter;if("group"===r&&(e&&(d=0===t||this._currentGroup&&this._currentGroup!==e.group,this._currentGroup=e.group),c=e?e.group:null,e=e?e.item:null),!this.isFiltered()&&i.length&&e)for(n=0;n<i.length;n++)if(_(e)?i[n]===e:i[n]===u(e)){i.splice(n,1),s=!0;break}return o===t&&(l=!0),{item:e||null,group:c,newGroup:d,selected:s,current:l,index:t,top:t*a}},_range:function(e){var t,i,n,r=this.itemCount,a=this._values.slice(),o=[];for(this._view={},this._currentGroup=null,n=(i=e)+r;i<n;i++)t=this._itemMapper(this.getter(i,e),i,a),o.push(t),this._view[t.index]=t;return this._dataView=o},_getDataItemsCollection:function(e,t){var i=this._range(this._listIndex(e,t));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var e,t,n,r,i=this._screenHeight,a=this.options,o=(t=i,n=((e=a).listScreens-1-e.threshold)*t,r=e.threshold*t,function(e,t,i){return i<t?t-e.top<n:0===e.top||t-e.top>r});return g.proxy(function(e,t){var i=this.result,n=this._lastScrollTop;return!t&&i&&o(i,e,n)||(i=this._getDataItemsCollection(e,n)),this._lastScrollTop=e,this.result=i},this)},_whenChanged:function(i,n){var r;return function(e){var t=i(e);t!==r&&n(r=t,e)}},_reorderList:function(d,c){var r,a,u=this,h=d.length,p=-1/0;return c=g.proxy((r=c,a=this.templates,function(e,t){for(var i=0,n=e.length;i<n;i++)r(e[i],t[i],a),t[i].item&&this.trigger(y,{item:g(e[i]),data:t[i].item,ns:o.ui})}),this),function(e,t,i){var n,r,a,o,s,l=t-p;i||Math.abs(l)>=h?(n=d,r=e):(a=d,0<(o=l)?(s=a.splice(0,o),a.push.apply(a,s)):(s=a.splice(o,-o),a.unshift.apply(a,s)),n=s,r=0<l?e.slice(-l):e.slice(0,-l)),c(n,r,u.bound()),p=t}},_bufferSizes:function(){var e,t,i,n=this.options;return e=this._screenHeight,t=n.listScreens,i=n.oppositeBuffer,{down:e*i,up:e*(t-1-i)}},_indexConstraint:function(e){var t=this.itemCount,i=this.options.itemHeight,n=this.dataSource.total();return Math.min(Math.max(n-t,0),Math.max(0,Math.floor(e/i)))},_listIndex:function(e,t){var i,n=this._bufferSizes();return i=e-(t<e?n.down:n.up),this._indexConstraint(i)},_selectable:function(){this.options.selectable&&(this._selectProxy=g.proxy(this,"_clickHandler"),this.element.on(n+w,"."+l,this._selectProxy))},getElementIndex:function(e){return e instanceof jQuery?parseInt(e.attr("data-offset-index"),10):m},_getIndecies:function(e){var t,i,n,r=[];if("function"==typeof e)for(t=this.dataSource.flatView(),i=0;i<t.length;i++)if(e(t[i])){r.push(i);break}return"number"==typeof e&&r.push(e),n=this.getElementIndex(e),isNaN(n)||r.push(n),e instanceof Array&&(r=e),r},_deselect:function(e){var t,i,n,r,a,o,s=[],l=this._selectedIndexes,d=this._selectedDataItems,c=0,u=this.options.selectable,h=0,p=this._valueGetter,f=null;if(e=e.slice(),!0!==u&&e.length){if("multiple"===u)for(a=0;a<e.length;a++){if(f=null,c=g.inArray(e[a],l),i=this.dataItemByIndex(e[a]),-1===c&&i)for(o=0;o<d.length;o++)(_(i)?d[o]===i:p(d[o])===p(i))&&(n=this._getElementByIndex(e[a]),f=this._deselectSingleItem(n,o,e[a],h));else(t=l[c])!==m&&(n=this._getElementByIndex(t),f=this._deselectSingleItem(n,c,t,h));f&&(e.splice(a,1),s.push(f),h++,a--)}}else{for(r=0;r<l.length;r++)l[r]!==m?this._getElementByIndex(l[r]).removeClass(v):d[r]&&this._getElementByDataItem(d[r]).removeClass(v),s.push({index:l[r],position:r,dataItem:d[r]});this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]}return{indices:e,removed:s}},_deselectSingleItem:function(e,t,i,n){var r;if(e.hasClass("k-state-selected"))return e.removeClass(v),this._values.splice(t,1),this._selectedIndexes.splice(t,1),r=this._selectedDataItems.splice(t,1)[0],{index:i,position:t+n,dataItem:r}},_deselectCurrentValues:function(e){var t,i,n,r,a=this.element[0].children,o=this._values,s=[],l=0;if("multiple"!==this.options.selectable||!this.isFiltered())return[];if(-1===e[0])return g(a).removeClass("k-state-selected"),s=g.map(this._selectedDataItems.slice(0),function(e,t){return{dataItem:e,position:t}}),this._selectedIndexes=[],this._selectedDataItems=[],this._values=[],s;for(;l<e.length;l++){for(n=-1,i=e[l],t=this._valueGetter(this.dataItemByIndex(i)),r=0;r<o.length;r++)if(t==o[r]){n=r;break}-1<n&&(s.push(this.removeAt(n)),g(a[i]).removeClass("k-state-selected"))}return s},_getSkip:function(e,t){var i=e<t?1:Math.floor(e/t)+1;return(i-1)*t},_select:function(e){var n,r,a=this,t="multiple"!==this.options.selectable,o=this.dataSource,s=this.itemCount,l=this._valueGetter,d=[];return t&&(a._selectedIndexes=[],a._selectedDataItems=[],a._values=[]),r=o.skip(),g.each(e,function(e,t){var i=a._getSkip(t,s);a.mute(function(){o.range(i,s),n=a._findDataItem(o.view(),[t-i]),a._selectedIndexes.push(t),a._selectedDataItems.push(n),a._values.push(_(n)?n:l(n)),d.push({index:t,dataItem:n}),a._getElementByIndex(t).addClass(v),o.range(r,s)})}),d},_clickHandler:function(e){var t=g(e.currentTarget);!e.isDefaultPrevented()&&t.attr("data-uid")&&this.trigger(n,{item:t})},_buildValueGetter:function(){this._valueGetter=o.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),i=this.header,n=0;i[0]&&"none"!==i[0].style.display&&("auto"!==e&&(n=o.support.scrollbar()),n+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10),i.css("padding-right",n))}});o.ui.VirtualList=x,o.ui.plugin(x)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.fx.min",["kendo.core.min"],function(){return function(f,p){function a(e){return parseInt(e,10)}function g(e,t){return a(e.css(t))}function m(e){for(var t in e)-1!=N.indexOf(t)&&-1==B.indexOf(t)&&delete e[t];return e}function _(e,t){var i,n,r,a,o=[],s={};for(n in t)i=n.toLowerCase(),a=F&&-1!=N.indexOf(i),!I.hasHW3D&&a&&-1==B.indexOf(i)?delete t[n]:(r=t[n],a?o.push(n+"("+r+")"):s[n]=r);return o.length&&(s[ee]=o.join(" ")),s}function l(e,t){var i,n,r;return F?(i=e.css(ee))==U?"scale"==t?1:0:(n=i.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,n?r=a(n[1]):(n=i.match(P)||[0,0,0,0,0],t=t.toLowerCase(),O.test(t)?r=parseFloat(n[3]/n[2]):"translatey"==t?r=parseFloat(n[4]/n[2]):"scale"==t?r=parseFloat(n[2]):"rotate"==t&&(r=parseFloat(Math.atan2(n[2],n[1])))),r):parseFloat(e.css(t))}function d(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(t,e){var r=s.extend(e),i=r.prototype.directions;x[d(t)]=r,x.Element.prototype[t]=function(e,t,i,n){return new r(this.element,e,t,i,n)},S(i,function(e,n){x.Element.prototype[t+d(n)]=function(e,t,i){return new r(this.element,n,e,t,i)}})}function e(e,s,l,d){t(e,{directions:r,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i,n,r="out"===this._direction,a=this.element.data(s),o=!(isNaN(a)||a==l);i=o?a:p!==this._startValue?this._startValue:r?l:d,n=p!==this._endValue?this._endValue:r?d:l,this._reverse?(e[s]=n,t[s]=i):(e[s]=i,t[s]=n),this._shouldHide=t[s]===d}})}function o(e,t){var i=w.directions[t].vertical,n=e[i?$:G]()/2+"px";return h[t].replace("$size",n)}var i,c,s,n,r,u,h,v,b,y,k,w=window.kendo,x=w.effects,S=f.each,C=f.extend,T=f.proxy,I=w.support,D=I.browser,F=I.transforms,H=I.transitions,E={scale:0,scalex:0,scaley:0,scale3d:0},M={translate:0,translatex:0,translatey:0,translate3d:0},z=p!==document.documentElement.style.zoom&&!F,P=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,A=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,O=/translatex?$/i,R=/(zoom|fade|expand)(\w+)/,L=/(zoom|fade|expand)/,V=/[xy]$/i,N=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],B=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],q={rotate:"deg",scale:"",skew:"px",translate:"px"},W=F.css,j=Math.round,U="none",G="width",$="height",K="origin",Y="overflow",J="translate",Q="position",X="completeCallback",Z=W+"transition",ee=W+"transform",te=W+"backface-visibility",ie=W+"perspective",ne="1500px",re="perspective(1500px)",ae={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};w.directions=ae,C(f.fn,{kendoStop:function(e,t){return H?x.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),F&&!H&&(S(B,function(e,n){f.fn[n]=function(e){if(p===e)return l(this,n);var t=f(this)[0],i=n+"("+e+q[n.replace(V,"")]+")";return-1==t.style.cssText.indexOf(ee)?f(this).css(ee,i):t.style.cssText=t.style.cssText.replace(RegExp(n+"\\(.*?\\)","i"),i),this},f.fx.step[n]=function(e){f(e.elem)[n](e.now)}}),i=f.fx.prototype.cur,f.fx.prototype.cur=function(){return-1!=B.indexOf(this.prop)?parseFloat(f(this.elem)[this.prop]()):i.apply(this,arguments)}),w.toggleClass=function(i,e,t,n){return e&&(e=e.split(" "),H&&(t=C({exclusive:"all",duration:400,ease:"ease-out"},t),i.css(Z,t.exclusive+" "+t.duration+"ms "+t.ease),setTimeout(function(){i.css(Z,"").css($)},t.duration)),S(e,function(e,t){i.toggleClass(t,n)})),i},w.parseEffects=function(e,s){var l={};return"string"==typeof e?S(e.split(" "),function(e,t){var i=!L.test(t),n=t.replace(R,function(e,t,i){return t+":"+i.toLowerCase()}),r=n.split(":"),a=r[1],o={};1<r.length&&(o.direction=s&&i?ae[a].reverse:a),l[r[0]]=o}):S(e,function(e){var t=this.direction;t&&s&&!L.test(e)&&(this.direction=ae[t].reverse),l[e]=this}),l},H&&C(x,{transition:function(e,t,i){var n,r,a,o,s=0,l=e.data("keys")||[];i=C({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i),a=!1,o=function(){a||(a=!0,r&&(clearTimeout(r),r=null),e.removeData("abortId").dequeue().css(Z,"").css(Z),i.complete.call(e))},i.duration=f.fx&&f.fx.speeds[i.duration]||i.duration,n=_(0,t),f.merge(l,function(e){var t,i=[];for(t in e)i.push(t);return i}(n)),e.data("keys",f.unique(l)).height(),e.css(Z,i.exclusive+" "+i.duration+"ms "+i.ease).css(Z),e.css(n).css(ee),H.event&&(e.one(H.event,o),0!==i.duration&&(s=500)),r=setTimeout(o,i.duration+s),e.data("abortId",r),e.data(X,o)},stopQueue:function(e,t,i){var n,r=e.data("keys"),a=!i&&r,o=e.data(X);return a&&(n=w.getComputedStyles(e[0],r)),o&&o(),a&&e.css(n),e.removeData("keys").stop(t)}}),c=w.Class.extend({init:function(e,t){this.element=e,this.effects=[],this.options=t,this.restore=[]},run:function(e){var t,i,n,r,a,o,s,l=e.length,d=this.element,c=this.options,u=f.Deferred(),h={},p={};for(this.effects=e,u.then(f.proxy(this,"complete")),d.data("animating",!0),i=0;i<l;i++)for((t=e[i]).setReverse(c.reverse),t.setOptions(c),this.addRestoreProperties(t.restore),t.prepare(h,p),a=t.children(),n=0,o=a.length;n<o;n++)a[n].duration(c.duration).run();for(s in c.effects)C(p,c.effects[s].properties);for(d.is(":visible")||C(h,{display:d.data("olddisplay")||"block"}),F&&!c.reset&&(r=d.data("targetTransform"))&&(h=C(r,h)),h=_(0,h),F&&!H&&(h=m(h)),d.css(h).css(ee),i=0;i<l;i++)e[i].setup();return c.init&&c.init(),d.data("targetTransform",p),x.animate(d,p,C({},c,{complete:u.resolve})),u.promise()},stop:function(){f(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,i=this.element,n=0,r=e.length;n<r;n++)t=e[n],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){var e,t,i,n=this.element;for(e=0,t=this.restore.length;e<t;e++)i=this.restore[e],n.css(i,n.data(i))},complete:function(){var e=0,t=this.element,i=this.options,n=this.effects,r=n.length;for(t.removeData("animating").dequeue(),i.hide&&t.data("olddisplay",t.css("display")).hide(),this.restoreCallback(),z&&!F&&setTimeout(f.proxy(this,"restoreCallback"),0);e<r;e++)n[e].teardown();i.completeCallback&&i.completeCallback(t)}}),x.promise=function(e,t){var i,n,r,a=[],o=new c(e,t),s=w.parseEffects(t.effects);for(r in t.effects=s)(i=x[d(r)])&&(n=new i(e,s[r].direction),a.push(n));a[0]?o.run(a):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),o.complete())},C(x,{animate:function(e,h,t){var i=!1!==t.transition;delete t.transition,H&&"transition"in x&&i?x.transition(e,h,t):F?e.animate(m(h),{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete}):e.each(function(){var c=f(this),u={};S(N,function(e,t){var i,n,r,a,o,s,l,d=h?h[t]+" ":null;d&&(n=h,t in E&&h[t]!==p?(i=d.match(A),F&&C(n,{scale:+i[0]})):t in M&&h[t]!==p&&(r=c.css(Q),a="absolute"==r||"fixed"==r,c.data(J)||(a?c.data(J,{top:g(c,"top")||0,left:g(c,"left")||0,bottom:g(c,"bottom"),right:g(c,"right")}):c.data(J,{top:g(c,"marginTop")||0,left:g(c,"marginLeft")||0})),o=c.data(J),(i=d.match(A))&&(s=t==J+"y"?0:+i[1],l=t==J+"y"?+i[1]:+i[2],a?(isNaN(o.right)?isNaN(s)||C(n,{left:o.left+s}):isNaN(s)||C(n,{right:o.right-s}),isNaN(o.bottom)?isNaN(l)||C(n,{top:o.top+l}):isNaN(l)||C(n,{bottom:o.bottom-l})):(isNaN(s)||C(n,{marginLeft:o.left+s}),isNaN(l)||C(n,{marginTop:o.top+l})))),!F&&"scale"!=t&&t in n&&delete n[t],n&&C(u,n))}),D.msie&&delete u.scale,c.animate(u,{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete})})}}),x.animatedPromise=x.promise,s=w.Class.extend({init:function(e,t){this.element=e,this._direction=t,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=new c(this.element,{reverse:this._reverse,duration:this._duration}),t=this._additionalEffects.concat([this]);return e.run(t)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,t,i=this.element,n=0,r=this.restore,a=r.length,o=f.Deferred(),s={},l={},d=this.children(),c=d.length;for(o.then(f.proxy(this,"_complete")),i.data("animating",!0),n=0;n<a;n++)e=r[n],i.data(e)||i.data(e,i.css(e));for(n=0;n<c;n++)d[n].duration(this._duration).run();return this.prepare(s,l),i.is(":visible")||C(s,{display:i.data("olddisplay")||"block"}),F&&(t=i.data("targetTransform"))&&(s=C(t,s)),s=_(0,s),F&&!H&&(s=m(s)),i.css(s).css(ee),this.setup(),i.data("targetTransform",l),x.animate(i,l,{duration:this._duration,complete:o.resolve}),o.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();return f(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e,t,i,n=this.element;for(e=0,t=this.restore.length;e<t;e++)i=this.restore[e],n.css(i,n.data(i))},_complete:function(){var e=this.element;e.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&e.data("olddisplay",e.css("display")).hide(),z&&!F&&setTimeout(f.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(e){C(!0,this.options,e)},children:function(){return[]},shouldHide:f.noop,setup:f.noop,prepare:f.noop,teardown:f.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),r=["in","out"],t("slideIn",{directions:n=["left","right","up","down"],divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var i,n=this.element,r=w._outerWidth,a=w._outerHeight,o=ae[this._direction],s=-o.modifier*(o.vertical?a(n):r(n)),l=s/(this.options&&this.options.divisor||1)+"px";this._reverse&&(i=e,e=t,t=i),F?(e[o.transition]=l,t[o.transition]="0px"):(e[o.property]=l,t[o.property]="0px")}}),t("tile",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t),this.options={previous:i}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this._reverse,t=this.options.previous,i=this.options.previousDivisor||1,n=this._direction,r=[w.fx(this.element).slideIn(n).setReverse(e)];return t&&r.push(w.fx(t).slideIn(ae[n].reverse).divisor(i).setReverse(!e)),r}}),e("fade","opacity",1,0),e("zoom","scale",1,.01),t("slideMargin",{prepare:function(e,t){var i,n=this.element,r=this.options,a=n.data(K),o=r.offset,s=this._reverse;s||null!==a||n.data(K,parseFloat(n.css("margin-"+r.axis))),i=n.data(K)||0,t["margin-"+r.axis]=s?i:i+o}}),t("slideTo",{prepare:function(e,t){var i=this.element,n=this.options,r=n.offset.split(","),a=this._reverse;F?(t.translatex=a?0:r[0],t.translatey=a?0:r[1]):(t.left=a?0:r[0],t.top=a?0:r[1]),i.css("left")}}),t("expand",{directions:["horizontal","vertical"],restore:[Y],prepare:function(e,t){var i=this.element,n=this.options,r=this._reverse,a="vertical"===this._direction?$:G,o=i[0].style[a],s=i.data(a),l=parseFloat(s||o),d=j(i.css(a,"auto")[a]());e.overflow="hidden",l=n&&n.reset?d||l:l||d,t[a]=(r?0:l)+"px",e[a]=(r?l:0)+"px",s===p&&i.data(a,o)},shouldHide:function(){return this._reverse},teardown:function(){var e=this.element,t="vertical"===this._direction?$:G,i=e.data(t);"auto"!=i&&""!==i||setTimeout(function(){e.css(t,"auto").css(t)},0)}}),u={position:"absolute",marginLeft:0,marginTop:0,scale:1},t("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this.element,n=x.box(i),r=x.box(this.options.target),a=l(i,"scale"),o=x.fillScale(r,n),s=x.transformOrigin(r,n);C(e,u),t.scale=1,i.css(ee,"scale(1)").css(ee),i.css(ee,"scale("+a+")"),e.top=n.top,e.left=n.left,e.transformOrigin=s.x+"px "+s.y+"px",this._reverse?e.scale=o:t.scale=o}}),h={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},v={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},t("turningPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t),this._container=i},prepare:function(e,t){var i=this._reverse,n=i?ae[this._direction].reverse:this._direction,r=v[n];e.zIndex=1,this._clipInHalf&&(e.clip=o(this._container,w.directions[n].reverse)),e[te]="hidden",t[ee]=re+(i?r.start:r.end),e[ee]=re+(i?r.end:r.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),t("staticPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t),this._container=i},restore:["clip"],prepare:function(e,t){var i=this._reverse?ae[this._direction].reverse:this._direction;e.clip=o(this._container,i),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},face:function(e){return this._face=e,this}}),t("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=w.directions[i].reverse,r=this._reverse,a=t.face.clone(!0).removeAttr("id"),o=t.back.clone(!0).removeAttr("id"),s=this.element;return r&&(e=i,i=n,n=e),[w.fx(t.face).staticPage(i,s).face(!0).setReverse(r),w.fx(t.back).staticPage(n,s).setReverse(r),w.fx(a).turningPage(i,s).face(!0).clipInHalf(!0).temporary().setReverse(r),w.fx(o).turningPage(n,s).clipInHalf(!0).temporary().setReverse(r)]},prepare:function(e,t){e[ie]=ne,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),t("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=w.directions[i].reverse,r=this._reverse,a=this.element;return r&&(e=i,i=n,n=e),[w.fx(t.face).turningPage(i,a).face(!0).setReverse(r),w.fx(t.back).turningPage(n,a).setReverse(r)]},prepare:function(e){e[ie]=ne,e.transformStyle="preserve-3d"}}),b=!I.mobileOS.android,t("replace",{_before:f.noop,_after:f.noop,init:function(e,t,i){s.prototype.init.call(this,e),this._previous=f(t),this._transitionClass=i},duration:function(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return f().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(e){if(!(!this.deferred||e&&f(e.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(H.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),b&&t.css(Y,""),this.isAbsolute||this._both().css(Q,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,n=t.parents().filter(i.parents()).first(),r=e._both(),a=f.Deferred(),o=t.css(Q);return n.length||(n=t.parent()),this.container=n,this.deferred=a,this.isAbsolute="absolute"==o,this.isAbsolute||r.css(Q,"absolute"),b&&(n.css(Y),n.css(Y,"hidden")),H?(t.addClass("k-fx-hidden"),n.addClass(this._containerClass()),this.completeProxy=f.proxy(this,"complete"),n.on(H.event,this.completeProxy),w.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),e._before(i,t),w.animationFrame(function(){n.removeClass("k-fx-start").addClass("k-fx-end"),e._after(i,t)})})):this.complete(),a.promise()},stop:function(){this.complete()}}),y=w.Class.extend({init:function(){this._tickProxy=T(this._tick,this),this._started=!1},tick:f.noop,done:f.noop,onEnd:f.noop,onCancel:f.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,w.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):w.animationFrame(this._tickProxy))}}),k=y.extend({init:function(e){C(this,e),y.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),C(k,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(1-Math.pow(2,-10*e/n))+t},easeOutBack:function(e,t,i,n,r){return i*((e=e/n-1)*e*(2.70158*e+1.70158)+1)+t}}),x.Animation=y,x.Transition=k,x.createEffect=t,x.box=function(e){var t=(e=f(e)).offset();return t.width=w._outerWidth(e),t.height=w._outerHeight(e),t},x.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),n=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},x.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},x.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],function(){return function(l,d){function c(e,t){return parseInt(e.css(t),10)||0}function o(e,t){return Math.min(Math.max(e,t.min),t.max)}function s(e,t){var i=T(e),n=m._outerWidth,r=m._outerHeight,a=i.left+c(e,"borderLeftWidth")+c(e,"paddingLeft"),o=i.top+c(e,"borderTopWidth")+c(e,"paddingTop"),s=a+e.width()-n(t,!0),l=o+e.height()-r(t,!0);return{x:{min:a,max:s},y:{min:o,max:l}}}function e(e,t){var i,n=t.options.group,r=e[n];if(k.fn.destroy.call(t),1<r.length){for(i=0;i<r.length;i++)if(r[i]==t){r.splice(i,1);break}}else r.length=0,delete e[n]}function n(e){var t,i,n,r=u()[0];return e[0]===r?(i=r.scrollTop,n=r.scrollLeft,{top:i,left:n,bottom:i+b.height(),right:n+b.width()}):((t=e.offset()).bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function u(){return l(m.support.browser.chrome?v.body:v.documentElement)}function r(e){var t,i=u();if(!e||e===v.body||e===v.documentElement)return i;for(t=l(e)[0];t&&!m.isScrollable(t)&&t!==v.body;)t=t.parentNode;return t===v.body?i:l(t)}function a(e,t,i){var n={x:0,y:0};return e-i.left<50?n.x=-(50-(e-i.left)):i.right-e<50&&(n.x=50-(i.right-e)),t-i.top<50?n.y=-(50-(t-i.top)):i.bottom-t<50&&(n.y=50-(i.bottom-t)),n}var h,p,t,i,f,g,m=window.kendo,_=m.support,v=window.document,b=l(window),y=m.Class,k=m.ui.Widget,w=m.Observable,x=m.UserEvents,S=l.proxy,C=l.extend,T=m.getOffset,I={},D={},F={},H=m.elementUnderCursor,E="change",M="dragcancel",z="hintDestroyed",P="dragenter",A="dragleave",O=w.extend({init:function(e,t){var i=this,n=e[0];i.capture=!1,n.addEventListener?(l.each(m.eventMap.down.split(" "),function(){n.addEventListener(this,S(i._press,i),!0)}),l.each(m.eventMap.up.split(" "),function(){n.addEventListener(this,S(i._release,i),!0)})):(l.each(m.eventMap.down.split(" "),function(){n.attachEvent(this,S(i._press,i))}),l.each(m.eventMap.up.split(" "),function(){n.attachEvent(this,S(i._release,i))})),w.fn.init.call(i),i.bind(["press","release"],t||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){this.trigger("release"),this.capture&&(e.preventDefault(),this.cancelCapture())}}),R=w.extend({init:function(e){var t=this;w.fn.init.call(t),t.forcedEnabled=!1,l.extend(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")},makeVirtual:function(){l.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),n=i*t.scale,r=t.getSize();(0!==i||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=n,t.min=Math.min(t.max,r-n),t.minScale=r/i,t.centerOffset=(n-r)/2,t.enabled=t.forcedEnabled||r<n,e||t.trigger(E,t))}}),L=w.extend({init:function(e){w.fn.init.call(this),this.x=new R(C({horizontal:!0},e)),this.y=new R(C({horizontal:!1},e)),this.container=e.container,this.forcedMinScale=e.minScale,this.maxScale=e.maxScale||100,this.bind(E,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(E)}}),V=w.extend({init:function(e){C(this,e),w.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this.dimension,i=this.axis,n=this.movable,r=n[i]+e;t.enabled&&((r<t.min&&e<0||r>t.max&&0<e)&&(e*=this.resistance),n.translateAxis(i,e),this.trigger(E,this))}}),N=y.extend({init:function(e){var c,u,t,h,p=this;C(p,{elastic:!0},e),t=p.elastic?.5:0,h=p.movable,p.x=c=new V({axis:"x",dimension:p.dimensions.x,resistance:t,movable:h}),p.y=u=new V({axis:"y",dimension:p.dimensions.y,resistance:t,movable:h}),p.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){p.gesture=e,p.offset=p.dimensions.container.offset()},press:function(e){l(e.event.target).closest("a").is("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var t,i,n,r=p.gesture,a=r.center,o=e.center,s=e.distance/r.distance,l=p.dimensions.minScale,d=p.dimensions.maxScale;h.scale<=l&&s<1&&(s+=.8*(1-s)),h.scale*s>=d&&(s=d/h.scale),i=h.x+p.offset.left,n=h.y+p.offset.top,t={x:(i-a.x)*s+o.x-i,y:(n-a.y)*s+o.y-n},h.scaleWith(s),c.dragMove(t.x),u.dragMove(t.y),p.dimensions.rescale(h.scale),(p.gesture=e).preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(c.dimension.enabled||u.dimension.enabled?(c.dragMove(e.x.delta),u.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),B=_.transitions.prefix+"Transform";p=_.hasHW3D?function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"}:function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"},t=w.extend({init:function(e){var t=this;w.fn.init.call(t),t.element=l(e),t.element[0].style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1,t._saveCoordinates(p(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){C(this,e),this.refresh()},refresh:function(){var e,t=this,i=t.x,n=t.y;t.round&&(i=Math.round(i),n=Math.round(n)),(e=p(i,n,t.scale))!=t.coordinates&&(m.support.browser.msie&&m.support.browser.version<10?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[B]=e,t._saveCoordinates(e),t.trigger(E))},_saveCoordinates:function(e){this.coordinates=e}}),(i=k.extend({init:function(e,t){var i;k.fn.init.call(this,e,t),(i=this.options.group)in D?D[i].push(this):D[i]=[this]},events:[P,A,"drop"],options:{name:"DropTarget",group:"default"},destroy:function(){e(D,this)},_trigger:function(e,t){var i=I[this.options.group];if(i)return this.trigger(e,C({},t.event,{draggable:i,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(P,e)},_out:function(e){this._trigger(A,e)},_drop:function(e){var t=I[this.options.group];t&&(t.dropped=!this._trigger("drop",e))}})).destroyGroup=function(e){var t,i=D[e]||F[e];if(i){for(t=0;t<i.length;t++)k.fn.destroy.call(i[t]);i.length=0,delete D[e],delete F[e]}},i._cache=D,f=i.extend({init:function(e,t){var i;k.fn.init.call(this,e,t),(i=this.options.group)in F?F[i].push(this):F[i]=[this]},destroy:function(){e(F,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),g=k.extend({init:function(e,t){var i=this;k.fn.init.call(i,e,t),i._activated=!1,i.userEvents=new x(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:S(i._start,i),hold:S(i._hold,i),move:S(i._drag,i),end:S(i._end,i),cancel:S(i._cancel,i),select:S(i._select,i)}),i._afterEndHandler=S(i._afterEnd,i),i._captureEscape=S(i._captureEscape,i)},events:["hold","dragstart","drag","dragend",M,z],options:{name:"Draggable",distance:m.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){e.keyCode===m.keys.ESC&&(this._trigger(M,{event:e}),this.userEvents.cancel())},_updateHint:function(e){var t,i=this.options,n=this.boundaries,r=i.axis,a=this.options.cursorOffset;a?t={left:e.x.location+a.left,top:e.y.location+a.top}:(this.hintOffset.left+=e.x.delta,this.hintOffset.top+=e.y.delta,t=l.extend({},this.hintOffset)),n&&(t.top=o(t.top,n.y),t.left=o(t.left,n.x)),"x"===r?delete t.top:"y"===r&&delete t.left,this.hint.css(t)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var e,i=this,n=i.options,r=n.container?l(n.container):null,a=n.hint;return this._shouldIgnoreTarget(t.touch.initialTouch)||n.holdToDrag&&!i._activated?i.userEvents.cancel():(i.currentTarget=t.target,i.currentTargetOffset=T(i.currentTarget),a&&(i.hint&&i.hint.stop(!0,!0).remove(),i.hint=m.isFunction(a)?l(a.call(i,i.currentTarget)):a,e=T(i.currentTarget),i.hintOffset=e,i.hint.css({position:"absolute",zIndex:2e4,left:e.left,top:e.top}).appendTo(v.body),i.angular("compile",function(){i.hint.removeAttr("ng-repeat");for(var e=l(t.target);!e.data("$$kendoScope")&&e.length;)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})),(I[n.group]=i).dropped=!1,r&&(i.boundaries=s(r,i.hint)),l(v).on("keyup",i._captureEscape),i._trigger("dragstart",t)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture()),d},_hold:function(e){this.currentTarget=e.target,this._trigger("hold",e)?this.userEvents.cancel():this._activated=!0},_drag:function(e){var t,i;e.preventDefault(),t=this._elementUnderCursor(e),this.options.autoScroll&&this._cursorElement!==t&&(this._scrollableParent=r(t),this._cursorElement=t),this._lastEvent=e,this._processMovement(e,t),this.options.autoScroll&&this._scrollableParent[0]&&(i=a(e.x.location,e.y.location,n(this._scrollableParent)),this._scrollCompenstation=l.extend({},this.hintOffset),0===(this._scrollVelocity=i).y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(l.proxy(this,"_autoScroll"),50))),this.hint&&this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(!e)return h&&(h._trigger(A,C(i,{dropTarget:l(h.targetElement)})),h=null),d;if(h){if(t===h.targetElement)return;h._trigger(A,C(i,{dropTarget:l(h.targetElement)}))}e._trigger(P,C(i,{dropTarget:l(t)})),h=C(e,{targetElement:t})}),this._trigger("drag",C(i,{dropTarget:h,elementUnderCursor:e}))},_autoScroll:function(){var e,t,i,n,r,a,o,s,l=this._scrollableParent[0],d=this._scrollVelocity,c=this._scrollCompenstation;l&&(e=this._elementUnderCursor(this._lastEvent),this._processMovement(this._lastEvent,e),(n=l===u()[0])?(t=v.body.scrollHeight>b.height(),i=v.body.scrollWidth>b.width()):(t=l.offsetHeight<=l.scrollHeight,i=l.offsetWidth<=l.scrollWidth),r=l.scrollTop+d.y,a=t&&0<r&&r<l.scrollHeight,o=l.scrollLeft+d.x,s=i&&0<o&&o<l.scrollWidth,a&&(l.scrollTop+=d.y),s&&(l.scrollLeft+=d.x),this.hint&&n&&(s||a)&&(a&&(c.top+=d.y),s&&(c.left+=d.x),this.hint.css(c)))},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){e&&(e._drop(C({},i,{dropTarget:l(t)})),h=null)}),this._cancel(this._trigger("dragend",i))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(e,t){return this.trigger(e,C({},t.event,{x:t.x,y:t.y,currentTarget:this.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=H(e),i=this.hint;return i&&function(e,t){try{return l.contains(e,t)||e==t}catch(e){return!1}}(i[0],t)&&(i.hide(),(t=H(e))||(t=H(e)),i.show()),t},_withDropTarget:function(e,t){var i,n=this.options.group,r=D[n],a=F[n];(r&&r.length||a&&a.length)&&((i=function(e,t,i){for(var n,r,a=0,o=t&&t.length,s=i&&i.length;e&&e.parentNode;){for(a=0;a<o;a++)if((n=t[a]).element[0]===e)return{target:n,targetElement:e};for(a=0;a<s;a++)if(r=i[a],l.contains(r.element[0],e)&&_.matchesSelector.call(e,r.options.filter))return{target:r,targetElement:e};e=e.parentNode}return d}(e,r,a))?t(i.target,i.targetElement):t())},destroy:function(){k.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete I[this.options.group],this.trigger("destroy"),this.trigger(z),l(v).off("keyup",this._captureEscape)}}),m.ui.plugin(i),m.ui.plugin(f),m.ui.plugin(g),m.TapCapture=O,m.containerBoundaries=s,C(m.ui,{Pane:N,PaneDimensions:L,Movable:t}),m.ui.Draggable.utils={autoScrollVelocity:a,scrollableViewPort:n,findScrollableParent:r}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.mobile.scroller.min",["kendo.fx.min","kendo.draganddrop.min"],function(){return h=window.kendo.jQuery,p=window.kendo,e=p.mobile,t=p.effects,i=e.ui,f=h.proxy,g=h.extend,m=i.Widget,n=p.Class,_=p.ui.Movable,v=p.ui.Pane,b=p.ui.PaneDimensions,r=t.Transition,a=t.Animation,y=Math.abs,o="km-scroller-release",s="km-scroller-refresh",k="change",w=a.extend({init:function(e){a.fn.init.call(this),g(this,e),this.userEvents.bind("gestureend",f(this.start,this)),this.tapCapture.bind("press",f(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),l=a.extend({init:function(e){var t=this;a.fn.init.call(t),g(t,e,{transition:new r({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",f(t.start,t)),t.userEvents.bind("gestureend",f(t.start,t)),t.userEvents.bind("tap",f(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){this.cancel(),this._moveTo(e)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return y(this.velocity)<1},start:function(e){var t;this.dimension.enabled&&(this.paneAxis.outOfBounds()?this._snapBack():(t=2===e.touch.id?0:e.touch[this.axis].velocity,this.velocity=Math.max(Math.min(t*this.velocityMultiplier,55),-55),this.tapCapture.captureNext(),a.fn.start.call(this)))},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?.5:e.friction,n=e.velocity*=i,r=e.movable[e.axis]+n;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this.dimension,t=this.movable[this.axis]>e.max?e.max:e.min;this._moveTo(t)},_moveTo:function(e){this.transition.moveTo({location:e,duration:500,ease:r.easeOutExpo})}}),x=a.extend({init:function(e){p.effects.Animation.fn.init.call(this),g(this,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return y(this.offset.y)<5&&y(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&p.isFunction(e)?this.callback=e:e=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),d=n.extend({init:function(e){var t="x"===e.axis,i=h('<div class="km-touch-scrollbar km-'+(t?"horizontal":"vertical")+'-scrollbar" />');g(this,e,{element:i,elementSize:0,movable:new _(i),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:t?"width":"height"}),this.scrollMovable.bind(k,f(this.refresh,this)),this.container.append(i),e.alwaysVisible&&this.show()},refresh:function(){var e=this.axis,t=this.dimension,i=t.size,n=this.scrollMovable,r=i/t.total,a=Math.round(-n[e]*r),o=Math.round(i*r);1<=r?this.element.css("display","none"):this.element.css("display",""),i<a+o?o=i-a:a<0&&(o+=a,a=0),this.elementSize!=o&&(this.element.css(this.size,o+"px"),this.elementSize=o),this.movable.moveAxis(e,a)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),c=m.extend({init:function(e,t){var i,n,r,o,s,l,a,d,c,u=this;return m.fn.init.call(u,e,t),e=u.element,(u._native=u.options.useNative&&p.support.hasNativeScrolling)?(e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void g(u,{scrollElement:e,fixedContainer:e.children().first()})):(e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),i=e.children().eq(1),n=new p.TapCapture(e),r=new _(i),o=new b({element:i,container:e,forcedEnabled:u.options.zoom}),s=this.options.avoidScrolling,l=new p.UserEvents(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:u.options.zoom,start:function(e){o.refresh();var t=y(e.x.velocity),i=y(e.y.velocity),n=i<=2*t,r=h.contains(u.fixedContainer[0],e.event.target),a=t<=2*i;!r&&!s(e)&&u.enabled&&(o.x.enabled&&n||o.y.enabled&&a)?l.capture():l.cancel()}}),a=new v({movable:r,dimensions:o,userEvents:l,elastic:u.options.elastic}),d=new w({movable:r,dimensions:o,userEvents:l,tapCapture:n}),c=new x({moveTo:function(e){u.scrollTo(e.x,e.y)}}),r.bind(k,function(){u.scrollTop=-r.y,u.scrollLeft=-r.x,u.trigger("scroll",{scrollTop:u.scrollTop,scrollLeft:u.scrollLeft})}),u.options.mousewheelScrolling&&e.on("DOMMouseScroll mousewheel",f(this,"_wheelScroll")),g(u,{movable:r,dimensions:o,zoomSnapBack:d,animatedScroller:c,userEvents:l,pane:a,tapCapture:n,pulled:!1,enabled:!0,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()}),u._initAxis("x"),u._initAxis("y"),u._wheelEnd=function(){u._wheel=!1,u.userEvents.end(0,u._wheelY)},o.refresh(),void(u.options.pullToRefresh&&u._initPullToRefresh()))},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=p.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(e){m.fn.setOptions.call(this,e),e.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(y(e)),this.scrollElement.scrollTop(y(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,i){var n,r;this._native?this.scrollTo(e,t):(n={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(n,r),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass(s),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){m.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=p.template(e.options.messages.pullTemplate),e.releaseTemplate=p.template(e.options.messages.releaseTemplate),e.refreshTemplate=p.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",f(e._paneChange,e)),e.userEvents.bind("end",f(e._dragEnd,e))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(o).addClass(s),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/.5>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(s).addClass(o),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(o),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,i=t.movable,n=t.dimensions[e],r=t.tapCapture,a=t.pane[e],o=new d({axis:e,movable:i,dimension:n,container:t.element,alwaysVisible:t.options.visibleScrollHints});n.bind(k,function(){o.refresh()}),a.bind(k,function(){o.show()}),t[e+"inertia"]=new l({axis:e,paneAxis:a,movable:i,tapCapture:r,userEvents:t.userEvents,dimension:n,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){o.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}}),i.plugin(c),window.kendo;var h,p,e,t,i,f,g,m,n,_,v,b,r,a,y,o,s,k,w,l,x,d,c}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.list.min",["kendo.data.min","kendo.popup.min"],function(){return function(h,p){function o(e,t){return e!==p&&""!==e&&null!==e&&("boolean"===t?e=!!e:"number"===t?e=+e:"string"===t&&(e=""+e)),e}function c(e){return e[e.length-1]}function f(e){var t=e.selectedIndex;return-1<t?e.options[t]:{}}function d(e){return!(!e||h.isEmptyObject(e)||e.filters&&!e.filters.length)}function u(e,t){var i,n=!1;return e.filters&&(i=h.grep(e.filters,function(e){return n=u(e,t),e.filters?e.filters.length:e.field!=t}),n||e.filters.length===i.length||(n=!0),e.filters=i),n}var n,e,s=window.kendo,t=s.ui,a=s._outerWidth,l=s._outerHeight,g=t.Widget,m=s.keys,r=s.support,_=s.htmlEncode,v=s._activeElement,i=s.data.ObservableArray,b="change",y="k-state-focused",k="k-state-hover",w="k-i-loading",x=".k-group-header",S="cascade",C="select",T="requestStart",I="requestEnd",D=h.extend,F=h.proxy,H=h.isArray,E=r.browser,M=E.msie,z=M&&E.version<9,P=/"/g,A={ComboBox:"DropDownList",DropDownList:"ComboBox"},O=s.ui.DataBoundWidget.extend({init:function(e,t){var i,n=this,r=n.ns;g.fn.init.call(n,e,t),e=n.element,t=n.options,n._isSelect=e.is(C),n._isSelect&&n.element[0].length&&(t.dataSource||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),n.ul=h('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),n.list=h("<div class='k-list-container'/>").append(n.ul).on("mousedown"+r,F(n._listMousedown,n)),(i=e.attr("id"))&&(n.list.attr("id",i+"-list"),n.ul.attr("id",i+"_listbox")),n._header(),n._noData(),n._footer(),n._accessors(),n._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(e){g.fn.setOptions.call(this,e),e&&e.enable!==p&&(e.enabled=e.enable),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===p||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===p||e)})},_listOptions:function(e){var t=this,i=t.options,n=i.virtual,r={change:F(t._listChange,t)},a=F(t._listBound,t);return n="object"==typeof n?n:{},(e=h.extend({autoBind:!1,selectable:!0,dataSource:t.dataSource,click:F(t._click,t),activate:F(t._activateItem,t),deactivate:F(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding")},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template},e,n,r)).template||(e.template="#:"+s.expr(e.dataTextField,"data")+"#"),i.$angular&&(e.$angular=i.$angular),e},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:F(e._listChange,e)});e.listView=e.options.virtual?new s.ui.VirtualList(e.ul,t):new s.ui.StaticList(e.ul,t),e.listView.bind("listBound",F(e._listBound,e)),e._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==p&&this.listView.value(e).done(F(this._updateSelectionState,this))},_updateSelectionState:h.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isFilterEnabled()&&!this.options.enforceMinLength&&this._filter({word:"",open:!1}),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(e,t){var i,n,r=this.options,a=this.dataSource,o=D({},a.filter()||{}),s=e||o.filters&&o.filters.length&&!e,l=u(o,r.dataTextField);if(!e&&!l||!this.trigger("filtering",{filter:e}))return i={filters:[],logic:"and"},d(e)&&h.trim(e.value).length&&i.filters.push(e),d(o)&&(i.logic===o.logic?i.filters=i.filters.concat(o.filters):i.filters.push(o)),this._cascading&&this.listView.setDSFilter(i),n=D({},{page:s?1:a.page(),pageSize:s?a.options.pageSize:a.pageSize(),sort:a.sort(),filter:a.filter(),group:a.group(),aggregate:a.aggregate()},{filter:i}),a[t?"read":"query"](a._mergeState(n))},_angularElement:function(e,t){e&&this.angular(t,function(){return{elements:e}})},_noData:function(){var e=h(this.noData),t=this.options.noDataTemplate;return this.angular("cleanup",function(){return{elements:e}}),s.destroy(e),e.remove(),t?(this.noData=h('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof t?s.template(t):t):this.noData=null,p},_renderNoData:function(){var e=this.noData;e&&(this._angularElement(e,"cleanup"),e.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(e,"compile"))},_toggleNoData:function(e){h(this.noData).toggle(e)},_toggleHeader:function(e){var t=this.listView.content.prev(x);t.toggle(e)},_footer:function(){var e=h(this.footer),t=this.options.footerTemplate;return this._angularElement(e,"cleanup"),s.destroy(e),e.remove(),t?(this.footer=h('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof t?s.template(t):t):this.footer=null,p},_renderFooter:function(){var e=this.footer;e&&(this._angularElement(e,"cleanup"),e.html(this.footerTemplate({instance:this})),this._angularElement(e,"compile"))},_header:function(){var e,t=h(this.header),i=this.options.headerTemplate;return this._angularElement(t,"cleanup"),s.destroy(t),t.remove(),i?(e="function"!=typeof i?s.template(i):i,t=h(e({})),this.header=t[0]?t:null,this.list.prepend(t),this._angularElement(this.header,"compile")):this.header=null,p},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this.options.value;null!==e?this.element.val(e):(e=this._accessor(),this.options.value=e),this._old=e},_ignoreCase:function(){var e,t=this.dataSource.reader.model;t&&t.fields&&(e=t.fields[this.options.dataTextField])&&e.type&&"string"!==e.type&&(this.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t=this.options,i=t.ignoreCase,n=t.dataTextField,r={value:i?e.word.toLowerCase():e.word,field:n,operator:t.filter,ignoreCase:i};this._open=e.open,this._filterSource(r)},_clearButton:function(){this._clear||(this._clear=h('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="clear"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove()},search:function(e){var t=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!e.length||e.length>=t.minLength)&&(this._state="filter",this._isFilterEnabled()?(this.listView._emptySearch=!h.trim(e).length||!this.listView,this._filter({word:e,open:!0})):this._searchByWord(e))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this.ns;g.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(e),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(e){if(e===p)return this.listView.selectedDataItems()[0];if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(h(e).data("uid"));e=h(this.items()).index(e)}return this.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this.element,t=this.options,i=s.getter,n=e.attr(s.attr("text-field")),r=e.attr(s.attr("value-field"));!t.dataTextField&&n&&(t.dataTextField=n),!t.dataValueField&&r&&(t.dataValueField=r),this._text=i(t.dataTextField),this._value=i(t.dataValueField)},_aria:function(e){var t=this.options,i=this._focused.add(this.filterInput);t.suggest!==p&&i.attr("aria-autocomplete",t.suggest?"both":"list"),e=e?e+" "+this.ul[0].id:this.ul[0].id,i.attr("aria-owns",e),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var e,t=this._focused,i=this.element,n=i.attr("id"),r=h('label[for="'+n+'"]'),a=i.attr("aria-label"),o=i.attr("aria-labelledby");t!==i&&(a?t.attr("aria-label",a):o?t.attr("aria-labelledby",o):r.length&&(e=r.attr("id")||this._generateLabelId(r,n),t.attr("aria-labelledby",e)))},_generateLabelId:function(e,t){var i=t+"_label";return e.attr("id",i),i},_blur:function(){this._change(),this.close()},_change:function(){var e,t=this,i=t.selectedIndex,n=t.options.value,r=t.value();t._isSelect&&!t.listView.bound()&&n&&(r=n),r!==o(t._old,typeof r)?e=!0:t._valueBeforeCascade!==p&&t._valueBeforeCascade!==o(t._old,typeof t._valueBeforeCascade)&&t._userTriggered?e=!0:i===p||i===t._oldIndex||t.listView.isFiltered()||(e=!0),e&&(t._valueBeforeCascade=t._old=null===t._old||""===r?r:t.dataItem()?t.dataItem()[t.options.dataValueField]:null,t._oldIndex=i,t._typing||t.element.trigger(b),t.trigger(b)),t.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this.options,t=this.element.is("[disabled]");e.enable!==p&&(e.enabled=e.enable),!e.enabled||t?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);return t===p&&(t=this._text(e)),t},_offsetHeight:function(){var t=0,e=this.listView.content.prevAll(":visible");return e.each(function(){var e=h(this);t+=l(e,!0)}),t},_height:function(e){var t,i,n,r=this.list,a=this.options.height,o=this.popup.visible();if(e||this.options.noDataTemplate){if(i=r.add(r.parent(".k-animation-container")).show(),!r.is(":visible"))return i.hide(),p;a=this.listView.content[0].scrollHeight>a?a:"auto",i.height(a),"auto"!==a&&(t=this._offsetHeight(),n=l(h(this.footer))||0,a=a-t-n),this.listView.content.height(a),o||i.hide()}return a},_adjustListWidth:function(){var e,t,i=this.list,n=i[0].style.width,r=this.wrapper;if(i.data("width")||!n)return e=window.getComputedStyle?window.getComputedStyle(r[0],null):0,t=parseFloat(e&&e.width)||a(r),e&&E.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n="border-box"!==i.css("box-sizing")?t-(a(i)-i.width()):t,i.css({fontFamily:r.css("font-family"),width:this.options.autoWidth?"auto":n,minWidth:n,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",n),!0},_openHandler:function(e){this._adjustListWidth(),this.trigger("open")?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(e){this.trigger("close")?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,t=!e.focus(),i=c(e.select());i===p&&this.options.highlightFirst&&t&&(i=0),i!==p?e.focus(i):t&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),i=this.listView.content.prev(x),n=0;i[0]&&"none"!==i[0].style.display&&("auto"!==e&&(n=s.support.scrollbar()),n+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("padding-right"),10),i.css("padding-right",n))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t)},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):this.popup.one("open",function(e){return F(function(){this._calculatePopupHeight(e)},this)}.call(this,e)))},_popup:function(){var e=this;e.popup=new t.Popup(e.list,D({},e.options.popup,{anchor:e.wrapper,open:F(e._openHandler,e),close:F(e._closeHandler,e),animation:e.options.animation,isRtl:r.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_makeUnselectable:function(){z&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){h(e.currentTarget).toggleClass(k,"mouseenter"===e.type)},_toggle:function(e,t){var i=r.mobileOS&&(r.touch||r.MSPointers||r.pointers);e=e!==p?e:!this.popup.visible(),t||i||this._focused[0]===v()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[e?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===o(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger(S,{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(b)},_unbindDataSource:function(){this.dataSource.unbind(T,this._requestStartHandler).unbind(I,this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(e,t){var i=(e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t);if(i&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});D(O,{inArray:function(e,t){var i,n,r=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,n=r.length;i<n;i++)if(e===r[i])return i;return-1},unifyType:o}),s.ui.List=O,t.Select=O.extend({init:function(e,t){O.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,i=this;i.options.dataSource=e,i._dataSource(),i.listView.bound()&&(i._initialIndex=null,i.listView._current=null),i.listView.setDataSource(i.dataSource),i.options.autoBind&&i.dataSource.fetch(),(t=i._parentWidget())&&i._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var t=this;return e===p?t.selectedIndex:t._select(e).done(function(){t._cascadeValue=t._old=t._accessor(),t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];return e===p?t.value:(null===e&&(e=""),t.value=e,p)},_accessorSelect:function(e,t){var i=this.element[0];return e===p?f(i).value||"":(f(i).selected=!1,t===p&&(t=-1),null!==e&&""!==e&&-1==t?this._custom(e):e?i.value=e:i.selectedIndex=t,p)},_syncValueAndText:function(){return!0},_custom:function(e){var t=this.element,i=this._customOption;i||(i=h("<option/>"),this._customOption=i,t.append(i)),i.text(e),i[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass(w),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(w),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,t=this,i=t.element,n=t.options,r=n.dataSource||{};r=h.isArray(r)?{data:r}:r,t._isSelect&&(-1<(e=i[0].selectedIndex)&&(n.index=e),r.select=i,r.fields=[{field:n.dataTextField},{field:n.dataValueField}]),t.dataSource?t._unbindDataSource():(t._requestStartHandler=F(t._showBusy,t),t._requestEndHandler=F(t._requestEnd,t),t._errorHandler=F(t._hideBusy,t)),t.dataSource=s.data.DataSource.create(r).bind(T,t._requestStartHandler).bind(I,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var t,i,n,r,a,o,s=this,l=s.listView,d=e.keyCode,c=d===m.DOWN;if(d===m.UP||c){if(e.altKey)s.toggle(c);else{if(!l.bound()&&!s.ul[0].firstChild)return s._fetch||(s.dataSource.one(b,function(){s._fetch=!1,s._move(e)}),s._fetch=!0,s._filterSource()),e.preventDefault(),!0;if(n=s._focus(),s._fetch||n&&!n.hasClass("k-state-selected")||(c?(s._nextItem(),s._focus()||s._lastItem()):(s._prevItem(),s._focus()||s._firstItem())),t=l.dataItemByIndex(l.getElementIndex(s._focus())),s.trigger(C,{dataItem:t,item:s._focus()}))return s._focus(n),p;s._select(s._focus(),!0).done(function(){s.popup.visible()||s._blur(),s._cascadedValue=null===s._cascadedValue?s.value():s.dataItem()?s.dataItem()[s.options.dataValueField]:null})}e.preventDefault(),i=!0}else if(d===m.ENTER||d===m.TAB){if(s.popup.visible()&&e.preventDefault(),n=s._focus(),t=s.dataItem(),s.popup.visible()||t&&s.text()===s._text(t)||(n=null),r=s.filterInput&&s.filterInput[0]===v(),n){if(t=l.dataItemByIndex(l.getElementIndex(n)),a=!0,t&&(a=s._value(t)!==O.unifyType(s.value(),typeof s._value(t))),a&&s.trigger(C,{dataItem:t,item:n}))return;s._select(n)}else s.input&&((s._syncValueAndText()||s._isSelect)&&s._accessor(s.input.val()),s.listView.value(s.input.val()));s._focusElement&&s._focusElement(s.wrapper),r&&d===m.TAB?s.wrapper.focusout():s._blur(),s.close(),i=!0}else d===m.ESC?(s.popup.visible()&&e.preventDefault(),s.close(),i=!0):!s.popup.visible()||d!==m.PAGEDOWN&&d!==m.PAGEUP||(e.preventDefault(),o=d===m.PAGEDOWN?1:-1,l.scrollWith(o*l.screenHeight()),i=!0);return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,t,i){var n,r,a,o,s=this.element,l=s[0],d=e.length,c="",u=0;for(t&&(c=t);u<d;u++)n="<option",r=e[u],a=this._text(r),(o=this._value(r))!==p&&(-1!==(o+="").indexOf('"')&&(o=o.replace(P,"&quot;")),n+=' value="'+o+'"'),n+=">",a!==p&&(n+=_(a)),c+=n+="</option>";s.html(c),i!==p&&(l.value=i,l.value&&!i&&(l.selectedIndex=-1)),-1!==l.selectedIndex&&(n=f(l))&&n.setAttribute("selected","selected")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?h("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=n.on("reset",e._resetHandler))},_parentWidget:function(){var e,t,i=this.options.name;if(this.options.cascadeFrom)return e=h("#"+this.options.cascadeFrom),(t=e.data("kendo"+i))||(t=e.data("kendo"+A[i])),t},_cascade:function(){var e,t=this,i=t.options,n=i.cascadeFrom;if(n){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=F(t._cascadeHandler,t),t._cascadeFilterRequests=[],i.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})}),e.first(S,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()}),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),i=M?"blur":"focusout";t._focused.add(t.filterInput).bind("focus",function(){t.unbind(S,e._cascadeHandlerProxy),t.first(b,e._cascadeHandlerProxy)}),t._focused.add(t.filterInput).bind(i,function(){t.unbind(b,e._cascadeHandlerProxy),t.first(S,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget(),i=this.value();this._userTriggered=e.userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this,i=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):i?(i!==t.listView.value()[0]&&t.value(i),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(t,e){var i,n=this,r=t.dataItem(),a=r?r[n.options.cascadeFromField]||t._value(r):null,o=n.options.cascadeFromField||t.options.dataValueField;n._valueBeforeCascade=e!==p?e:n.value(),a||0===a?(u(n.dataSource.filter()||{},o),i=function(){var e=n._cascadeFilterRequests.shift();e&&n.unbind("dataBound",e),(e=n._cascadeFilterRequests[0])&&n.first("dataBound",e),n._cascadeChange(t)},n._cascadeFilterRequests.push(i),1===n._cascadeFilterRequests.length&&n.first("dataBound",i),n._cascading=!0,n._filterSource({field:o,operator:"eq",value:a}),n._cascading=!1):(n.enable(!1),n._clearSelection(t),n._triggerCascade(),n._triggerChange(),n._userTriggered=!1)}}),n=".StaticList",e=s.ui.DataBoundWidget.extend({init:function(e,t){g.fn.init.call(this,e,t),this.element.attr("role","listbox").on("click"+n,"li",F(this._click,this)).on("mouseenter"+n,"li",function(){h(this).addClass(k)}).on("mouseleave"+n,"li",function(){h(this).removeClass(k)}),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=s.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=h.isArray(i)?i.slice(0):[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=F(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",b,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(e){var t,i=this,n=e||{};n=h.isArray(n)?{data:n}:n,n=s.data.DataSource.create(n),i.dataSource?(i.dataSource.unbind(b,i._refreshHandler),t=i.value(),i.value([]),i.bound(!1),i.value(t)):i._refreshHandler=F(i.refresh,i),i.setDSFilter(n.filter()),i.dataSource=n.bind(b,i._refreshHandler),i._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(e){g.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(n),this._refreshHandler&&this.dataSource.unbind(b,this._refreshHandler),clearTimeout(this._scrollId),g.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],i=e.offsetTop,n=e.offsetHeight,r=t.scrollTop,a=t.clientHeight,o=i+n;i<r?r=i:r+a<o&&(r=o-a),t.scrollTop=r}},selectedDataItems:function(e){return e===p?this._dataItems.slice():(this._dataItems=e,this._values=this._getValues(e),p)},_getValues:function(e){var t=this._valueGetter;return h.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(c(this.element[0].children))},focus:function(e){var t,i=this._optionID;return e===p?this._current:(e=c(this._get(e)),e=h(this.element[0].children[e]),this._current&&(this._current.removeClass(y).removeAttr("id"),this.trigger("deactivate")),(t=!!e[0])&&(e.addClass(y),this.scroll(e),e.attr("id",i)),this._current=t?e:null,this.trigger("activate"),p)},focusIndex:function(){return this.focus()?this.focus().index():p},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t,i,n,r=this,a=r.options.selectable,o="multiple"!==a&&!1!==a,s=r._selectedIndices,l=[],d=[];return e===p?s.slice():(1===(e=r._get(e)).length&&-1===e[0]&&(e=[]),i=h.Deferred().resolve(),(n=r.isFiltered())&&!o&&r._deselectFiltered(e)||(o&&!n&&-1!==h.inArray(c(e),s)?r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[s[0]].item]):(t=r._deselect(e),d=t.removed,(e=t.indices).length&&(o&&(e=[c(e)]),l=r._select(e)),(l.length||d.length)&&(r._valueComparer=null,r.trigger(b,{added:l,removed:d})))),i)},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=h.isArray(e)||e instanceof i?e.slice(0):[e],this._values=e,this._valueComparer=null},value:function(e){var t,i=this,n=i._valueDeferred;return e===p?i._values.slice():(i.setValue(e),n&&"resolved"!==n.state()||(i._valueDeferred=n=h.Deferred()),i.bound()&&(t=i._valueIndices(i._values),"multiple"===i.options.selectable&&i.select(-1),i.select(t),n.resolve()),i._skipUpdate=!1,n)},items:function(){return this.element.children(".k-item")},_click:function(e){e.isDefaultPrevented()||this.trigger("click",{item:h(e.currentTarget)})||this.select(e.currentTarget)},_valueExpr:function(e,t){var i,n,r=0,a=[];if(!this._valueComparer||this._valueType!==e){for(this._valueType=e;r<t.length;r++)a.push(o(t[r],e));i="for (var idx = 0; idx < "+a.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=Function("current","values",i),this._valueComparer=function(e){return n(e,a)}}return this._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e),n=this._valueExpr(typeof i,t);return n(i)},_getter:function(){this._valueGetter=s.getter(this.options.dataValueField)},_deselect:function(e){var t,i,n,r=this.element[0].children,a=this.options.selectable,o=this._selectedIndices,s=this._dataItems,l=this._values,d=[],c=0,u=0;if(e=e.slice(),!0!==a&&e.length){if("multiple"===a)for(;c<e.length;c++)if(i=e[c],h(r[i]).hasClass("k-state-selected"))for(t=0;t<o.length;t++)if((n=o[t])===i){h(r[n]).removeClass("k-state-selected").attr("aria-selected",!1),d.push({position:t+u,dataItem:s.splice(t,1)[0]}),o.splice(t,1),e.splice(c,1),l.splice(t,1),u+=1,c-=1,t-=1;break}}else{for(;c<o.length;c++)h(r[o[c]]).removeClass("k-state-selected").attr("aria-selected",!1),d.push({position:c,dataItem:s[c]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:e,removed:d}},_deselectFiltered:function(e){for(var t,i,n,r=this.element[0].children,a=[],o=0;o<e.length;o++)i=e[o],t=this._view[i].item,-1<(n=this._dataItemPosition(t,this._values))&&(a.push(this.removeAt(n)),h(r[i]).removeClass("k-state-selected"));return!!a.length&&(this.trigger(b,{added:[],removed:a}),!0)},_select:function(e){var t,i,n=this.element[0].children,r=this._view,a=[],o=0;for(-1!==c(e)&&this.focus(e);o<e.length;o++)i=e[o],t=r[i],-1!==i&&t&&(t=t.item,this._selectedIndices.push(i),this._dataItems.push(t),this._values.push(this._valueGetter(t)),h(n[i]).addClass("k-state-selected").attr("aria-selected",!0),a.push({dataItem:t}));return a},getElementIndex:function(e){return h(e).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:H(e)||(e=[(e=this.getElementIndex(e))!==p?e:-1]),e},_template:function(){var e=this.options,t=e.template;return t?(t=s.template(t),t=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+t(e)+"</li>"}):t=s.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+s.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1}),t},_templates:function(){var e,t,i=this.options,n={template:i.template,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate};for(t in n)(e=n[t])&&"function"!=typeof e&&(n[t]=s.template(e));this.templates=n},_normalizeIndices:function(e){for(var t=[],i=0;i<e.length;i++)e[i]!==p&&t.push(e[i]);return t},_valueIndices:function(e,t){var i,n=this._view,r=0;if(t=t?t.slice():[],!e.length)return[];for(;r<n.length;r++)-1!==(i=this._dataItemPosition(n[r].item,e))&&(t[i]=r);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var e=this.element[0],t=this.content[0],i=t.scrollTop,n=h(e.children[0]).height(),r=Math.floor(i/n)||0,a=e.children[r]||e.lastChild,o=a.offsetTop<i;a;)if(o){if(a.offsetTop+n>i||!a.nextSibling)break;a=a.nextSibling}else{if(a.offsetTop<=i||!a.previousSibling)break;a=a.previousSibling}return this._view[h(a).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem())&&e.group&&this.header.html(t(e.group))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',i=e.item,n=0!==e.index,r=e.selected;return n&&e.newGroup&&(t+=" k-first"),r&&(t+=" k-state-selected"),t+='" aria-selected="'+(r?"true":"false")+'" data-offset-index="'+e.index+'">',t+=this.templates.template(i),n&&e.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>"),t+"</li>"},_render:function(){var e,t,i,n,r="",a=0,o=0,s=[],l=this.dataSource.view(),d=this.value(),c=this.isGrouped();if(c)for(a=0;a<l.length;a++)for(t=l[a],i=!0,n=0;n<t.items.length;n++)e={selected:this._selected(t.items[n],d),item:t.items[n],group:t.value,newGroup:i,index:o},s[o]=e,o+=1,r+=this._renderItem(e),i=!1;else for(a=0;a<l.length;a++)e={selected:this._selected(l[a],d),item:l[a],index:a},s[a]=e,r+=this._renderItem(e);this._view=s,this.element[0].innerHTML=r,c&&s.length&&this._renderHeader()},_selected:function(e,t){var i=!this.isFiltered()||"multiple"===this.options.selectable;return i&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(e){this._lastDSFilter=D({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!s.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,i=this,n=e&&e.action,r=i.options.skipUpdateOnBind,a="itemchange"===n;i.trigger("dataBinding"),i._angularItems("cleanup"),i._fixedHeader(),i._render(),i.bound(!0),a||"remove"===n?(t=function(e,t){var i,n,r,a,o=t.length,s=e.length,l=[],d=[];if(s)for(r=0;r<s;r++){for(i=e[r],n=!1,a=0;a<o;a++)if(i===t[a]){n=!0,l.push({index:r,item:i});break}n||d.push(i)}return{changed:l,unchanged:d}}(i._dataItems,e.items)).changed.length&&(a?i.trigger("selectedItemChange",{items:t.changed}):i.value(i._getValues(t.unchanged))):i.isFiltered()||i._skipUpdate||i._emptySearch?(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._selectedIndices=i._valueIndices(i._values,i._selectedIndices))):r||n&&"add"!==n||i.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i._angularItems("compile"),i.trigger("dataBound")},bound:function(e){return e===p?this._bound:(this._bound=e,p)},isGrouped:function(){return(this.dataSource.group()||[]).length}}),t.plugin(e)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.popup.min",["kendo.core.min"],function(){return function(E,s){function l(e,t){return!(!e||!t)&&(e===t||E.contains(e,t))}var n,t,e,M=window.kendo,i=M.ui,r=i.Widget,a=M.Class,z=M.support,P=M.getOffset,A=M._outerWidth,O=M._outerHeight,o="deactivate",v="center",b="right",y="bottom",R="absolute",c="hidden",L="location",V="position",d="k-state-active",u="k-state-border",h=/k-state-border-(\w+)/,p=".k-picker-wrap, .k-dropdown-wrap, .k-link",f=E(document.documentElement),g=E.proxy,m=E(window),_=z.transitions.css,k=_+"transform",N=E.extend,w=".kendoPopup",x=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],S=r.extend({init:function(e,t){var i,n=this;(t=t||{}).isRtl&&(t.origin=t.origin||y+" "+b,t.position=t.position||"top "+b),r.fn.init.call(n,e,t),e=n.element,t=n.options,n.collisions=t.collision?t.collision.split(" "):[],n.downEvent=M.applyEventMap("down",M.guid()),1===n.collisions.length&&n.collisions.push(n.collisions[0]),i=E(n.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),t.appendTo=E(E(t.appendTo)[0]||i[0]||document.body),n.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:R}).appendTo(t.appendTo).attr("aria-hidden",!0).on("mouseenter"+w,function(){n._hovered=!0}).on("wheel"+w,function(e){var t=E(e.target).find(".k-list"),i=t.parent();t.length&&t.is(":visible")&&(0===i.scrollTop()&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&0<e.originalEvent.deltaY)&&e.preventDefault()}).on("mouseleave"+w,function(){n._hovered=!1}),n.wrapper=E(),!1===t.animation&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),N(t.animation.open,{complete:function(){n.wrapper.css({overflow:"visible"}),n._activated=!0,n._trigger("activate")}}),N(t.animation.close,{complete:function(){n._animationClose()}}),n._mousedownProxy=function(e){n._mousedown(e)},n._resizeProxy=z.mobileOS.android?function(e){setTimeout(function(){n._resize(e)},600)}:function(e){n._resize(e)},t.toggleTarget&&E(t.toggleTarget).on(t.toggleEvent+w,E.proxy(n.toggle,n))},events:["open","activate","close",o],options:{name:"Popup",toggleEvent:"click",origin:y+" left",position:"top left",anchor:"body",appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this.wrapper.data(L);this.wrapper.hide(),e&&this.wrapper.css(e),"body"!=this.options.anchor&&this._hideDirClass(),this._closing=!1,this._trigger(o)},destroy:function(){var e,t=this.options,i=this.element.off(w);r.fn.destroy.call(this),t.toggleTarget&&E(t.toggleTarget).off(w),t.modal||(f.unbind(this.downEvent,this._mousedownProxy),this._toggleResize(!1)),M.destroy(this.element.children()),i.removeData(),t.appendTo[0]===document.body&&((e=i.parent(".k-animation-container"))[0]?e.remove():i.remove())},open:function(e,t){var i,n,r=this,a={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},o=r.element,s=r.options,l=E(s.anchor),d=o[0]&&o.hasClass("km-widget");if(!r.visible()){if(s.copyAnchorStyles&&(d&&"font-size"==x[0]&&x.shift(),o.css(M.getComputedStyles(l[0],x))),o.data("animating")||r._trigger("open"))return;r._activated=!1,s.modal||(f.unbind(r.downEvent,r._mousedownProxy).bind(r.downEvent,r._mousedownProxy),r._toggleResize(!1),r._toggleResize(!0)),r.wrapper=n=M.wrap(o,s.autosize).css({overflow:c,display:"block",position:R}).attr("aria-hidden",!1),z.mobileOS.android&&n.css(k,"translatez(0)"),n.css(V),E(s.appendTo)[0]==document.body&&n.css("top","-10000px"),r.flipped=r._position(a),i=r._openAnimation(),"body"!=s.anchor&&r._showDirClass(i),o.data("effects",i.effects).kendoStop(!0).kendoAnimate(i).attr("aria-hidden",!1)}},_location:function(e){var t,i,n=this.element,r=this.options,a=E(r.anchor),o=n[0]&&n.hasClass("km-widget");return r.copyAnchorStyles&&(o&&"font-size"==x[0]&&x.shift(),n.css(M.getComputedStyles(a[0],x))),this.wrapper=t=M.wrap(n,r.autosize).css({overflow:c,display:"block",position:R}),z.mobileOS.android&&t.css(k,"translatez(0)"),t.css(V),E(r.appendTo)[0]==document.body&&t.css("top","-10000px"),this._position(e||{}),i=t.offset(),{width:M._outerWidth(t),height:M._outerHeight(t),left:i.left,top:i.top}},_openAnimation:function(){var e=N(!0,{},this.options.animation.open);return e.effects=M.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var e=E(this.options.anchor),t=((e.attr("class")||"").match(h)||["","down"])[1],i=u+"-"+t;e.removeClass(i).children(p).removeClass(d).removeClass(i),this.element.removeClass(u+"-"+M.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down",i=u+"-"+t;E(this.options.anchor).addClass(i).children(p).addClass(d).addClass(i),this.element.addClass(u+"-"+M.directions[t].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?"close":"open"]()},visible:function(){return this.element.is(":visible")},close:function(i){var e,t,n,r,a=this,o=a.options;if(a.visible()){if(e=a.wrapper[0]?a.wrapper:M.wrap(a.element).hide(),a._toggleResize(!1),a._closing||a._trigger("close"))return a._toggleResize(!0),s;a.element.find(".k-popup").each(function(){var e=E(this),t=e.data("kendoPopup");t&&t.close(i)}),f.unbind(a.downEvent,a._mousedownProxy),i?t={hide:!0,effects:{}}:(t=N(!0,{},o.animation.close),n=a.element.data("effects"),!(r=t.effects)&&!M.size(r)&&n&&M.size(n)&&(t.effects=n,t.reverse=!0),a._closing=!0),a.element.kendoStop(!0).attr("aria-hidden",!0),e.css({overflow:c}).attr("aria-hidden",!0),a.element.kendoAnimate(t),i&&a._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;-1!==z.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",i=z.resize;z.mobileOS.ios||z.mobileOS.android||(i+=" scroll"),this._scrollableParents()[t]("scroll",this._resizeProxy),m[t](i,this._resizeProxy)},_mousedown:function(e){var t=this.element[0],i=this.options,n=E(i.anchor)[0],r=i.toggleTarget,a=M.eventTarget(e),o=E(a).closest(".k-popup"),s=o.parent().parent(".km-shim").length;o=o[0],!s&&o&&o!==this.element[0]||"popover"!==E(e.target).closest("a").data("rel")&&(l(t,a)||l(n,a)||r&&l(E(r)[0],a)||this.close())},_fit:function(e,t,i){var n=0;return i<e+t&&(n=i-(e+t)),e<0&&(n=-e),n},_flip:function(e,t,i,n,r,a,o){var s=0;return o=o||t,a!==r&&a!==v&&r!==v&&(n<e+o&&(s+=-(i+t)),e+s<0&&(s+=i+t)),s},_scrollableParents:function(){return E(this.options.anchor).parentsUntil("body").filter(function(e,t){return M.isScrollable(t)})},_position:function(e){var t,i,n,r,a,o,s,l,d,c,u,h,p,f,g,m,_=this,v=_.element,b=_.wrapper,y=_.options,k=E(y.viewport),w=z.zoomLevel(),x=!!(k[0]==window&&window.innerWidth&&w<=1.02),S=E(y.anchor),C=y.origin.toLowerCase().split(" "),T=y.position.toLowerCase().split(" "),I=_.collisions,D=10002,F=0,H=document.documentElement;if(a=y.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:k.offset(),x?(o=window.innerWidth,s=window.innerHeight):(o=k.width(),s=k.height()),x&&0<H.scrollHeight-H.clientHeight&&(l=y.isRtl?-1:1,o-=l*M.support.scrollbar()),(t=S.parents().filter(b.siblings()))[0])if(n=Math.max(+t.css("zIndex"),0))D=n+10;else for(i=S.parentsUntil(t),r=i.length;F<r;F++)(n=+E(i[F]).css("zIndex"))&&D<n&&(D=n+10);return b.css("zIndex",D),b.css(e&&e.isFixed?{left:e.x,top:e.y}:_._align(C,T)),d=P(b,V,S[0]===b.offsetParent()[0]),c=P(b),S.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(d=P(b,V,!0),c=P(b)),c.top-=a.top,c.left-=a.left,_.wrapper.data(L)||b.data(L,N({},d)),u=N({},c),h=N({},d),p=y.adjustSize,"fit"===I[0]&&(h.top+=_._fit(u.top,O(b)+p.height,s/w)),"fit"===I[1]&&(h.left+=_._fit(u.left,A(b)+p.width,o/w)),f=N({},h),g=O(v),m=O(b),!b.height()&&g&&(m+=g),"flip"===I[0]&&(h.top+=_._flip(u.top,g,O(S),s/w,C[0],T[0],m)),"flip"===I[1]&&(h.left+=_._flip(u.left,A(v),A(S),o/w,C[1],T[1],A(b))),v.css(V,R),b.css(h),h.left!=f.left||h.top!=f.top},_align:function(e,t){var i,n=this.wrapper,r=E(this.options.anchor),a=e[0],o=e[1],s=t[0],l=t[1],d=P(r),c=E(this.options.appendTo),u=A(n),h=O(n)||O(n.children().first()),p=A(r),f=O(r),g=d.top,m=d.left,_=Math.round;return c[0]!=document.body&&(i=P(c),g-=i.top,m-=i.left),a===y&&(g+=f),a===v&&(g+=_(f/2)),s===y&&(g-=h),s===v&&(g-=_(h/2)),o===b&&(m+=p),o===v&&(m+=_(p/2)),l===b&&(m-=u),l===v&&(m-=_(u/2)),{top:g,left:m}}});i.plugin(S),n=M.support.stableSort,t="kendoTabKeyTrap",e=a.extend({init:function(e){this.element=E(e),this.element.autoApplyNS(t)},trap:function(){this.element.on("keydown",g(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(t)},destroy:function(){this.element.kendoDestroy(t),this.element=s},shouldTrap:function(){return!0},_keepInTrap:function(e){var t,i,n;9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()&&(t=this._focusableElements(),i=this._sortFocusableElements(t),n=this._nextFocusable(e,i),this._focus(n),e.preventDefault())},_focusableElements:function(){var e=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter(function(e,t){return 0<=t.tabIndex&&E(t).is(":visible")&&!E(t).is("[disabled]")});return this.element.is("[tabindex]")&&e.push(this.element[0]),e},_sortFocusableElements:function(e){var t,i;return n?t=e.sort(function(e,t){return e.tabIndex-t.tabIndex}):(i="__k_index",e.each(function(e,t){t.setAttribute(i,e)}),t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex}),e.removeAttr(i)),t},_nextFocusable:function(e,t){var i=t.length,n=t.index(e.target);return t.get((n+(e.shiftKey?-1:1))%i)},_focus:function(e){return"IFRAME"==e.nodeName?e.contentWindow.document.body.focus():(e.focus(),"INPUT"==e.nodeName&&e.setSelectionRange&&this._haveSelectionRange(e)&&e.setSelectionRange(0,e.value.length)),s},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}}),i.Popup.TabKeyTrap=e}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],function(){return function(o,l){function r(e,t,i){for(var n,r=0,a=t.length-1;r<a;++r)(n=t[r])in e||(e[n]={}),e=e[n];e[t[a]]=i}function d(e,t){return t<=e&&(e-=t),e}var s=window.kendo,e=s.ui,a=e.List,c=e.Select,u=s.support,h=s._activeElement,p=s.data.ObservableObject,f=s.keys,g=".kendoDropDownList",m="change",t="k-state-focused",_="k-state-default",v="k-state-disabled",b="aria-disabled",y="mouseenter"+g+" mouseleave"+g,k="tabindex",w="filter",x="accept",S=o.proxy,i=c.extend({init:function(e,t){var i,n,r=this,a=t&&t.index;r.ns=g,t=o.isArray(t)?{dataSource:t}:t,c.fn.init.call(r,e,t),t=r.options,e=r.element.on("focus"+g,S(r._focusHandler,r)),r._focusInputHandler=o.proxy(r._focusInput,r),r.optionLabel=o(),r._optionLabel(),r._inputTemplate(),r._reset(),r._prev="",r._word="",r._wrapper(),r._tabindex(),r.wrapper.data(k,r.wrapper.attr(k)),r._span(),r._popup(),r._mobile(),r._dataSource(),r._ignoreCase(),r._filterHeader(),r._aria(),r.wrapper.attr("aria-live","polite"),r._enable(),r._oldIndex=r.selectedIndex=-1,a!==l&&(t.index=a),r._initialIndex=t.index,r.requireValueMapper(r.options),r._initList(),r._cascade(),r.one("set",function(e){!e.sender.listView.bound()&&r.hasOptionLabel()&&r._textAccessor(r._optionLabelText())}),t.autoBind?r.dataSource.fetch():-1===r.selectedIndex&&((n=t.text||"")||((i=t.optionLabel)&&0===t.index?n=i:r._isSelect&&(n=e.children(":selected").text())),r._textAccessor(n)),o(r.element).parents("fieldset").is(":disabled")&&r.enable(!1),r.listView.bind("click",function(e){e.preventDefault()}),s.notify(r)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1},events:["open","close",m,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){c.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){c.fn.destroy.call(this),this.wrapper.off(g),this.element.off(g),this._inputWrapper.off(g),this._arrow.off(),this._arrow=null,this._arrowIcon=null,this.optionLabel.off()},open:function(){var e=this,t=!!e.dataSource.filter()&&0<e.dataSource.filter().filters.length;e.popup.visible()||(e.listView.bound()&&e._state!==x?e._allowOpening()&&(e._focusFilter=!0,e.popup.one("activate",e._focusInputHandler),e.popup._hovered=!0,e.popup.open(),e._resizeFilterInput(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e.filterInput&&1!==e.options.minLength&&!t?(e.refresh(),e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._resizeFilterInput()):e._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e,t,i=this.filterInput,n=this._prevent;i&&(e=this.filterInput[0]===h(),t=s.caret(this.filterInput[0])[0],this._prevent=!0,i.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),e&&(i.focus(),s.caret(i[0],t)),this._prevent=n)},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||c.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,!0)},current:function(e){var t;return e===l?!(t=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:t:(this._focus(e),l)},dataItem:function(e){var t=null;if(null===e)return e;if(e===l)t=this.listView.selectedDataItems()[0];else{if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(o(e).data("uid"));e=e.hasClass("k-list-optionlabel")?-1:o(this.items()).index(e)}else this.hasOptionLabel()&&(e-=1);t=this.dataSource.flatView()[e]}return t||(t=this._optionLabelDataItem()),t},refresh:function(){this.listView.refresh()},text:function(e){var t,i=this,n=i.options.ignoreCase;return(e=null===e?"":e)===l?i._textAccessor():("string"!=typeof e?i._textAccessor(e):(t=n?e.toLowerCase():e,i._select(function(e){return e=i._text(e),n&&(e=(e+"").toLowerCase()),e===t}).done(function(){i._textAccessor(i.dataItem()||e)})),l)},_clearFilter:function(){o(this.filterInput).val(""),c.fn._clearFilter.call(this)},value:function(e){var t=this,i=t.listView,n=t.dataSource;return e===l?(e=t._accessor()||t.listView.value()[0])===l||null===e?"":e:(t.requireValueMapper(t.options,e),!e&&t.hasOptionLabel()||(t._initialIndex=null),this.trigger("set",{value:e}),t._request&&t.options.cascadeFrom&&t.listView.bound()?(t._valueSetter&&n.unbind(m,t._valueSetter),t._valueSetter=S(function(){t.value(e)},t),n.one(m,t._valueSetter)):(t._isFilterEnabled()&&i.bound()&&i.isFiltered()?t._clearFilter():t._fetchData(),i.value(e).done(function(){t._old=t._accessor(),t._oldIndex=t.selectedIndex})),l)},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this,t=e.options,i=t.optionLabel,n=t.optionLabelTemplate;return i?(n||(n="#:",n+="string"==typeof i?"data":s.expr(t.dataTextField,"data"),n+="#"),"function"!=typeof n&&(n=s.template(n)),e.optionLabelTemplate=n,e.hasOptionLabel()||(e.optionLabel=o('<div class="k-list-optionlabel"></div>').prependTo(e.list)),e.optionLabel.html(n(i)).off().click(S(e._click,e)).on(y,e._toggleHover),e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})):(e.optionLabel.off().remove(),e.optionLabel=o()),l},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_optionLabelDataItem:function(){var e=this.options.optionLabel;return this.hasOptionLabel()?o.isPlainObject(e)?new p(e):this._assignInstance(this._optionLabelText(),""):l},_buildOptions:function(e){var t,i,n;this._isSelect&&(t=this.listView.value()[0],i=this._optionLabelDataItem(),n=i&&this._value(i),t!==l&&null!==t||(t=""),i&&(n!==l&&null!==n||(n=""),i='<option value="'+n+'">'+this._text(i)+"</option>"),this._options(e,i,t),t!==a.unifyType(this._accessor(),typeof t)&&(this._customOption=null,this._custom(t)))},_listBound:function(){var e,t=this,i=t._initialIndex,n=t._state===w,r=t.dataSource.flatView();t._presetValue=!1,t._renderFooter(),t._renderNoData(),t._toggleNoData(!r.length),t._resizePopup(!0),t.popup.position(),t._buildOptions(r),t._makeUnselectable(),n||(t._open&&t.toggle(t._allowOpening()),t._open=!1,t._fetch||(r.length?(!t.listView.value().length&&-1<i&&null!==i&&t.select(i),t._initialIndex=null,(e=t.listView.selectedDataItems()[0])&&t.text()!==t._text(e)&&t._selectValue(e)):t._textAccessor()!==t._optionLabelText()&&(t.listView.value(""),t._selectValue(null),t._oldIndex=t.selectedIndex))),t._hideBusy(),t.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(t),this._prevent=!1},_focusoutHandler:function(){var e=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),u.mobileOS.ios&&e?this._change():this._blur(),this._inputWrapper.removeClass(t),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(e){var t=this,i=t.element,n=e.disable,r=e.readonly,a=t.wrapper.add(t.filterInput).off(g),o=t._inputWrapper.off(y);r||n?n?(a.removeAttr(k),o.addClass(v).removeClass(_)):(o.addClass(_).removeClass(v),a.on("focusin"+g,S(t._focusinHandler,t)).on("focusout"+g,S(t._focusoutHandler,t))):(i.removeAttr("disabled").removeAttr("readonly"),o.addClass(_).removeClass(v).on(y,t._toggleHover),a.attr(k,a.data(k)).attr(b,!1).on("keydown"+g,S(t._keydown,t)).on("focusin"+g,S(t._focusinHandler,t)).on("focusout"+g,S(t._focusoutHandler,t)).on("mousedown"+g,S(t._wrapperMousedown,t)).on("paste"+g,S(t._filterPaste,t)),t.wrapper.on("click"+g,S(t._wrapperClick,t)),t.filterInput||a.on("keypress"+g,S(t._keypress,t))),i.attr("disabled",n).attr("readonly",r),a.attr(b,n)},_keydown:function(e){var t,i,n,r=this,a=e.keyCode,o=e.altKey,s=r.popup.visible();if(r.filterInput&&(t=r.filterInput[0]===h()),a===f.LEFT?(a=f.UP,i=!0):a===f.RIGHT&&(a=f.DOWN,i=!0),!i||!t){if(e.keyCode=a,(o&&a===f.UP||a===f.ESC)&&r._focusElement(r.wrapper),r._state===w&&a===f.ESC&&(r._clearFilter(),r._open=!1,r._state=x),a===f.ENTER&&r._typingTimeout&&r.filterInput&&s)return e.preventDefault(),l;if(a!==f.SPACEBAR||t||(r.toggle(!s),e.preventDefault()),!(i=r._move(e))){if((!s||!r.filterInput)&&(n=r._focus(),a===f.HOME?(i=!0,r._firstItem()):a===f.END&&(i=!0,r._lastItem()),i)){if(r.trigger("select",{dataItem:r._getElementDataItem(r._focus()),item:r._focus()}))return r._focus(n),l;r._select(r._focus(),!0).done(function(){s||r._blur()}),e.preventDefault()}o||i||!r.filterInput||r._search()}}},_matchText:function(e,t){var i=this.options.ignoreCase;return e!==l&&null!==e&&(e+="",i&&(e=e.toLowerCase()),0===e.indexOf(t))},_shuffleData:function(e,t){var i=this._optionLabelDataItem();return i&&(e=[i].concat(e)),e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t,e,i,n=this,r=n.dataSource.flatView(),a=r.length+(n.hasOptionLabel()?1:0),o=function(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0}(n._word,n._last),s=n.selectedIndex;for(s=-1===s?0:d(s+=o?1:0,a),r=r.toJSON?r.toJSON():r.slice(),r=n._shuffleData(r,s),i=0;i<a&&(e=n._text(r[i]),!o||!n._matchText(e,n._last))&&!n._matchText(e,n._word);i++);i!==a&&(t=n._focus(),n._select(d(s+i,a)).done(function(){var e=function(){n.popup.visible()||n._change()};n.trigger("select",{dataItem:n._getElementDataItem(n._focus()),item:n._focus()})?n._select(t).done(e):e()}))},_keypress:function(e){var t;0!==e.which&&e.keyCode!==s.keys.ENTER&&(t=String.fromCharCode(e.charCode||e.keyCode),this.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this._word+=t,this._last=t,this._search())},_popupOpen:function(){var e=this.popup;e.wrapper=s.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){c.fn._popup.call(this),this.popup.one("open",S(this._popupOpen,this))},_getElementDataItem:function(e){return e&&e[0]?e[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(e)):null},_click:function(e){var t=this,i=e.item||o(e.currentTarget);return e.preventDefault(),t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})?t.close():(t._userTriggered=!0,t._select(i).done(function(){t._focusElement(t.wrapper),t._blur()})),l},_focusElement:function(e){var t=h(),i=this.wrapper,n=this.filterInput,r=e===n?i:n,a=u.mobileOS&&(u.touch||u.MSPointers||u.pointers);n&&n[0]===e[0]&&a||n&&(r[0]===t||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=e.focus())},_searchByWord:function(t){var i;t&&((i=this).options.ignoreCase&&(t=t.toLowerCase()),i._select(function(e){return i._matchText(i._text(e),t)}))},_inputValue:function(){return this.text()},_search:function(){var t=this,e=t.dataSource;if(clearTimeout(t._typingTimeout),t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();t._prev!==e&&(t._prev=e,t.search(e),t._resizeFilterInput()),t._typingTimeout=null},t.options.delay);else{if(t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay),!t.listView.bound())return e.fetch().done(function(){t._selectNext()}),l;t._selectNext()}},_get:function(e){var t,i,n,r="function"==typeof e,a=r?o():o(e);if(this.hasOptionLabel()&&("number"==typeof e?-1<e&&(e-=1):a.hasClass("k-list-optionlabel")&&(e=-1)),r){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return e},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var e=this.options,t=this.listView,i=t.focus(),n=t.select();(n=n[n.length-1])===l&&e.highlightFirst&&!i&&(n=0),n!==l?t.focus(n):!e.optionLabel||e.virtual&&"dataItem"===e.virtual.mapValueTo?t.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel))},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView,i=this.optionLabel;return e===l?(!(e=t.focus())&&i.hasClass("k-state-focused")&&(e=i),e):(this._resetOptionLabel(),e=this._get(e),t.focus(e),-1===e&&(i.addClass("k-state-focused").attr("id",t._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID)),l)},_select:function(e,t){var i=this;return e=i._get(e),i.listView.select(e).done(function(){t||i._state!==w||(i._state=x),-1===e&&i._selectValue(null)})},_selectValue:function(e){var t=this,i=t.options.optionLabel,n=t.listView.select(),r="",a="";(n=n[n.length-1])===l&&(n=-1),this._resetOptionLabel(" k-state-selected"),e||0===e?(a=e,r=t._dataValue(e),i&&(n+=1)):i&&(t._focus(t.optionLabel.addClass("k-state-selected")),a=t._optionLabelText(),r="string"==typeof i?"":t._value(i),n=0),t.selectedIndex=n,null===r&&(r=""),t._textAccessor(a),t._accessor(r,n),t._triggerCascade()},_mobile:function(){var e=this.popup,t=u.mobileOS,i=e.element.parents(".km-root").eq(0);i.length&&t&&(e.options.animation.open.effects=t.android||t.meego?"fadeIn":t.ios||t.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(g).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this.filterInput=o('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(o('<span class="k-list-filter" />').append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>'))))},_span:function(){var e,t=this.wrapper,i="span.k-input";(e=t.find(i))[0]||(t.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),e=t.find(i)),this.span=e,this._inputWrapper=o(t[0].firstChild),this._arrow=t.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parent()).is("span.k-widget")||((e=t.wrap("<span />").parent())[0].style.cssText=i.style.cssText,e[0].title=i.title),this._focused=this.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var e=this.options.valueTemplate;if(e=e?s.template(e):o.proxy(s.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=e,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(e){throw Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(e){var t,i=null,n=this.valueTemplate,r=this._optionLabelText(),a=this.span;if(e===l)return a.text();o.isPlainObject(e)||e instanceof p?i=e:r&&r===e&&(i=this.options.optionLabel),i||(i=this._assignInstance(e,this._accessor())),this.hasOptionLabel()&&(i!==r&&this._text(i)!==r||(n=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(i=r))),t=function(){return{elements:a.get(),data:[{dataItem:i}]}},this.angular("cleanup",t);try{a.html(n(i))}catch(e){a.html("")}this.angular("compile",t)},_preselect:function(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(e,t){var i=this.options.dataTextField,n={};return i?(r(n,i.split("."),e),r(n,this.options.dataValueField.split("."),t),n=new p(n)):n=e,n}});e.plugin(i)}(window.kendo.jQuery),window.kendo});